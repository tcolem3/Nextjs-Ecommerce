(()=>{var e={};e.id=220,e.ids=[220],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},66541:e=>{"use strict";e.exports=require("@prisma/client/runtime/library")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},93335:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var t=s(70260),a=s(28203),i=s(25155),n=s.n(i),o=s(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(r,d);let l=["",{children:["(auth)",{children:["sign-up",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,88808)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(auth)\\sign-up\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,17509)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(auth)\\layout.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,19611)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,82819)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,61129)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(auth)\\sign-up\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(auth)/sign-up/page",pathname:"/sign-up",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},87937:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"0041061ba5e3b6d0936cd61fbecddc17b8c23f81ed":()=>A,"60214fc46e351a83723c4e63b39e498fe69676b5ca":()=>E,"6076f8d318fdf5837c18b232d3912ca52665d432e4":()=>R});var t=s(21590);s(70376);var a=s(16500);async function i(e){if("ZodError"===e.name)return Object.keys(e.errors).map(r=>e.errors[r].message).join(".");if("PrismaClientKnownRequestError"!==e.name||"P2002"!==e.code)return"string"==typeof e.message?e.message:JSON.stringify(e.message);{let r=e.meta?.target?e.meta.target[0]:"Field";return`${r.charAt(0).toUpperCase()+r.slice(1)} already exist`}}let n=a.z.string().refine(e=>/^\d+(\.\d{2})?$/.test(function(e){let[r,s]=e.toString().split(".");return s?`${r}.${s.padEnd(2,"0")}`:`${r}.00`}(Number(e))),"Price must have exactly two decimal places");a.z.object({name:a.z.string().min(3,"Name must be at least 3 characters"),slug:a.z.string().min(3,"Slug must be at least 3 characters"),category:a.z.string().min(3,"Category must be at least 3 characters"),brand:a.z.string().min(3,"Brand must be at least 3 characters"),description:a.z.string().min(3,"Description must be at least 3 characters"),stock:a.z.coerce.number(),images:a.z.array(a.z.string()).min(1,"Product must have at least one image"),isFeatured:a.z.boolean(),banner:a.z.string().nullable(),price:n});let o=a.z.object({email:a.z.string().email("Invalid email address"),password:a.z.string().min(6,"Password must be at least 6 characters")}),d=a.z.object({name:a.z.string().min(3,"Message must be at least 3 characters"),email:a.z.string().email("Invalid email address"),password:a.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:a.z.string().min(6,"Password must be at least 6 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),l=a.z.object({productId:a.z.string().min(1,"Product is required"),name:a.z.string().min(1,"Name is required"),slug:a.z.string().min(1,"Slug is required"),qty:a.z.number().int().nonnegative("Quantity must be a positive number"),image:a.z.string().min(1,"Image is required"),price:n});a.z.object({items:a.z.array(l),itemsPrice:n,totalPrice:n,shippingPrice:n,taxPrice:n,sessionCartId:a.z.string().min(1,"Session cart id is required"),userId:a.z.string().optional().nullable()});var c=s(21945),u=s(37067),m=s(25079),p=s(47948),f=s(96330),g=s(41622);m.Vz.webSocketConstructor=g.Ay;let x=`${process.env.DATABASE_URL}`,h=new m.bC({connectionString:x}),b=new p.J(h),w=new f.PrismaClient({adapter:b}).$extends({result:{product:{price:{compute:e=>e.price.toString()},rating:{compute:e=>e.rating.toString()}}}});var v=s(4497),y=s(19352),j=s(6332);let P={pages:{signIn:"/sign-in",error:"/sign-in"},session:{strategy:"jwt",maxAge:2592e3},adapter:(0,u.y)(w),providers:[(0,v.A)({credentials:{email:{type:"email"},password:{type:"password"}},async authorize(e){if(null==e)return null;let r=await w.user.findFirst({where:{email:e.email}});return r&&r.password&&(0,y.Dm)(e.password,r.password)?{id:r.id,name:r.name,email:r.email,role:r.role}:null}})],callbacks:{session:async({session:e,user:r,trigger:s,token:t})=>(e.user.id=t.sub,e.user.role=t.role,e.user.name=t.name,"update"===s&&(e.user.name=r.name),e),jwt:async({token:e,user:r,trigger:s,session:t})=>(r&&(e.role=r.role,"NO_NAME"===r.name&&(e.name=r.email.split("@")[0],await w.user.update({where:{id:r.id},data:{name:e.name}}))),e),authorized({request:e,auth:r}){if(e.cookies.get("sessionCartId"))return!0;{let r=crypto.randomUUID(),s=new Headers(e.headers),t=j.NextResponse.next({request:{headers:s}});return t.cookies.set("sessionCartId",r),t}}}},{handlers:N,auth:z,signIn:C,signOut:q}=(0,c.Ay)(P);var k=s(58512);async function E(e,r){try{let e=o.parse({email:r.get("email"),password:r.get("password")});return await C("credentials",e),{success:!0,message:"Signed in successfully"}}catch(e){if((0,k.isRedirectError)(e))throw e;return{success:!1,message:"Invalid email or password"}}}async function A(){await q()}async function R(e,r){try{let e=d.parse({name:r.get("name"),email:r.get("email"),password:r.get("password"),confirmPassword:r.get("confirmPassword")}),s=e.password;return e.password=(0,y.Y8)(e.password,10),await w.user.create({data:{name:e.name,email:e.email,password:e.password}}),await C("credentials",{email:e.email,password:s}),{success:!0,message:"User registered successfully"}}catch(e){if((0,k.isRedirectError)(e))throw e;return{success:!1,message:i(e)}}}(0,s(99344).D)([E,A,R]),(0,t.A)(E,"60214fc46e351a83723c4e63b39e498fe69676b5ca",null),(0,t.A)(A,"0041061ba5e3b6d0936cd61fbecddc17b8c23f81ed",null),(0,t.A)(R,"6076f8d318fdf5837c18b232d3912ca52665d432e4",null)},86694:(e,r,s)=>{Promise.resolve().then(s.bind(s,88043)),Promise.resolve().then(s.t.bind(s,59607,23)),Promise.resolve().then(s.t.bind(s,71066,23))},4846:(e,r,s)=>{Promise.resolve().then(s.bind(s,4349)),Promise.resolve().then(s.t.bind(s,28531,23)),Promise.resolve().then(s.t.bind(s,41902,23))},96487:()=>{},78335:()=>{},4349:(e,r,s)=>{"use strict";s.d(r,{default:()=>g});var t=s(45512),a=s(87021),i=s(25409),n=s(47699),o=s(69093),d=s(28531),l=s.n(d),c=s(58009),u=s(55740),m=s(26248);let p=(0,m.createServerReference)("6076f8d318fdf5837c18b232d3912ca52665d432e4",m.callServer,void 0,m.findSourceMapURL,"signUpUser");var f=s(79334);let g=()=>{let[e,r]=(0,c.useActionState)(p,{success:!1,message:""}),s=(0,f.useSearchParams)().get("callbackUrl")||"/";return(0,t.jsxs)("form",{action:r,children:[(0,t.jsx)("input",{type:"hidden",name:"callbackUrl",value:s}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.J,{htmlFor:"name",children:"Name"}),(0,t.jsx)(i.p,{id:"name",name:"name",type:"text",autoComplete:"name",defaultValue:o.e6.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(i.p,{id:"email",name:"email",type:"text",autoComplete:"email",defaultValue:o.e6.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(i.p,{id:"password",name:"password",type:"password",required:!0,autoComplete:"password",defaultValue:o.e6.password})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.J,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsx)(i.p,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,autoComplete:"confirmPassword",defaultValue:o.e6.confirmPassword})]}),(0,t.jsx)("div",{children:(0,t.jsx)(()=>{let{pending:e}=(0,u.useFormStatus)();return(0,t.jsx)(a.$,{disabled:e,className:"w-full",variant:"default",children:e?"Submitting...":"Sign Up"})},{})}),e&&!e.success&&(0,t.jsx)("div",{className:"text-center text-destructive",children:e.message}),(0,t.jsxs)("div",{className:"text-sm text-center text-muted-foreground",children:["Already have an account have an account?"," ",(0,t.jsx)(l(),{href:"/sign-in",target:"_self",className:"link",children:"Sign In"})]})]})]})}},25409:(e,r,s)=>{"use strict";s.d(r,{p:()=>n});var t=s(45512),a=s(58009),i=s(59462);let n=a.forwardRef(({className:e,type:r,...s},a)=>(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));n.displayName="Input"},47699:(e,r,s)=>{"use strict";s.d(r,{J:()=>l});var t=s(45512),a=s(58009),i=s(92405),n=s(21643),o=s(59462);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i.b,{ref:s,className:(0,o.cn)(d(),e),...r}));l.displayName=i.b.displayName},17509:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(62740);function a({children:e}){return(0,t.jsx)("div",{className:"flex-center min-h-screen w-full",children:e})}},88808:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p,metadata:()=>m});var t=s(62740),a=s(19935),i=s(59607),n=s.n(i),o=s(35635),d=s(15297),l=s(67905),c=s(31831),u=s(88043);let m={title:"Sign Up"},p=async e=>{let{callbackUrl:r}=await e.searchParams;return await (0,l.j2)()?(0,c.redirect)(r||"/"):(0,t.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{className:"space-y-4",children:[(0,t.jsx)(n(),{href:"/",className:"flex-center",children:(0,t.jsx)(o.default,{src:"/images/logo.svg",width:100,height:100,alt:`${d.C3} logo`,priority:!0})}),(0,t.jsx)(a.ZB,{className:"text-center",children:"Create Account"}),(0,t.jsx)(a.BT,{className:"text-center",children:"Enter your info below to sign up"})]}),(0,t.jsx)(a.Wu,{className:"space-y-4",children:(0,t.jsx)(u.default,{})})]})})}},88043:(e,r,s)=>{"use strict";s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\colep\\\\Desktop\\\\git\\\\Nextjs-Ecommerce\\\\app\\\\(auth)\\\\sign-up\\\\sign-up-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(auth)\\sign-up\\sign-up-form.tsx","default")},19935:(e,r,s)=>{"use strict";s.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o});var t=s(62740),a=s(76301),i=s(55946);let n=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,187,8,3,670,284,777],()=>s(93335));module.exports=t})();