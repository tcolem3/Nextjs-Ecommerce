(()=>{var e={};e.id=484,e.ids=[484],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},66541:e=>{"use strict";e.exports=require("@prisma/client/runtime/library")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},39691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var s=r(70260),a=r(28203),i=r(25155),o=r.n(i),c=r(67292),n={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);r.d(t,n);let d=["",{children:["(root)",{children:["product",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81661)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(root)\\product\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,44751)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(root)\\layout.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,82819)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,61129)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(root)\\product\\[slug]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(root)/product/[slug]/page",pathname:"/product/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"0041061ba5e3b6d0936cd61fbecddc17b8c23f81ed":()=>s.BP,"0063481ceb220ca367b0bfd81f4b7e7bb8a5412c3c":()=>i.P_,"00fdb00f233eb88423aeb38e7c1fc90dc627b02a8e":()=>a.o,"4006037fbd5f93e00a275688371d306ee0c10f0e9c":()=>s.cE,"401c9b575412be014157debf32a1a1378158b2c6c3":()=>s.xu,"404125e7a6a2f0a516a9634afd9d946ea3ca503de9":()=>s.kl,"4071e420d37979b01d6488c32f7874c7e8b25f49a6":()=>i.Mr,"40d284a28645fa75db43c5e69c2454b9cbdf6b7927":()=>i.I1,"40d6663bac2ceea4b1c8ccebf66dcb6a99ff118661":()=>a.M,"60214fc46e351a83723c4e63b39e498fe69676b5ca":()=>s.VR,"6076f8d318fdf5837c18b232d3912ca52665d432e4":()=>s.Wd});var s=r(67185),a=r(48341),i=r(34296)},70993:(e,t,r)=>{Promise.resolve().then(r.bind(r,3976)),Promise.resolve().then(r.bind(r,11074))},61265:(e,t,r)=>{Promise.resolve().then(r.bind(r,72628)),Promise.resolve().then(r.bind(r,43766))},72628:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(45512),a=r(87021),i=r(79334),o=r(22084),c=r(60791),n=r(46335),d=r(91542),l=r(55233),u=r(11127),p=r(58009);let f=({cart:e,item:t})=>{let r=(0,i.useRouter)(),[f,m]=(0,p.useTransition)(),x=async()=>{m(async()=>{let e=await (0,l.M)(t);if(!e.success){d.o.error(e.message);return}d.o.success(e.message,{action:{label:"Go to Cart",onClick:()=>r.push("/cart")}})})},h=async()=>{m(async()=>{let e=await (0,u.I)(t.productId);(0,d.o)(e.message,{action:{label:"Go to Cart",onClick:()=>r.push("/cart")}})})},b=e&&e.items.find(e=>e.productId===t.productId);return b?(0,s.jsxs)("div",{children:[(0,s.jsx)(a.$,{type:"button",variant:"outline",onClick:h,children:f?(0,s.jsx)(o.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(c.A,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"px-2",children:b.qty}),(0,s.jsx)(a.$,{type:"button",variant:"outline",onClick:x,children:f?(0,s.jsx)(o.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(n.A,{className:"h-4 w-4"})})]}):(0,s.jsxs)(a.$,{className:"w-full",type:"button",onClick:x,children:[f?(0,s.jsx)(o.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(n.A,{className:"h-4 w-4"}),"Add to cart"]})}},43766:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(45512),a=r(58009),i=r(45103),o=r(59462);let c=({images:e})=>{let[t,r]=(0,a.useState)(0);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(i.default,{src:e[t],alt:"product image",width:1e3,height:1e3,className:"min-h-[300px] object-cover object-center"}),(0,s.jsx)("div",{className:"flex",children:e.map((e,a)=>(0,s.jsx)("div",{onClick:()=>r(a),className:(0,o.cn)("border mr-2 cursor-pointer hover:border-orange-600",t===a&&"border-orange-500"),children:(0,s.jsx)(i.default,{src:e,alt:"image",width:100,height:100})},e))})]})}},79334:(e,t,r)=>{"use strict";var s=r(58686);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},26248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return a.findSourceMapURL}});let s=r(17295),a=r(32035),i=r(28832).createServerReference},81661:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(62740),a=r(48341),i=r(31831);r(76301);var o=r(67699),c=r(55946);let n=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,c.cn)(n({variant:t}),e),...r})}var l=r(19935),u=r(20417),p=r(11074),f=r(3976),m=r(34296);let x=async e=>{let{slug:t}=await e.params,r=await (0,a.M)(t);r||(0,i.notFound)();let o=await (0,m.P_)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("section",{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5",children:[(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)(p.default,{images:r.images})}),(0,s.jsxs)("div",{className:"col-span-2 p-5",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("p",{children:[r.brand," ",r.category]}),(0,s.jsx)("h1",{className:"h3-bold",children:r.name}),(0,s.jsxs)("p",{children:[r.rating," of ",r.numReviews," Reviews"]}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:(0,s.jsx)(u.A,{value:Number(r.price),className:"w-24 rounded-full bg-green-100 text-green-700 px-5 py-2"})})]}),(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Description"}),(0,s.jsx)("p",{children:r.description})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(l.Zp,{children:(0,s.jsxs)(l.Wu,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,s.jsx)("div",{children:"Price"}),(0,s.jsx)("div",{children:(0,s.jsx)(u.A,{value:Number(r.price)})})]}),(0,s.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,s.jsx)("div",{children:"Status"}),r.stock>0?(0,s.jsx)(d,{variant:"outline",children:"In Stock"}):(0,s.jsx)(d,{variant:"destructive",children:"Out Of Stock"})]}),r.stock>0&&(0,s.jsx)("div",{className:"flex-center",children:(0,s.jsx)(f.default,{cart:o,item:{productId:r.id,name:r.name,slug:r.slug,price:r.price,qty:1,image:r.images[0]}})})]})})})]})})})}},3976:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\colep\\\\Desktop\\\\git\\\\Nextjs-Ecommerce\\\\components\\\\shared\\\\product\\\\add-to-cart.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\components\\shared\\product\\add-to-cart.tsx","default")},11074:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\colep\\\\Desktop\\\\git\\\\Nextjs-Ecommerce\\\\components\\\\shared\\\\product\\\\product-images.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\components\\shared\\product\\product-images.tsx","default")},20417:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(62740),a=r(55946);let i=({value:e})=>{let[t,r]=e.toFixed(2).split(".");return(0,s.jsxs)("p",{className:(0,a.cn)("text-2xl, className"),children:[(0,s.jsx)("span",{className:"text-xs align-super",children:"$"}),t,(0,s.jsxs)("span",{className:"text-xs align-super",children:[".",r]})]})}},19935:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>l,ZB:()=>n,Zp:()=>o,aR:()=>c});var s=r(62740),a=r(76301),i=r(55946);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));c.displayName="CardHeader";let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},34296:(e,t,r)=>{"use strict";r.d(t,{I1:()=>m,Mr:()=>p,P_:()=>f});var s=r(88977);r(98063);var a=r(44512),i=r(55946),o=r(67905),c=r(21320),n=r(84976),d=r(61482),l=r(56215);let u=e=>{let t=(0,i.X4)(e.reduce((e,t)=>e+Number(t.price)*t.qty,0)),r=(0,i.X4)(t>100?0:10),s=(0,i.X4)(.15*t),a=(0,i.X4)(t+s+r);return{itemsPrice:t.toFixed(2),shippingPrice:r.toFixed(2),taxPrice:s.toFixed(2),totalPrice:a.toFixed(2)}};async function p(e){try{let t=(await a.UL()).get("sessionCartId")?.value;if(!t)throw Error("Cart session not found");let r=await (0,o.j2)(),s=r?.user?.id?r.user.id:void 0,i=await f(),l=n.HS.parse(e),p=await c.z.product.findFirst({where:{id:l.productId}});if(!p)throw Error("Product not found");if(i){let e=i.items.find(e=>e.productId===l.productId);if(e){if(p.stock<e.qty+1)throw Error("Not enough stock");i.items.find(e=>e.productId===l.productId).qty=e.qty+1}else{if(p.stock<1)throw Error("Not enough stock");i.items.push(l)}return await c.z.cart.update({where:{id:i.id},data:{items:i.items,...u(i.items)}}),(0,d.revalidatePath)(`/product/${p.slug}`),{success:!0,message:`${p.name} ${e?"updated in":"added to"} cart`}}{let e=n.rZ.parse({userId:s,items:[l],sessionCartId:t,...u([l])});return await c.z.cart.create({data:e}),(0,d.revalidatePath)(`/product/${p.slug}`),{success:!0,message:`${p.name} added to cart`}}}catch(e){return{success:!1,message:(0,i.Wk)(e)}}}async function f(){let e=(await a.UL()).get("sessionCartId")?.value;if(!e)throw Error("Cart session not found");let t=await (0,o.j2)(),r=t?.user?.id?t.user.id:void 0,s=await c.z.cart.findFirst({where:r?{userId:r}:{sessionCartId:e}});if(s)return(0,i.W4)({...s,items:s.items,itemsPrice:s.itemsPrice.toString(),totalPrice:s.totalPrice.toString(),shippingPrice:s.shippingPrice.toString(),taxPrice:s.taxPrice.toString()})}async function m(e){try{if(!(await a.UL()).get("sessionCartId")?.value)throw Error("Cart session not found");let t=await c.z.product.findFirst({where:{id:e}});if(!t)throw Error("Product not found");let r=await f();if(!r)throw Error("Cart not found");let s=r.items.find(t=>t.productId===e);if(!s)throw Error("Item not found");return 1===s.qty?r.items=r.items.filter(e=>e.productId!=s.productId):r.items.find(t=>t.productId===e).qty=s.qty-1,await c.z.cart.update({where:{id:r.id},data:{items:r.items,...u(r.items)}}),(0,d.revalidatePath)(`/product/${t.slug}`),{success:!0,message:`${t.name} was removed from cart`}}catch(e){return{success:!1,message:(0,i.Wk)(e)}}}(0,l.D)([p,f,m]),(0,s.A)(p,"4071e420d37979b01d6488c32f7874c7e8b25f49a6",null),(0,s.A)(f,"0063481ceb220ca367b0bfd81f4b7e7bb8a5412c3c",null),(0,s.A)(m,"40d284a28645fa75db43c5e69c2454b9cbdf6b7927",null)},48341:(e,t,r)=>{"use strict";r.d(t,{M:()=>n,o:()=>c});var s=r(88977);r(98063);var a=r(21320),i=r(55946),o=r(15297);async function c(){let e=await a.z.product.findMany({take:o.T0,orderBy:{createdAt:"desc"}});return(0,i.W4)(e)}async function n(e){return await a.z.product.findFirst({where:{slug:e}})}(0,r(56215).D)([c,n]),(0,s.A)(c,"00fdb00f233eb88423aeb38e7c1fc90dc627b02a8e",null),(0,s.A)(n,"40d6663bac2ceea4b1c8ccebf66dcb6a99ff118661",null)},55233:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var s=r(26248);let a=(0,s.createServerReference)("4071e420d37979b01d6488c32f7874c7e8b25f49a6",s.callServer,void 0,s.findSourceMapURL,"addItemToCart")},11127:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(26248);let a=(0,s.createServerReference)("40d284a28645fa75db43c5e69c2454b9cbdf6b7927",s.callServer,void 0,s.findSourceMapURL,"removeItemFromCart")},22084:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(94825).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},60791:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(94825).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},46335:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(94825).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,187,8,3,670,95,482,777,567],()=>r(39691));module.exports=s})();