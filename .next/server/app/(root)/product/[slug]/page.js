(()=>{var e={};e.id=484,e.ids=[484],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},66541:e=>{"use strict";e.exports=require("@prisma/client/runtime/library")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},39691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var a=r(70260),s=r(28203),i=r(25155),n=r.n(i),o=r(67292),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let d=["",{children:["(root)",{children:["product",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81661)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(root)\\product\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,84029)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(root)\\layout.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,82819)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,61129)),"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\(root)\\product\\[slug]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(root)/product/[slug]/page",pathname:"/product/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77064:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"0041061ba5e3b6d0936cd61fbecddc17b8c23f81ed":()=>a.BP,"0063481ceb220ca367b0bfd81f4b7e7bb8a5412c3c":()=>i.P_,"00fdb00f233eb88423aeb38e7c1fc90dc627b02a8e":()=>s.o,"4071e420d37979b01d6488c32f7874c7e8b25f49a6":()=>i.Mr,"40d284a28645fa75db43c5e69c2454b9cbdf6b7927":()=>i.I1,"40d6663bac2ceea4b1c8ccebf66dcb6a99ff118661":()=>s.M,"60214fc46e351a83723c4e63b39e498fe69676b5ca":()=>a.VR,"6076f8d318fdf5837c18b232d3912ca52665d432e4":()=>a.Wd});var a=r(67185),s=r(48341),i=r(34296)},70993:(e,t,r)=>{Promise.resolve().then(r.bind(r,3976)),Promise.resolve().then(r.bind(r,11074))},61265:(e,t,r)=>{Promise.resolve().then(r.bind(r,59042)),Promise.resolve().then(r.bind(r,43766))},59042:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(45512),s=r(87021),i=r(79334),n=r(94825);let o=(0,n.A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),c=(0,n.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),d=(0,n.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var l=r(91542),u=r(26248);let p=(0,u.createServerReference)("4071e420d37979b01d6488c32f7874c7e8b25f49a6",u.callServer,void 0,u.findSourceMapURL,"addItemToCart"),h=(0,u.createServerReference)("40d284a28645fa75db43c5e69c2454b9cbdf6b7927",u.callServer,void 0,u.findSourceMapURL,"removeItemFromCart");var f=r(58009);let m=({cart:e,item:t})=>{let r=(0,i.useRouter)(),[n,u]=(0,f.useTransition)(),m=async()=>{u(async()=>{let e=await p(t);if(!e.success){l.o.error(e.message);return}l.o.success(e.message,{action:{label:"Go to Cart",onClick:()=>r.push("/cart")}})})},g=async()=>{u(async()=>{let e=await h(t.productId);(0,l.o)(e.message,{action:{label:"Go to Cart",onClick:()=>r.push("/cart")}})})},b=e&&e.items.find(e=>e.productId===t.productId);return b?(0,a.jsxs)("div",{children:[(0,a.jsx)(s.$,{type:"button",variant:"outline",onClick:g,children:n?(0,a.jsx)(o,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(c,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"px-2",children:b.qty}),(0,a.jsx)(s.$,{type:"button",variant:"outline",onClick:m,children:n?(0,a.jsx)(o,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(d,{className:"h-4 w-4"})})]}):(0,a.jsxs)(s.$,{className:"w-full",type:"button",onClick:m,children:[n?(0,a.jsx)(o,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(d,{className:"h-4 w-4"}),"Add to cart"]})}},43766:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(45512),s=r(58009),i=r(45103),n=r(59462);let o=({images:e})=>{let[t,r]=(0,s.useState)(0);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(i.default,{src:e[t],alt:"product image",width:1e3,height:1e3,className:"min-h-[300px] object-cover object-center"}),(0,a.jsx)("div",{className:"flex",children:e.map((e,s)=>(0,a.jsx)("div",{onClick:()=>r(s),className:(0,n.cn)("border mr-2 cursor-pointer hover:border-orange-600",t===s&&"border-orange-500"),children:(0,a.jsx)(i.default,{src:e,alt:"image",width:100,height:100})},e))})]})}},79334:(e,t,r)=>{"use strict";var a=r(58686);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},26248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return s.findSourceMapURL}});let a=r(17295),s=r(32035),i=r(28832).createServerReference},81661:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(62740),s=r(48341),i=r(31831);r(76301);var n=r(67699),o=r(55946);let c=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...r}){return(0,a.jsx)("div",{className:(0,o.cn)(c({variant:t}),e),...r})}var l=r(19935),u=r(20417),p=r(11074),h=r(3976),f=r(34296);let m=async e=>{let{slug:t}=await e.params,r=await (0,s.M)(t);r||(0,i.notFound)();let n=await (0,f.P_)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5",children:[(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(p.default,{images:r.images})}),(0,a.jsxs)("div",{className:"col-span-2 p-5",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("p",{children:[r.brand," ",r.category]}),(0,a.jsx)("h1",{className:"h3-bold",children:r.name}),(0,a.jsxs)("p",{children:[r.rating," of ",r.numReviews," Reviews"]}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:(0,a.jsx)(u.A,{value:Number(r.price),className:"w-24 rounded-full bg-green-100 text-green-700 px-5 py-2"})})]}),(0,a.jsxs)("div",{className:"mt-10",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Description"}),(0,a.jsx)("p",{children:r.description})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,a.jsx)("div",{children:"Price"}),(0,a.jsx)("div",{children:(0,a.jsx)(u.A,{value:Number(r.price)})})]}),(0,a.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,a.jsx)("div",{children:"Status"}),r.stock>0?(0,a.jsx)(d,{variant:"outline",children:"In Stock"}):(0,a.jsx)(d,{variant:"destructive",children:"Out Of Stock"})]}),r.stock>0&&(0,a.jsx)("div",{className:"flex-center",children:(0,a.jsx)(h.default,{cart:n,item:{productId:r.id,name:r.name,slug:r.slug,price:r.price,qty:1,image:r.images[0]}})})]})})})]})})})}},3976:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\colep\\\\Desktop\\\\git\\\\Nextjs-Ecommerce\\\\components\\\\shared\\\\product\\\\add-to-cart.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\components\\shared\\product\\add-to-cart.tsx","default")},11074:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\colep\\\\Desktop\\\\git\\\\Nextjs-Ecommerce\\\\components\\\\shared\\\\product\\\\product-images.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\components\\shared\\product\\product-images.tsx","default")},20417:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(62740),s=r(55946);let i=({value:e})=>{let[t,r]=e.toFixed(2).split(".");return(0,a.jsxs)("p",{className:(0,s.cn)("text-2xl, className"),children:[(0,a.jsx)("span",{className:"text-xs align-super",children:"$"}),t,(0,a.jsxs)("span",{className:"text-xs align-super",children:[".",r]})]})}},19935:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>l,ZB:()=>c,Zp:()=>n,aR:()=>o});var a=r(62740),s=r(76301),i=r(55946);let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let l=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},34296:(e,t,r)=>{"use strict";r.d(t,{I1:()=>f,Mr:()=>p,P_:()=>h});var a=r(88977);r(98063);var s=r(44512),i=r(55946),n=r(67905),o=r(21320),c=r(84976),d=r(61482),l=r(56215);let u=e=>{let t=(0,i.X4)(e.reduce((e,t)=>e+Number(t.price)*t.qty,0)),r=(0,i.X4)(t>100?0:10),a=(0,i.X4)(.15*t),s=(0,i.X4)(t+a+r);return{itemsPrice:t.toFixed(2),shippingPrice:r.toFixed(2),taxPrice:a.toFixed(2),totalPrice:s.toFixed(2)}};async function p(e){try{let t=(await s.UL()).get("sessionCartId")?.value;if(!t)throw Error("Cart session not found");let r=await (0,n.j2)(),a=r?.user?.id?r.user.id:void 0,i=await h(),l=c.HS.parse(e),p=await o.z.product.findFirst({where:{id:l.productId}});if(!p)throw Error("Product not found");if(i){let e=i.items.find(e=>e.productId===l.productId);if(e){if(p.stock<e.qty+1)throw Error("Not enough stock");i.items.find(e=>e.productId===l.productId).qty=e.qty+1}else{if(p.stock<1)throw Error("Not enough stock");i.items.push(l)}return await o.z.cart.update({where:{id:i.id},data:{items:i.items,...u(i.items)}}),(0,d.revalidatePath)(`/product/${p.slug}`),{success:!0,message:`${p.name} ${e?"updated in":"added to"} cart`}}{let e=c.rZ.parse({userId:a,items:[l],sessionCartId:t,...u([l])});return await o.z.cart.create({data:e}),(0,d.revalidatePath)(`/product/${p.slug}`),{success:!0,message:`${p.name} added to cart`}}}catch(e){return{success:!1,message:(0,i.Wk)(e)}}}async function h(){let e=(await s.UL()).get("sessionCartId")?.value;if(!e)throw Error("Cart session not found");let t=await (0,n.j2)(),r=t?.user?.id?t.user.id:void 0,a=await o.z.cart.findFirst({where:r?{userId:r}:{sessionCartId:e}});if(a)return(0,i.W4)({...a,items:a.items,itemsPrice:a.itemsPrice.toString(),totalPrice:a.totalPrice.toString(),shippingPrice:a.shippingPrice.toString(),taxPrice:a.taxPrice.toString()})}async function f(e){try{if(!(await s.UL()).get("sessionCartId")?.value)throw Error("Cart session not found");let t=await o.z.product.findFirst({where:{id:e}});if(!t)throw Error("Product not found");let r=await h();if(!r)throw Error("Cart not found");let a=r.items.find(t=>t.productId===e);if(!a)throw Error("Item not found");return 1===a.qty?r.items=r.items.filter(e=>e.productId!=a.productId):r.items.find(t=>t.productId===e).qty=a.qty-1,await o.z.cart.update({where:{id:r.id},data:{items:r.items,...u(r.items)}}),(0,d.revalidatePath)(`/product/${t.slug}`),{success:!0,message:`${t.name} was removed from cart`}}catch(e){return{success:!1,message:(0,i.Wk)(e)}}}(0,l.D)([p,h,f]),(0,a.A)(p,"4071e420d37979b01d6488c32f7874c7e8b25f49a6",null),(0,a.A)(h,"0063481ceb220ca367b0bfd81f4b7e7bb8a5412c3c",null),(0,a.A)(f,"40d284a28645fa75db43c5e69c2454b9cbdf6b7927",null)},48341:(e,t,r)=>{"use strict";r.d(t,{M:()=>c,o:()=>o});var a=r(88977);r(98063);var s=r(21320),i=r(55946),n=r(15297);async function o(){let e=await s.z.product.findMany({take:n.T0,orderBy:{createdAt:"desc"}});return(0,i.W4)(e)}async function c(e){return await s.z.product.findFirst({where:{slug:e}})}(0,r(56215).D)([o,c]),(0,a.A)(o,"00fdb00f233eb88423aeb38e7c1fc90dc627b02a8e",null),(0,a.A)(c,"40d6663bac2ceea4b1c8ccebf66dcb6a99ff118661",null)},61482:(e,t,r)=>{let a={unstable_cache:r(20143).e,revalidateTag:r(31679).revalidateTag,revalidatePath:r(31679).revalidatePath,unstable_expireTag:r(31679).unstable_expireTag,unstable_expirePath:r(31679).unstable_expirePath,unstable_noStore:r(69246).M,unstable_cacheLife:r(96103).F,unstable_cacheTag:r(63801).z};e.exports=a,t.unstable_cache=a.unstable_cache,t.revalidatePath=a.revalidatePath,t.revalidateTag=a.revalidateTag,t.unstable_expireTag=a.unstable_expireTag,t.unstable_expirePath=a.unstable_expirePath,t.unstable_noStore=a.unstable_noStore,t.unstable_cacheLife=a.unstable_cacheLife,t.unstable_cacheTag=a.unstable_cacheTag},96103:(e,t,r)=>{"use strict";function a(e){throw Error("cacheLife() is only available with the experimental.dynamicIO config.")}Object.defineProperty(t,"F",{enumerable:!0,get:function(){return a}}),r(29294),r(63033)},63801:(e,t,r)=>{"use strict";function a(...e){throw Error("cacheTag() is only available with the experimental.dynamicIO config.")}Object.defineProperty(t,"z",{enumerable:!0,get:function(){return a}}),r(63033),r(45994)},31679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{revalidatePath:function(){return p},revalidateTag:function(){return d},unstable_expirePath:function(){return l},unstable_expireTag:function(){return u}});let a=r(10436),s=r(42675),i=r(2216),n=r(29294),o=r(63033),c=r(42490);function d(e){return h([e],`revalidateTag ${e}`)}function l(e,t){if(e.length>i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH){console.warn(`Warning: expirePath received "${e}" which exceeded max length of ${i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`);return}let r=`${i.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,s.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "expirePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`),h([r],`unstable_expirePath ${e}`)}function u(...e){return h(e,`unstable_expireTag ${e.join(", ")}`)}function p(e,t){if(e.length>i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH){console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);return}let r=`${i.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,s.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),h([r],`revalidatePath ${e}`)}function h(e,t){let r=n.workAsyncStorage.getStore();if(!r||!r.incrementalCache)throw Error(`Invariant: static generation store missing in ${t}`);let s=o.workUnitAsyncStorage.getStore();if(s){if("cache"===s.type)throw Error(`Route ${r.route} used "${t}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("unstable-cache"===s.type)throw Error(`Route ${r.route} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("render"===s.phase)throw Error(`Route ${r.route} used "${t}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("prerender"===s.type){let e=Error(`Route ${r.route} used ${t} without first calling \`await connection()\`.`);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(r.route,t,e,s)}else if("prerender-ppr"===s.type)(0,a.postponeWithTracking)(r.route,t,s.dynamicTracking);else if("prerender-legacy"===s.type){s.revalidate=0;let e=new c.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.dynamicUsageDescription=t,r.dynamicUsageStack=e.stack,e}}for(let t of(r.revalidatedTags||(r.revalidatedTags=[]),e))r.revalidatedTags.includes(t)||r.revalidatedTags.push(t);r.pathWasRevalidated=!0}},20143:(e,t,r)=>{"use strict";Object.defineProperty(t,"e",{enumerable:!0,get:function(){return l}});let a=r(2216),s=r(45994),i=r(29294),n=r(63033),o=r(70358),c=0;async function d(e,t,r,s,i,n,c){await t.set(r,{kind:o.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof i?a.CACHE_ONE_YEAR:i},{revalidate:i,fetchCache:!0,tags:s,fetchIdx:n,fetchUrl:c})}function l(e,t,r={}){if(0===r.revalidate)throw Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`);let a=r.tags?(0,s.validateTags)(r.tags,`unstable_cache ${e.toString()}`):[];(0,s.validateRevalidate)(r.revalidate,`unstable_cache ${e.name||e.toString()}`);let u=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let s=i.workAsyncStorage.getStore(),l=n.workUnitAsyncStorage.getStore(),p=(null==s?void 0:s.incrementalCache)||globalThis.__incrementalCache;if(!p)throw Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`);let h=l&&"prerender"===l.type?l.cacheSignal:null;h&&h.beginRead();try{let i=l&&"request"===l.type?l:void 0,h=(null==i?void 0:i.url.pathname)??(null==s?void 0:s.route)??"",f=new URLSearchParams((null==i?void 0:i.url.search)??""),m=[...f.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${f.get(e)}`).join("&"),g=`${u}-${JSON.stringify(t)}`,b=await p.generateCacheKey(g),v=`unstable_cache ${h}${m.length?"?":""}${m} ${e.name?` ${e.name}`:b}`,x=(s?s.nextFetchId:c)??1;if(s){if(s.nextFetchId=x+1,l&&("cache"===l.type||"prerender"===l.type||"prerender-ppr"===l.type||"prerender-legacy"===l.type)){"number"==typeof r.revalidate&&(l.revalidate<r.revalidate||(l.revalidate=r.revalidate));let e=l.tags;if(null===e)l.tags=a.slice();else for(let t of a)e.includes(t)||e.push(t)}let i=l&&"unstable-cache"!==l.type?l.implicitTags:[];if(!(l&&"unstable-cache"===l.type)&&"force-no-store"!==s.fetchCache&&!s.isOnDemandRevalidate&&!p.isOnDemandRevalidate&&!s.isDraftMode){let c=await p.get(b,{kind:o.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:a,softTags:i,fetchIdx:x,fetchUrl:v,isFallback:!1});if(c&&c.value){if(c.value.kind!==o.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${g}`);else{let i=void 0!==c.value.data.body?JSON.parse(c.value.data.body):void 0;return c.isStale&&(s.pendingRevalidates||(s.pendingRevalidates={}),s.pendingRevalidates[g]=n.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t).then(e=>d(e,p,b,a,r.revalidate,x,v)).catch(e=>console.error(`revalidating cache with key: ${g}`,e))),i}}}let c=await n.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t);return s.isDraftMode||d(c,p,b,a,r.revalidate,x,v),c}{if(c+=1,!p.isOnDemandRevalidate){let e=l&&"unstable-cache"!==l.type?l.implicitTags:[],t=await p.get(b,{kind:o.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:a,fetchIdx:x,fetchUrl:v,softTags:e,isFallback:!1});if(t&&t.value){if(t.value.kind!==o.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${g}`);else if(!t.isStale)return void 0!==t.value.data.body?JSON.parse(t.value.data.body):void 0}}let s=await n.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t);return d(s,p,b,a,r.revalidate,x,v),s}}finally{h&&h.endRead()}}}},69246:(e,t,r)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return n}});let a=r(29294),s=r(63033),i=r(10436);function n(){let e=a.workAsyncStorage.getStore(),t=s.workUnitAsyncStorage.getStore();return e?e.forceStatic?void 0:void(e.isUnstableNoStore=!0,t&&"prerender"===t.type||(0,i.markCurrentScopeAsDynamic)(e,t,"unstable_noStore()")):void 0}},42675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return a.getSortedRouteObjects},getSortedRoutes:function(){return a.getSortedRoutes},isDynamicRoute:function(){return s.isDynamicRoute}});let a=r(29009),s=r(28219)},28219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return i}});let a=r(82828),s=/\/\[[^/]+?\](?=\/|$)/;function i(e){return(0,a.isInterceptionRouteAppPath)(e)&&(e=(0,a.extractInterceptionRouteInformation)(e).interceptedRoute),s.test(e)}},29009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return s},getSortedRoutes:function(){return a}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,a){if(0===e.length){this.placeholder=!1;return}if(a)throw Error("Catch-all must be the last part of the URL.");let s=e[0];if(s.startsWith("[")&&s.endsWith("]")){let r=s.slice(1,-1),n=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),n=!0),r.startsWith("…"))throw Error("Detected a three-dot character ('…') at ('"+r+"'). Did you mean ('...')?");if(r.startsWith("...")&&(r=r.substring(3),a=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function i(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===s.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(a){if(n){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');i(this.optionalRestSlugName,r),this.optionalRestSlugName=r,s="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');i(this.restSlugName,r),this.restSlugName=r,s="[...]"}}else{if(n)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');i(this.slugName,r),this.slugName=r,s="[]"}}this.children.has(s)||this.children.set(s,new r),this.children.get(s)._insert(e.slice(1),t,a)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function a(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}function s(e,t){let r={},s=[];for(let a=0;a<e.length;a++){let i=t(e[a]);r[i]=a,s[a]=i}return a(s).map(t=>e[r[t]])}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,187,8,3,670,411,777,773],()=>r(39691));module.exports=a})();