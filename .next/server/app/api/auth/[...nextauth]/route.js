(()=>{var e={};e.id=14,e.ids=[14],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},66541:e=>{"use strict";e.exports=require("@prisma/client/runtime/library")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},47990:()=>{},61183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>c,serverHooks:()=>d,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{GET:()=>a,POST:()=>o});var i=r(42706),n=r(28203),u=r(45994);let{GET:a,POST:o}=r(67905).Y9,c=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"C:\\Users\\colep\\Desktop\\git\\Nextjs-Ecommerce\\app\\api\\auth\\[...nextauth]\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:p,workUnitAsyncStorage:l,serverHooks:d}=c;function f(){return(0,u.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:l})}},96487:()=>{},78335:()=>{},67905:(e,t,r)=>{"use strict";r.d(t,{CI:()=>m,Jv:()=>f,Y9:()=>l,j2:()=>d});var s=r(24587),i=r(46814),n=r(21320),u=r(31648),a=r(25951),o=r(44512),c=r(39187);let p={pages:{signIn:"/sign-in",error:"/sign-in"},session:{strategy:"jwt",maxAge:2592e3},adapter:(0,i.y)(n.z),providers:[(0,u.A)({credentials:{email:{type:"email"},password:{type:"password"}},async authorize(e){if(null==e)return null;let t=await n.z.user.findFirst({where:{email:e.email}});return t&&t.password&&(0,a.Dm)(e.password,t.password)?{id:t.id,name:t.name,email:t.email,role:t.role}:null}})],callbacks:{session:async({session:e,user:t,trigger:r,token:s})=>(e.user.id=s.sub,e.user.role=s.role,e.user.name=s.name,"update"===r&&(e.user.name=t.name),e),async jwt({token:e,user:t,trigger:r,session:s}){if(t&&(e.id=t.id,e.role=t.role,"NO_NAME"===t.name&&(e.name=t.email.split("@")[0],await n.z.user.update({where:{id:t.id},data:{name:e.name}})),"signIn"===r||"signUp"===r)){let e=await (0,o.UL)(),r=e.get("sessionCartId")?.value;if(r){let e=await n.z.cart.findFirst({where:{sessionCartId:r}});e&&(await n.z.cart.deleteMany({where:{userId:t.id}}),await n.z.cart.update({where:{id:e.id},data:{userId:t.id}}))}}return s?.user.name&&"update"===r&&(e.name=s.user.name),e},authorized({request:e,auth:t}){if(e.cookies.get("sessionCartId"))return!0;{let t=crypto.randomUUID(),r=new Headers(e.headers),s=c.NextResponse.next({request:{headers:r}});return s.cookies.set("sessionCartId",t),s}}}},{handlers:l,auth:d,signIn:f,signOut:m}=(0,s.Ay)(p)},21320:(e,t,r)=>{"use strict";r.d(t,{z:()=>p});var s=r(12042),i=r(20047),n=r(96330),u=r(62097);s.Vz.webSocketConstructor=u.Ay;let a=`${process.env.DATABASE_URL}`,o=new s.bC({connectionString:a}),c=new i.J(o),p=new n.PrismaClient({adapter:c}).$extends({result:{product:{price:{compute:e=>e.price.toString()},rating:{compute:e=>e.rating.toString()}},cart:{itemsPrice:{needs:{itemsPrice:!0},compute:e=>e.itemsPrice.toString()},taxPrice:{needs:{taxPrice:!0},compute:e=>e.taxPrice.toString()},totalPrice:{needs:{totalPrice:!0},compute:e=>e.totalPrice.toString()},shippingPrice:{needs:{shippingPrice:!0},compute:e=>e.shippingPrice.toString()}},order:{itemsPrice:{needs:{itemsPrice:!0},compute:e=>e.itemsPrice.toString()},taxPrice:{needs:{taxPrice:!0},compute:e=>e.taxPrice.toString()},totalPrice:{needs:{totalPrice:!0},compute:e=>e.totalPrice.toString()},shippingPrice:{needs:{shippingPrice:!0},compute:e=>e.shippingPrice.toString()}},orderItem:{price:{compute:e=>e.price.toString()}}}})},26003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return i},getAccessFallbackErrorTypeByStatus:function(){return a},getAccessFallbackHTTPStatus:function(){return u},isHTTPAccessFallbackError:function(){return n}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},s=new Set(Object.values(r)),i="NEXT_HTTP_ERROR_FALLBACK";function n(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===i&&s.has(Number(r))}function u(e){return Number(e.digest.split(";")[1])}function a(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return o}});let s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=n?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(s,u,a):s[u]=e[u]}return s.default=e,r&&r.set(e,s),s}(r(76301));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let n={current:null},u="function"==typeof s.cache?s.cache:e=>e,a=console.warn;function o(e){return function(...t){a(e(...t))}}u(e=>{try{a(n.current)}finally{n.current=null}})},42706:(e,t,r)=>{"use strict";e.exports=r(44870)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,187,8],()=>r(61183));module.exports=s})();