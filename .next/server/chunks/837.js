exports.id=837,exports.ids=[837],exports.modules={79334:(e,t,r)=>{"use strict";var n=r(58686);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},26248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return i.findSourceMapURL}});let n=r(17295),i=r(32035),s=r(28832).createServerReference},40846:e=>{"use strict";e.exports={mask:(e,t,r,n,i)=>{for(var s=0;s<i;s++)r[n+s]=e[s]^t[3&s]},unmask:(e,t)=>{let r=e.length;for(var n=0;n<r;n++)e[n]^=t[3&n]}}},86240:(e,t,r)=>{"use strict";try{e.exports=r(76030)(__dirname)}catch(t){e.exports=r(40846)}},84576:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var i=t&&t.decode||u,s=0,a=0,l=0;do{if(-1===(a=e.indexOf("=",s)))break;if(-1===(l=e.indexOf(";",s)))l=n;else if(a>l){s=e.lastIndexOf(";",a-1)+1;continue}var d=o(e,s,a),f=c(e,a,d),h=e.slice(d,f);if(!r.hasOwnProperty(h)){var p=o(e,a+1,l),y=c(e,l,p);34===e.charCodeAt(p)&&34===e.charCodeAt(y-1)&&(p++,y--);var m=e.slice(p,y);r[h]=function(e,t){try{return t(e)}catch(t){return e}}(m,i)}s=l+1}while(s<n);return r},t.l=function(e,t,o){var c=o&&o.encode||encodeURIComponent;if("function"!=typeof c)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var u=c(t);if(!i.test(u))throw TypeError("argument val is invalid");var l=e+"="+u;if(!o)return l;if(null!=o.maxAge){var d=Math.floor(o.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");l+="; Max-Age="+d}if(o.domain){if(!s.test(o.domain))throw TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!a.test(o.path))throw TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){var f=o.expires;if("[object Date]"!==r.call(f)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+f.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.partitioned&&(l+="; Partitioned"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var r=Object.prototype.toString,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/;function o(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function u(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},42385:(e,t,r)=>{"use strict";r.d(t,{UL:()=>n.U,b3:()=>i.b});var n=r(53825),i=r(50406);r(99863)},6332:(e,t,r)=>{"use strict";var n=r(49217);r.o(n,"NextRequest")&&r.d(t,{NextRequest:function(){return n.NextRequest}}),r.o(n,"NextResponse")&&r.d(t,{NextResponse:function(){return n.NextResponse}})},99344:(e,t)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}Object.defineProperty(t,"D",{enumerable:!0,get:function(){return r}})},21590:(e,t,r)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return n.registerServerReference}});let n=r(65369)},26676:(e,t,r)=>{"use strict";function n(){throw Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(78620).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return i},getAccessFallbackErrorTypeByStatus:function(){return o},getAccessFallbackHTTPStatus:function(){return a},isHTTPAccessFallbackError:function(){return s}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},n=new Set(Object.values(r)),i="NEXT_HTTP_ERROR_FALLBACK";function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===i&&n.has(Number(r))}function a(e){return Number(e.digest.split(";")[1])}function o(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},82432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return s}});let n=r(78620),i=r(58512);function s(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l},RedirectType:function(){return i.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return s.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return o.unauthorized},unstable_rethrow:function(){return c.unstable_rethrow}});let n=r(937),i=r(58512),s=r(87895),a=r(26676),o=r(54507),c=r(68727);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class l extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return i}});let n=""+r(78620).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function i(){let e=Error(n);throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},58512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return i},RedirectType:function(){return s},isRedirectError:function(){return a}});let n=r(59738),i="NEXT_REDIRECT";var s=function(e){return e.push="push",e.replace="replace",e}({});function a(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,s]=t,a=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===i&&("replace"===s||"push"===s)&&"string"==typeof a&&!isNaN(o)&&o in n.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},59738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return d},getRedirectTypeFromError:function(){return l},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return o}});let n=r(19121),i=r(59738),s=r(58512);function a(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let n=Error(s.REDIRECT_ERROR_CODE);return n.digest=s.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function o(e,t){let r=n.actionAsyncStorage.getStore();throw a(e,t||((null==r?void 0:r.isAction)?s.RedirectType.push:s.RedirectType.replace),i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){throw void 0===t&&(t=s.RedirectType.replace),a(e,t,i.RedirectStatusCode.PermanentRedirect)}function u(e){return(0,s.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function l(e){if(!(0,s.isRedirectError)(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function d(e){if(!(0,s.isRedirectError)(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84441:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return n},isStaticGenBailoutError:function(){return i}});let r="NEXT_STATIC_GEN_BAILOUT";class n extends Error{constructor(...e){super(...e),this.code=r}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},54507:(e,t,r)=>{"use strict";function n(){throw Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(78620).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,s.isBailoutToCSRError)(t)||(0,n.isDynamicUsageError)(t)||(0,i.isPostpone)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(76850),i=r(57063),s=r(43548),a=r(82432);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6003:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function c(e){var t,r;if(!e)return;let[[n,i],...s]=o(e),{domain:a,expires:c,httponly:d,maxage:f,path:h,samesite:p,secure:y,partitioned:m,priority:g}=Object.fromEntries(s.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(i),domain:a,...c&&{expires:new Date(c)},...d&&{httpOnly:!0},..."string"==typeof f&&{maxAge:Number(f)},path:h,...p&&{sameSite:u.includes(t=(t=p).toLowerCase())?t:void 0},...y&&{secure:!0},...g&&{priority:l.includes(r=(r=g).toLowerCase())?r:void 0},...m&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(s,{RequestCookies:()=>d,ResponseCookies:()=>f,parseCookie:()=>o,parseSetCookie:()=>c,stringifyCookie:()=>a}),e.exports=((e,s,a,o)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let c of n(s))i.call(e,c)||c===a||t(e,c,{get:()=>s[c],enumerable:!(o=r(s,c))||o.enumerable});return e})(t({},"__esModule",{value:!0}),s);var u=["strict","lax","none"],l=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>a(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>a(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},f=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,s,a=[],o=0;function c(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;c();)if(","===(r=e.charAt(o))){for(n=o,o+=1,c(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}(i)){let t=c(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=a(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a).join("; ")}}},93851:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),s=r(930),a="context",o=new n.NoopContextManager;class c{constructor(){}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=c},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),s=r(957),a=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var n,o,c;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,a.getGlobal)("diag"),l=(0,i.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:s.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(c=Error().stack)&&void 0!==c?c:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",l,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),s=r(930),a="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),s=r(194),a=r(277),o=r(369),c=r(930),u="propagation",l=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,c.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),s=r(139),a=r(607),o=r(930),c="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(c,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(c,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(i)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),s=r(830),a=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return s("debug",this._namespace,e)}error(...e){return s("error",this._namespace,e)}info(...e){return s("info",this._namespace,e)}warn(...e){return s("warn",this._namespace,e)}verbose(...e){return s("verbose",this._namespace,e)}}function s(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),s=r(130),a=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),c=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var s;let a=c[o]=null!==(s=c[o])&&void 0!==s?s:{version:i.VERSION};if(!n&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=c[o])||void 0===t?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null===(r=c[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=c[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return a(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=o.prerelease||s.major!==o.major?a(e):0===s.major?s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e):s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class s extends n{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends n{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class c extends o{}t.NoopObservableCounterMetric=c;class u extends o{}t.NoopObservableGaugeMetric=u;class l extends o{}t.NoopObservableUpDownCounterMetric=l,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new c,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new l,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),s=r(403),a=r(139),o=n.ContextAPI.getInstance();class c{startSpan(e,t,r=o.active()){if(null==t?void 0:t.root)return new s.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,a.isSpanContextValid)(n)?new s.NonRecordingSpan(n):new s.NonRecordingSpan}startActiveSpan(e,t,r,n){let s,a,c;if(arguments.length<2)return;2==arguments.length?c=t:3==arguments.length?(s=t,c=r):(s=t,a=r,c=n);let u=null!=a?a:o.active(),l=this.startSpan(e,s,u),d=(0,i.setSpan)(u,l);return o.with(d,c,void 0,l)}}t.NoopTracer=c},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class s{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=s},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),s=r(491),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function c(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=c,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return c(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let s=r.slice(0,i),a=r.slice(i+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${n}|${i})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==n.INVALID_TRACEID}function c(e){return a.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=c,t.isSpanContextValid=function(e){return o(e.traceId)&&c(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},a=!0;try{t[e].call(s.exports,s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab=__dirname+"/";var i={};(()=>{Object.defineProperty(i,"__esModule",{value:!0}),i.trace=i.propagation=i.metrics=i.diag=i.context=i.INVALID_SPAN_CONTEXT=i.INVALID_TRACEID=i.INVALID_SPANID=i.isValidSpanId=i.isValidTraceId=i.isSpanContextValid=i.createTraceState=i.TraceFlags=i.SpanStatusCode=i.SpanKind=i.SamplingDecision=i.ProxyTracerProvider=i.ProxyTracer=i.defaultTextMapSetter=i.defaultTextMapGetter=i.ValueType=i.createNoopMeter=i.DiagLogLevel=i.DiagConsoleLogger=i.ROOT_CONTEXT=i.createContextKey=i.baggageEntryMetadataFromString=void 0;var e=n(369);Object.defineProperty(i,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=n(780);Object.defineProperty(i,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(i,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=n(972);Object.defineProperty(i,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var s=n(957);Object.defineProperty(i,"DiagLogLevel",{enumerable:!0,get:function(){return s.DiagLogLevel}});var a=n(102);Object.defineProperty(i,"createNoopMeter",{enumerable:!0,get:function(){return a.createNoopMeter}});var o=n(901);Object.defineProperty(i,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var c=n(194);Object.defineProperty(i,"defaultTextMapGetter",{enumerable:!0,get:function(){return c.defaultTextMapGetter}}),Object.defineProperty(i,"defaultTextMapSetter",{enumerable:!0,get:function(){return c.defaultTextMapSetter}});var u=n(125);Object.defineProperty(i,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var l=n(846);Object.defineProperty(i,"ProxyTracerProvider",{enumerable:!0,get:function(){return l.ProxyTracerProvider}});var d=n(996);Object.defineProperty(i,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var f=n(357);Object.defineProperty(i,"SpanKind",{enumerable:!0,get:function(){return f.SpanKind}});var h=n(847);Object.defineProperty(i,"SpanStatusCode",{enumerable:!0,get:function(){return h.SpanStatusCode}});var p=n(475);Object.defineProperty(i,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var y=n(98);Object.defineProperty(i,"createTraceState",{enumerable:!0,get:function(){return y.createTraceState}});var m=n(139);Object.defineProperty(i,"isSpanContextValid",{enumerable:!0,get:function(){return m.isSpanContextValid}}),Object.defineProperty(i,"isValidTraceId",{enumerable:!0,get:function(){return m.isValidTraceId}}),Object.defineProperty(i,"isValidSpanId",{enumerable:!0,get:function(){return m.isValidSpanId}});var g=n(476);Object.defineProperty(i,"INVALID_SPANID",{enumerable:!0,get:function(){return g.INVALID_SPANID}}),Object.defineProperty(i,"INVALID_TRACEID",{enumerable:!0,get:function(){return g.INVALID_TRACEID}}),Object.defineProperty(i,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return g.INVALID_SPAN_CONTEXT}});let b=n(67);Object.defineProperty(i,"context",{enumerable:!0,get:function(){return b.context}});let _=n(506);Object.defineProperty(i,"diag",{enumerable:!0,get:function(){return _.diag}});let v=n(886);Object.defineProperty(i,"metrics",{enumerable:!0,get:function(){return v.metrics}});let w=n(939);Object.defineProperty(i,"propagation",{enumerable:!0,get:function(){return w.propagation}});let x=n(845);Object.defineProperty(i,"trace",{enumerable:!0,get:function(){return x.trace}}),i.default={context:b.context,diag:_.diag,metrics:v.metrics,propagation:w.propagation,trace:x.trace}})(),e.exports=i})()},36992:(e,t,r)=>{"use strict";var n=r(3793),i={stream:!0},s=new Map;function a(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function o(){}function c(e){for(var t=e[1],n=[],i=0;i<t.length;){var c=t[i++];t[i++];var u=s.get(c);if(void 0===u){u=r.e(c),n.push(u);var l=s.set.bind(s,c,null);u.then(l,o),s.set(c,u)}else null!==u&&n.push(u)}return 4===e.length?0===n.length?a(e[0]):Promise.all(n).then(function(){return a(e[0])}):0<n.length?Promise.all(n):null}function u(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}var l=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,d=Symbol.for("react.transitional.element"),f=Symbol.for("react.lazy"),h=Symbol.iterator,p=Symbol.asyncIterator,y=Array.isArray,m=Object.getPrototypeOf,g=Object.prototype,b=new WeakMap;function _(e,t,r,n,i){function s(e,r){r=new Blob([new Uint8Array(r.buffer,r.byteOffset,r.byteLength)]);var n=c++;return null===l&&(l=new FormData),l.append(t+n,r),"$"+e+n.toString(16)}function a(e,w){if(null===w)return null;if("object"==typeof w){switch(w.$$typeof){case d:if(void 0!==r&&-1===e.indexOf(":")){var x,S,E,A,k,T=_.get(this);if(void 0!==T)return r.set(T+":"+e,w),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case f:T=w._payload;var R=w._init;null===l&&(l=new FormData),u++;try{var O=R(T),P=c++,C=o(O,P);return l.append(t+P,C),"$"+P.toString(16)}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then){u++;var I=c++;return T=function(){try{var e=o(w,I),r=l;r.append(t+I,e),u--,0===u&&n(r)}catch(e){i(e)}},e.then(T,T),"$"+I.toString(16)}return i(e),null}finally{u--}}if("function"==typeof w.then){null===l&&(l=new FormData),u++;var N=c++;return w.then(function(e){try{var r=o(e,N);(e=l).append(t+N,r),u--,0===u&&n(e)}catch(e){i(e)}},i),"$@"+N.toString(16)}if(void 0!==(T=_.get(w))){if(v!==w)return T;v=null}else -1===e.indexOf(":")&&void 0!==(T=_.get(this))&&(e=T+":"+e,_.set(w,e),void 0!==r&&r.set(e,w));if(y(w))return w;if(w instanceof FormData){null===l&&(l=new FormData);var L=l,M=t+(e=c++)+"_";return w.forEach(function(e,t){L.append(M+t,e)}),"$K"+e.toString(16)}if(w instanceof Map)return e=c++,T=o(Array.from(w),e),null===l&&(l=new FormData),l.append(t+e,T),"$Q"+e.toString(16);if(w instanceof Set)return e=c++,T=o(Array.from(w),e),null===l&&(l=new FormData),l.append(t+e,T),"$W"+e.toString(16);if(w instanceof ArrayBuffer)return e=new Blob([w]),T=c++,null===l&&(l=new FormData),l.append(t+T,e),"$A"+T.toString(16);if(w instanceof Int8Array)return s("O",w);if(w instanceof Uint8Array)return s("o",w);if(w instanceof Uint8ClampedArray)return s("U",w);if(w instanceof Int16Array)return s("S",w);if(w instanceof Uint16Array)return s("s",w);if(w instanceof Int32Array)return s("L",w);if(w instanceof Uint32Array)return s("l",w);if(w instanceof Float32Array)return s("G",w);if(w instanceof Float64Array)return s("g",w);if(w instanceof BigInt64Array)return s("M",w);if(w instanceof BigUint64Array)return s("m",w);if(w instanceof DataView)return s("V",w);if("function"==typeof Blob&&w instanceof Blob)return null===l&&(l=new FormData),e=c++,l.append(t+e,w),"$B"+e.toString(16);if(e=null===(x=w)||"object"!=typeof x?null:"function"==typeof(x=h&&x[h]||x["@@iterator"])?x:null)return(T=e.call(w))===w?(e=c++,T=o(Array.from(T),e),null===l&&(l=new FormData),l.append(t+e,T),"$i"+e.toString(16)):Array.from(T);if("function"==typeof ReadableStream&&w instanceof ReadableStream)return function(e){try{var r,s,o,d,f,h,p,y=e.getReader({mode:"byob"})}catch(d){return r=e.getReader(),null===l&&(l=new FormData),s=l,u++,o=c++,r.read().then(function e(c){if(c.done)s.append(t+o,"C"),0==--u&&n(s);else try{var l=JSON.stringify(c.value,a);s.append(t+o,l),r.read().then(e,i)}catch(e){i(e)}},i),"$R"+o.toString(16)}return d=y,null===l&&(l=new FormData),f=l,u++,h=c++,p=[],d.read(new Uint8Array(1024)).then(function e(r){r.done?(r=c++,f.append(t+r,new Blob(p)),f.append(t+h,'"$o'+r.toString(16)+'"'),f.append(t+h,"C"),0==--u&&n(f)):(p.push(r.value),d.read(new Uint8Array(1024)).then(e,i))},i),"$r"+h.toString(16)}(w);if("function"==typeof(e=w[p]))return S=w,E=e.call(w),null===l&&(l=new FormData),A=l,u++,k=c++,S=S===E,E.next().then(function e(r){if(r.done){if(void 0===r.value)A.append(t+k,"C");else try{var s=JSON.stringify(r.value,a);A.append(t+k,"C"+s)}catch(e){i(e);return}0==--u&&n(A)}else try{var o=JSON.stringify(r.value,a);A.append(t+k,o),E.next().then(e,i)}catch(e){i(e)}},i),"$"+(S?"x":"X")+k.toString(16);if((e=m(w))!==g&&(null===e||null!==m(e))){if(void 0===r)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return w}if("string"==typeof w)return"Z"===w[w.length-1]&&this[e]instanceof Date?"$D"+w:e="$"===w[0]?"$"+w:w;if("boolean"==typeof w)return w;if("number"==typeof w)return Number.isFinite(w)?0===w&&-1/0==1/w?"$-0":w:1/0===w?"$Infinity":-1/0===w?"$-Infinity":"$NaN";if(void 0===w)return"$undefined";if("function"==typeof w){if(void 0!==(T=b.get(w)))return e=JSON.stringify(T,a),null===l&&(l=new FormData),T=c++,l.set(t+T,e),"$F"+T.toString(16);if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(T=_.get(this)))return r.set(T+":"+e,w),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof w){if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(T=_.get(this)))return r.set(T+":"+e,w),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof w)return"$n"+w.toString(10);throw Error("Type "+typeof w+" is not supported as an argument to a Server Function.")}function o(e,t){return"object"==typeof e&&null!==e&&(t="$"+t.toString(16),_.set(e,t),void 0!==r&&r.set(t,e)),v=e,JSON.stringify(e,a)}var c=1,u=0,l=null,_=new WeakMap,v=e,w=o(e,0);return null===l?n(w):(l.set(t+"0",w),0===u&&n(l)),function(){0<u&&(u=0,null===l?n(w):n(l))}}var v=new WeakMap;function w(e){var t=b.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=v.get(t))||(n=t,a=new Promise(function(e,t){i=e,s=t}),_(n,"",void 0,function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}a.status="fulfilled",a.value=e,i(e)},function(e){a.status="rejected",a.reason=e,s(e)}),r=a,v.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var n,i,s,a,o=new FormData;t.forEach(function(t,r){o.append("$ACTION_"+e+":"+r,t)}),r=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function x(e,t){var r=b.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var n=r.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function S(e,t,r){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?w:function(){var e=b.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:x},bind:{value:k}}),b.set(e,t)}var E=Function.prototype.bind,A=Array.prototype.slice;function k(){var e=E.apply(this,arguments),t=b.get(this);if(t){var r=A.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:x},bind:{value:k}}),b.set(e,{id:t.id,bound:n})}return e}function T(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function R(e){switch(e.status){case"resolved_model":j(e);break;case"resolved_module":B(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function O(e){return new T("pending",null,null,e)}function P(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function C(e,t,r){switch(e.status){case"fulfilled":P(t,e.value);break;case"pending":case"blocked":if(e.value)for(var n=0;n<t.length;n++)e.value.push(t[n]);else e.value=t;if(e.reason){if(r)for(t=0;t<r.length;t++)e.reason.push(r[t])}else e.reason=r;break;case"rejected":r&&P(r,e.reason)}}function I(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var r=e.reason;e.status="rejected",e.reason=t,null!==r&&P(r,t)}}function N(e,t,r){return new T("resolved_model",(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}",null,e)}function L(e,t,r){M(e,(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}")}function M(e,t){if("pending"!==e.status)e.reason.enqueueModel(t);else{var r=e.value,n=e.reason;e.status="resolved_model",e.value=t,null!==r&&(j(e),C(e,r,n))}}function D(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==r&&(B(e),C(e,r,n))}}T.prototype=Object.create(Promise.prototype),T.prototype.then=function(e,t){switch(this.status){case"resolved_model":j(this);break;case"resolved_module":B(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t&&t(this.reason)}};var U=null;function j(e){var t=U;U=null;var r=e.value;e.status="blocked",e.value=null,e.reason=null;try{var n=JSON.parse(r,e._response._fromJSON),i=e.value;if(null!==i&&(e.value=null,e.reason=null,P(i,n)),null!==U){if(U.errored)throw U.value;if(0<U.deps){U.value=n,U.chunk=e;return}}e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}finally{U=t}}function B(e){try{var t=u(e.value);e.status="fulfilled",e.value=t}catch(t){e.status="rejected",e.reason=t}}function $(e,t){e._chunks.forEach(function(e){"pending"===e.status&&I(e,t)})}function F(e){return{$$typeof:f,_payload:e,_init:R}}function H(e,t){var r=e._chunks,n=r.get(t);return n||(n=O(e),r.set(t,n)),n}function W(e,t,r,n,i,s){function a(e){if(!o.errored){o.errored=!0,o.value=e;var t=o.chunk;null!==t&&"blocked"===t.status&&I(t,e)}}if(U){var o=U;o.deps++}else o=U={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(function e(c){for(var u=1;u<s.length;u++){for(;c.$$typeof===f;)if((c=c._payload)===o.chunk)c=o.value;else if("fulfilled"===c.status)c=c.value;else{s.splice(0,u-1),c.then(e,a);return}c=c[s[u]]}u=i(n,c,t,r),t[r]=u,""===r&&null===o.value&&(o.value=u),t[0]===d&&"object"==typeof o.value&&null!==o.value&&o.value.$$typeof===d&&(c=o.value,"3"===r)&&(c.props=u),o.deps--,0===o.deps&&null!==(u=o.chunk)&&"blocked"===u.status&&(c=u.value,u.status="fulfilled",u.value=o.value,null!==c&&P(c,o.value))},a),null}function q(e,t,r,n){if(!e._serverReferenceConfig)return function(e,t,r){function n(){var e=Array.prototype.slice.call(arguments);return s?"fulfilled"===s.status?t(i,s.value.concat(e)):Promise.resolve(s).then(function(r){return t(i,r.concat(e))}):t(i,e)}var i=e.id,s=e.bound;return S(n,{id:i,bound:s},r),n}(t,e._callServer,e._encodeFormAction);var i=function(e,t){var r="",n=e[t];if(n)r=n.name;else{var i=t.lastIndexOf("#");if(-1!==i&&(r=t.slice(i+1),n=e[t.slice(0,i)]),!n)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return n.async?[n.id,n.chunks,r,1]:[n.id,n.chunks,r]}(e._serverReferenceConfig,t.id);if(e=c(i))t.bound&&(e=Promise.all([e,t.bound]));else{if(!t.bound)return u(i);e=Promise.resolve(t.bound)}if(U){var s=U;s.deps++}else s=U={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(function(){var e=u(i);if(t.bound){var a=t.bound.value.slice(0);a.unshift(null),e=e.bind.apply(e,a)}r[n]=e,""===n&&null===s.value&&(s.value=e),r[0]===d&&"object"==typeof s.value&&null!==s.value&&s.value.$$typeof===d&&(a=s.value,"3"===n)&&(a.props=e),s.deps--,0===s.deps&&null!==(e=s.chunk)&&"blocked"===e.status&&(a=e.value,e.status="fulfilled",e.value=s.value,null!==a&&P(a,s.value))},function(e){if(!s.errored){s.errored=!0,s.value=e;var t=s.chunk;null!==t&&"blocked"===t.status&&I(t,e)}}),null}function V(e,t,r,n,i){var s=parseInt((t=t.split(":"))[0],16);switch((s=H(e,s)).status){case"resolved_model":j(s);break;case"resolved_module":B(s)}switch(s.status){case"fulfilled":var a=s.value;for(s=1;s<t.length;s++){for(;a.$$typeof===f;)if("fulfilled"!==(a=a._payload).status)return W(a,r,n,e,i,t.slice(s-1));else a=a.value;a=a[t[s]]}return i(e,a,r,n);case"pending":case"blocked":return W(s,r,n,e,i,t);default:return U?(U.errored=!0,U.value=s.reason):U={parent:null,chunk:null,value:s.reason,deps:0,errored:!0},null}}function G(e,t){return new Map(t)}function K(e,t){return new Set(t)}function z(e,t){return new Blob(t.slice(1),{type:t[0]})}function J(e,t){e=new FormData;for(var r=0;r<t.length;r++)e.append(t[r][0],t[r][1]);return e}function Z(e,t){return t[Symbol.iterator]()}function Q(e,t){return t}function Y(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function X(e,t,r,n,i,s,a){var o,c=new Map;this._bundlerConfig=e,this._serverReferenceConfig=t,this._moduleLoading=r,this._callServer=void 0!==n?n:Y,this._encodeFormAction=i,this._nonce=s,this._chunks=c,this._stringDecoder=new TextDecoder,this._fromJSON=null,this._rowLength=this._rowTag=this._rowID=this._rowState=0,this._buffer=[],this._tempRefs=a,this._fromJSON=(o=this,function(e,t){if("string"==typeof t)return function(e,t,r,n){if("$"===n[0]){if("$"===n)return null!==U&&"0"===r&&(U={parent:U,chunk:null,value:null,deps:0,errored:!1}),d;switch(n[1]){case"$":return n.slice(1);case"L":return F(e=H(e,t=parseInt(n.slice(2),16)));case"@":if(2===n.length)return new Promise(function(){});return H(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return V(e,n=n.slice(2),t,r,q);case"T":if(t="$"+n.slice(2),null==(e=e._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return e.get(t);case"Q":return V(e,n=n.slice(2),t,r,G);case"W":return V(e,n=n.slice(2),t,r,K);case"B":return V(e,n=n.slice(2),t,r,z);case"K":return V(e,n=n.slice(2),t,r,J);case"Z":return es();case"i":return V(e,n=n.slice(2),t,r,Z);case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:return V(e,n=n.slice(1),t,r,Q)}}return n}(o,this,e,t);if("object"==typeof t&&null!==t){if(t[0]===d){if(e={$$typeof:d,type:t[1],key:t[2],ref:null,props:t[3]},null!==U){if(U=(t=U).parent,t.errored)e=F(e=new T("rejected",null,t.value,o));else if(0<t.deps){var r=new T("blocked",null,null,o);t.value=e,t.chunk=r,e=F(r)}}}else e=t;return e}return t})}function ee(e,t,r){var n=e._chunks,i=n.get(t);i&&"pending"!==i.status?i.reason.enqueueValue(r):n.set(t,new T("fulfilled",r,null,e))}function et(e,t,r,n){var i=e._chunks,s=i.get(t);s?"pending"===s.status&&(e=s.value,s.status="fulfilled",s.value=r,s.reason=n,null!==e&&P(e,s.value)):i.set(t,new T("fulfilled",r,n,e))}function er(e,t,r){var n=null;r=new ReadableStream({type:r,start:function(e){n=e}});var i=null;et(e,t,r,{enqueueValue:function(e){null===i?n.enqueue(e):i.then(function(){n.enqueue(e)})},enqueueModel:function(t){if(null===i){var r=new T("resolved_model",t,null,e);j(r),"fulfilled"===r.status?n.enqueue(r.value):(r.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),i=r)}else{r=i;var s=O(e);s.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),i=s,r.then(function(){i===s&&(i=null),M(s,t)})}},close:function(){if(null===i)n.close();else{var e=i;i=null,e.then(function(){return n.close()})}},error:function(e){if(null===i)n.error(e);else{var t=i;i=null,t.then(function(){return n.error(e)})}}})}function en(){return this}function ei(e,t,r){var n=[],i=!1,s=0,a={};a[p]=function(){var t,r=0;return(t={next:t=function(t){if(void 0!==t)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(r===n.length){if(i)return new T("fulfilled",{done:!0,value:void 0},null,e);n[r]=O(e)}return n[r++]}})[p]=en,t},et(e,t,r?a[p]():a,{enqueueValue:function(t){if(s===n.length)n[s]=new T("fulfilled",{done:!1,value:t},null,e);else{var r=n[s],i=r.value,a=r.reason;r.status="fulfilled",r.value={done:!1,value:t},null!==i&&C(r,i,a)}s++},enqueueModel:function(t){s===n.length?n[s]=N(e,t,!1):L(n[s],t,!1),s++},close:function(t){for(i=!0,s===n.length?n[s]=N(e,t,!0):L(n[s],t,!0),s++;s<n.length;)L(n[s++],'"$undefined"',!0)},error:function(t){for(i=!0,s===n.length&&(n[s]=O(e));s<n.length;)I(n[s++],t)}})}function es(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");return e.stack="Error: "+e.message,e}function ea(e,t){for(var r=e.length,n=t.length,i=0;i<r;i++)n+=e[i].byteLength;n=new Uint8Array(n);for(var s=i=0;s<r;s++){var a=e[s];n.set(a,i),i+=a.byteLength}return n.set(t,i),n}function eo(e,t,r,n,i,s){ee(e,t,i=new i((r=0===r.length&&0==n.byteOffset%s?n:ea(r,n)).buffer,r.byteOffset,r.byteLength/s))}function ec(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function eu(e){return new X(e.serverConsumerManifest.moduleMap,e.serverConsumerManifest.serverModuleMap,e.serverConsumerManifest.moduleLoading,ec,e.encodeFormAction,"string"==typeof e.nonce?e.nonce:void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function el(e,t){function r(t){$(e,t)}var n=t.getReader();n.read().then(function t(s){var a=s.value;if(s.done)$(e,Error("Connection closed."));else{var o=0,u=e._rowState;s=e._rowID;for(var d=e._rowTag,f=e._rowLength,h=e._buffer,p=a.length;o<p;){var y=-1;switch(u){case 0:58===(y=a[o++])?u=1:s=s<<4|(96<y?y-87:y-48);continue;case 1:84===(u=a[o])||65===u||79===u||111===u||85===u||83===u||115===u||76===u||108===u||71===u||103===u||77===u||109===u||86===u?(d=u,u=2,o++):64<u&&91>u||35===u||114===u||120===u?(d=u,u=3,o++):(d=0,u=3);continue;case 2:44===(y=a[o++])?u=4:f=f<<4|(96<y?y-87:y-48);continue;case 3:y=a.indexOf(10,o);break;case 4:(y=o+f)>a.length&&(y=-1)}var m=a.byteOffset+o;if(-1<y)(function(e,t,r,n,s){switch(r){case 65:ee(e,t,ea(n,s).buffer);return;case 79:eo(e,t,n,s,Int8Array,1);return;case 111:ee(e,t,0===n.length?s:ea(n,s));return;case 85:eo(e,t,n,s,Uint8ClampedArray,1);return;case 83:eo(e,t,n,s,Int16Array,2);return;case 115:eo(e,t,n,s,Uint16Array,2);return;case 76:eo(e,t,n,s,Int32Array,4);return;case 108:eo(e,t,n,s,Uint32Array,4);return;case 71:eo(e,t,n,s,Float32Array,4);return;case 103:eo(e,t,n,s,Float64Array,8);return;case 77:eo(e,t,n,s,BigInt64Array,8);return;case 109:eo(e,t,n,s,BigUint64Array,8);return;case 86:eo(e,t,n,s,DataView,1);return}for(var a=e._stringDecoder,o="",u=0;u<n.length;u++)o+=a.decode(n[u],i);switch(n=o+=a.decode(s),r){case 73:!function(e,t,r){var n=e._chunks,i=n.get(t);r=JSON.parse(r,e._fromJSON);var s=function(e,t){if(e){var r=e[t[0]];if(e=r&&r[t[2]])r=e.name;else{if(!(e=r&&r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}(e._bundlerConfig,r);if(function(e,t,r){if(null!==e)for(var n=1;n<t.length;n+=2){var i=l.d,s=i.X,a=e.prefix+t[n],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,s.call(i,a,{crossOrigin:o,nonce:r})}}(e._moduleLoading,r[1],e._nonce),r=c(s)){if(i){var a=i;a.status="blocked"}else a=new T("blocked",null,null,e),n.set(t,a);r.then(function(){return D(a,s)},function(e){return I(a,e)})}else i?D(i,s):n.set(t,new T("resolved_module",s,null,e))}(e,t,n);break;case 72:switch(t=n[0],e=JSON.parse(n=n.slice(1),e._fromJSON),n=l.d,t){case"D":n.D(e);break;case"C":"string"==typeof e?n.C(e):n.C(e[0],e[1]);break;case"L":t=e[0],r=e[1],3===e.length?n.L(t,r,e[2]):n.L(t,r);break;case"m":"string"==typeof e?n.m(e):n.m(e[0],e[1]);break;case"X":"string"==typeof e?n.X(e):n.X(e[0],e[1]);break;case"S":"string"==typeof e?n.S(e):n.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"==typeof e?n.M(e):n.M(e[0],e[1])}break;case 69:r=JSON.parse(n),(n=es()).digest=r.digest,(s=(r=e._chunks).get(t))?I(s,n):r.set(t,new T("rejected",null,n,e));break;case 84:(s=(r=e._chunks).get(t))&&"pending"!==s.status?s.reason.enqueueValue(n):r.set(t,new T("fulfilled",n,null,e));break;case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:er(e,t,void 0);break;case 114:er(e,t,"bytes");break;case 88:ei(e,t,!1);break;case 120:ei(e,t,!0);break;case 67:(e=e._chunks.get(t))&&"fulfilled"===e.status&&e.reason.close(""===n?'"$undefined"':n);break;default:(s=(r=e._chunks).get(t))?M(s,n):r.set(t,new T("resolved_model",n,null,e))}})(e,s,d,h,f=new Uint8Array(a.buffer,m,y-o)),o=y,3===u&&o++,f=s=d=u=0,h.length=0;else{a=new Uint8Array(a.buffer,m,a.byteLength-o),h.push(a),f-=a.byteLength;break}}return e._rowState=u,e._rowID=s,e._rowTag=d,e._rowLength=f,n.read().then(t).catch(r)}}).catch(r)}t.createFromFetch=function(e,t){var r=eu(t);return e.then(function(e){el(r,e.body)},function(e){$(r,e)}),H(r,0)},t.createFromReadableStream=function(e,t){return el(t=eu(t),e),H(t,0)},t.createServerReference=function(e){return function(e,t,r){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return S(n,{id:e,bound:null},r),n}(e,ec)},t.createTemporaryReferenceSet=function(){return new Map},t.encodeReply=function(e,t){return new Promise(function(r,n){var i=_(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,r,n);if(t&&t.signal){var s=t.signal;if(s.aborted)i(s.reason);else{var a=function(){i(s.reason),s.removeEventListener("abort",a)};s.addEventListener("abort",a)}}})}},96227:(e,t,r)=>{"use strict";e.exports=r(36992)},46748:()=>{},26699:(e,t,r)=>{var n;(()=>{var i={226:function(i,s){!function(a,o){"use strict";var c="function",u="undefined",l="object",d="string",f="major",h="model",p="name",y="type",m="vendor",g="version",b="architecture",_="console",v="mobile",w="tablet",x="smarttv",S="wearable",E="embedded",A="Amazon",k="Apple",T="ASUS",R="BlackBerry",O="Browser",P="Chrome",C="Firefox",I="Google",N="Huawei",L="Microsoft",M="Motorola",D="Opera",U="Samsung",j="Sharp",B="Sony",$="Xiaomi",F="Zebra",H="Facebook",W="Chromium OS",q="Mac OS",V=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},G=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},K=function(e,t){return typeof e===d&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},Z=function(e,t){for(var r,n,i,s,a,u,d=0;d<t.length&&!a;){var f=t[d],h=t[d+1];for(r=n=0;r<f.length&&!a&&f[r];)if(a=f[r++].exec(e))for(i=0;i<h.length;i++)u=a[++n],typeof(s=h[i])===l&&s.length>0?2===s.length?typeof s[1]==c?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==c||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):void 0:this[s[0]]=u?s[1].call(this,u,s[2]):void 0:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):void 0):this[s]=u||o;d+=2}},Q=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(K(t[r][n],e))return"?"===r?o:r}else if(K(t[r],e))return"?"===r?o:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[p,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],g],[/\bfocus\/([\w\.]+)/i],[g,[p,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[g,[p,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+O],g],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,H],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,P+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,z]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,U],[y,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,U],[y,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,k],[y,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,k],[y,w]],[/(macintosh);/i],[h,[m,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,j],[y,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[m,N],[y,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,N],[y,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[m,$],[y,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[m,$],[y,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,"OPPO"],[y,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[y,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[y,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,M],[y,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,M],[y,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,"LG"],[y,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,"LG"],[y,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[m,"Lenovo"],[y,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[m,"Nokia"],[y,v]],[/(pixel c)\b/i],[h,[m,I],[y,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,I],[y,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,B],[y,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,B],[y,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,"OnePlus"],[y,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,A],[y,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,A],[y,v]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[y,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,R],[y,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,T],[y,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,T],[y,v]],[/(nexus 9)/i],[h,[m,"HTC"],[y,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[y,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[y,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[y,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[y,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[y,w]],[/(surface duo)/i],[h,[m,L],[y,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[y,v]],[/(u304aa)/i],[h,[m,"AT&T"],[y,v]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[y,v]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[y,w]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[y,w]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[y,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[y,w]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[y,w]],[/\b(k88) b/i],[h,[m,"ZTE"],[y,w]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[y,v]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[y,v]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[y,w]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[y,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[y,w]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[y,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[y,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[y,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[y,v]],[/\b(ph-1) /i],[h,[m,"Essential"],[y,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[y,w]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[y,w]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[y,w]],[/(shield[\w ]+) b/i],[h,[m,"Nvidia"],[y,w]],[/(sprint) (\w+)/i],[m,h,[y,v]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,L],[y,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,F],[y,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,F],[y,v]],[/smart-tv.+(samsung)/i],[m,[y,x]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,U],[y,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[y,x]],[/(apple) ?tv/i],[m,[h,k+" TV"],[y,x]],[/crkey/i],[[h,P+"cast"],[m,I],[y,x]],[/droid.+aft(\w)( bui|\))/i],[h,[m,A],[y,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,j],[y,x]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,B],[y,x]],[/(mitv-\w{5}) bui/i],[h,[m,$],[y,x]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[y,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,J],[h,J],[y,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[y,_]],[/droid.+; (shield) bui/i],[h,[m,"Nvidia"],[y,_]],[/(playstation [345portablevi]+)/i],[h,[m,B],[y,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,L],[y,_]],[/((pebble))app/i],[m,h,[y,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,k],[y,S]],[/droid.+; (glass) \d/i],[h,[m,I],[y,S]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,F],[y,S]],[/(quest( 2| pro)?)/i],[h,[m,H],[y,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[y,E]],[/(aeobc)\b/i],[h,[m,A],[y,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[y,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[y,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,v]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[g,Q,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[g,Q,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,q],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},ee=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof a!==u&&a.navigator?a.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:o,s=t?V(X,t):X,_=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=o,t[g]=o,Z.call(t,n,s.browser),t[f]=typeof(e=t[g])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,_&&r&&r.brave&&typeof r.brave.isBrave==c&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,Z.call(e,n,s.cpu),e},this.getDevice=function(){var e={};return e[m]=o,e[h]=o,e[y]=o,Z.call(e,n,s.device),_&&!e[y]&&i&&i.mobile&&(e[y]=v),_&&"Macintosh"==e[h]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[y]=w),e},this.getEngine=function(){var e={};return e[p]=o,e[g]=o,Z.call(e,n,s.engine),e},this.getOS=function(){var e={};return e[p]=o,e[g]=o,Z.call(e,n,s.os),_&&!e[p]&&i&&"Unknown"!=i.platform&&(e[p]=i.platform.replace(/chrome os/i,W).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?J(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=G([p,g,f]),ee.CPU=G([b]),ee.DEVICE=G([h,m,y,_,v,x,w,S,E]),ee.ENGINE=ee.OS=G([p,g]),typeof s!==u?(i.exports&&(s=i.exports=ee),s.UAParser=ee):r.amdO?void 0!==(n=(function(){return ee}).call(t,r,t,e))&&(e.exports=n):typeof a!==u&&(a.UAParser=ee);var et=typeof a!==u&&(a.jQuery||a.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,a),n=!1}finally{n&&delete s[e]}return r.exports}a.ab=__dirname+"/";var o=a(226);e.exports=o})()},76850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicUsageError",{enumerable:!0,get:function(){return o}});let n=r(43943),i=r(43548),s=r(82432),a=r(1301),o=e=>(0,n.isDynamicServerError)(e)||(0,i.isBailoutToCSRError)(e)||(0,s.isNextRouterError)(e)||(0,a.isDynamicPostpone)(e)},52441:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return d},APP_DIR_ALIAS:function(){return I},CACHE_ONE_YEAR:function(){return E},DOT_NEXT_ALIAS:function(){return P},ESLINT_DEFAULT_DIRS:function(){return Q},GSP_NO_RETURNED_VALUE:function(){return V},GSSP_COMPONENT_MEMBER_ERROR:function(){return z},GSSP_NO_RETURNED_VALUE:function(){return G},INFINITE_CACHE:function(){return A},INSTRUMENTATION_HOOK_FILENAME:function(){return R},MATCHED_PATH_HEADER:function(){return i},MIDDLEWARE_FILENAME:function(){return k},MIDDLEWARE_LOCATION_REGEXP:function(){return T},NEXT_BODY_SUFFIX:function(){return p},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return S},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return g},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return b},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return m},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return x},NEXT_CACHE_TAGS_HEADER:function(){return y},NEXT_CACHE_TAG_MAX_ITEMS:function(){return v},NEXT_CACHE_TAG_MAX_LENGTH:function(){return w},NEXT_DATA_SUFFIX:function(){return f},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return h},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return _},NON_STANDARD_NODE_ENV:function(){return J},PAGES_DIR_ALIAS:function(){return O},PRERENDER_REVALIDATE_HEADER:function(){return s},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return a},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return B},ROOT_DIR_ALIAS:function(){return C},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return j},RSC_ACTION_ENCRYPTION_ALIAS:function(){return U},RSC_ACTION_PROXY_ALIAS:function(){return M},RSC_ACTION_VALIDATE_ALIAS:function(){return L},RSC_CACHE_WRAPPER_ALIAS:function(){return D},RSC_MOD_REF_PROXY_ALIAS:function(){return N},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SEGMENTS_DIR_SUFFIX:function(){return c},RSC_SEGMENT_SUFFIX:function(){return u},RSC_SUFFIX:function(){return l},SERVER_PROPS_EXPORT_ERROR:function(){return q},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return F},SERVER_PROPS_SSG_CONFLICT:function(){return H},SERVER_RUNTIME:function(){return Y},SSG_FALLBACK_EXPORT_ERROR:function(){return Z},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return $},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return W},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return K},WEBPACK_LAYERS:function(){return ee},WEBPACK_RESOURCE_QUERIES:function(){return et}});let r="nxtP",n="nxtI",i="x-matched-path",s="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",o=".prefetch.rsc",c=".segments",u=".segment.rsc",l=".rsc",d=".action",f=".json",h=".meta",p=".body",y="x-next-cache-tags",m="x-next-cache-soft-tags",g="x-next-revalidated-tags",b="x-next-revalidate-tag-token",_="next-resume",v=128,w=256,x=1024,S="_N_T_",E=31536e3,A=0xfffffffe,k="middleware",T=`(?:src/)?${k}`,R="instrumentation",O="private-next-pages",P="private-dot-next",C="private-next-root-dir",I="private-next-app-dir",N="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",L="private-next-rsc-action-validate",M="private-next-rsc-server-reference",D="private-next-rsc-cache-wrapper",U="private-next-rsc-action-encryption",j="private-next-rsc-action-client-wrapper",B="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",$="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",F="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",H="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",W="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",q="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",V="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",G="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",K="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",z="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",J='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',Z="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",Q=["app","pages","components","lib","src"],Y={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},X={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser"},ee={...X,GROUP:{builtinReact:[X.reactServerComponents,X.actionBrowser],serverOnly:[X.reactServerComponents,X.actionBrowser,X.instrument,X.middleware],neutralTarget:[X.api],clientOnly:[X.serverSideRendering,X.appPagesBrowser],bundled:[X.reactServerComponents,X.actionBrowser,X.serverSideRendering,X.appPagesBrowser,X.shared,X.instrument],appPages:[X.reactServerComponents,X.serverSideRendering,X.appPagesBrowser,X.actionBrowser]}},et={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},79028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},81791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return i},VIEWPORT_BOUNDARY_NAME:function(){return n}});let r="__next_metadata_boundary__",n="__next_viewport_boundary__",i="__next_outlet_boundary__"},31445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return i},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return s}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)};function i(){return new Promise(e=>n(e))}function s(){return new Promise(e=>setImmediate(e))}},2543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return i}});let n=r(29294);function i(e){let t=n.workAsyncStorage.getStore();if(!t)throw Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context");let{afterContext:r}=t;return r.after(e)}},95373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(2543),t)},1301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return S},abortAndThrowOnSynchronousRequestDataAccess:function(){return w},abortOnSynchronousPlatformIOAccess:function(){return _},accessedDynamicData:function(){return C},annotateDynamicAccess:function(){return D},consumeDynamicAccess:function(){return I},createDynamicTrackingState:function(){return d},createDynamicValidationState:function(){return f},createPostponedAbortSignal:function(){return M},formatDynamicAPIAccesses:function(){return N},getFirstDynamicReason:function(){return h},isDynamicPostpone:function(){return k},isPrerenderInterruptedError:function(){return P},markCurrentScopeAsDynamic:function(){return p},postponeWithTracking:function(){return E},throwIfDisallowedDynamic:function(){return W},throwToInterruptStaticGeneration:function(){return m},trackAllowedDynamicAccess:function(){return H},trackDynamicDataInDynamicRender:function(){return g},trackFallbackParamAccessed:function(){return y},trackSynchronousPlatformIOAccessInDev:function(){return v},trackSynchronousRequestDataAccessInDev:function(){return x},useDynamicRouteParams:function(){return U}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(23346)),i=r(43943),s=r(84441),a=r(63033),o=r(29294),c=r(97230),u=r(81791),l="function"==typeof n.default.unstable_postpone;function d(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function f(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function h(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function p(e,t,r){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender-ppr"===t.type)E(e.route,r,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let n=new i.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}}function y(e,t){let r=a.workUnitAsyncStorage.getStore();r&&"prerender-ppr"===r.type&&E(e.route,t,r.dynamicTracking)}function m(e,t,r){let n=new i.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function g(e,t){t&&"cache"!==t.type&&"unstable-cache"!==t.type&&("prerender"===t.type||"prerender-legacy"===t.type)&&(t.revalidate=0)}function b(e,t,r){let n=O(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function _(e,t,r,n){let i=n.dynamicTracking;return i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicExpression=t,i.syncDynamicErrorWithStack=r),b(e,t,n)}function v(e){e.prerenderPhase=!1}function w(e,t,r,n){let i=n.dynamicTracking;throw i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicExpression=t,i.syncDynamicErrorWithStack=r,!0===n.validating&&(i.syncDynamicLogged=!0)),b(e,t,n),O(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}let x=v;function S({reason:e,route:t}){let r=a.workUnitAsyncStorage.getStore();E(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function E(e,t,r){L(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),n.default.unstable_postpone(A(e,t))}function A(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&T(e.message)}function T(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===T(A("%%%","^^^")))throw Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js");let R="NEXT_PRERENDER_INTERRUPTED";function O(e){let t=Error(e);return t.digest=R,t}function P(e){return"object"==typeof e&&null!==e&&e.digest===R&&"name"in e&&"message"in e&&e instanceof Error}function C(e){return e.length>0}function I(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function N(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function L(){if(!l)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function M(e){L();let t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function D(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function U(e){if("undefined"==typeof window){let t=o.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){let r=a.workUnitAsyncStorage.getStore();r&&("prerender"===r.type?n.default.use((0,c.makeHangingPromise)(r.renderSignal,e)):"prerender-ppr"===r.type?E(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&m(e,t,r))}}}let j=/\n\s+at Suspense \(<anonymous>\)/,B=RegExp(`\\n\\s+at ${u.METADATA_BOUNDARY_NAME}[\\n\\s]`),$=RegExp(`\\n\\s+at ${u.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),F=RegExp(`\\n\\s+at ${u.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function H(e,t,r,n,i){if(!F.test(t)){if(B.test(t)){r.hasDynamicMetadata=!0;return}if($.test(t)){r.hasDynamicViewport=!0;return}if(j.test(t)){r.hasSuspendedDynamic=!0;return}if(n.syncDynamicErrorWithStack||i.syncDynamicErrorWithStack){r.hasSyncDynamicErrors=!0;return}else{let n=function(e,t){let r=Error(e);return r.stack="Error: "+e+t,r}(`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);r.dynamicErrors.push(n);return}}}function W(e,t,r,n){let i,a,o;if(r.syncDynamicErrorWithStack?(i=r.syncDynamicErrorWithStack,a=r.syncDynamicExpression,o=!0===r.syncDynamicLogged):n.syncDynamicErrorWithStack?(i=n.syncDynamicErrorWithStack,a=n.syncDynamicExpression,o=!0===n.syncDynamicLogged):(i=null,a=void 0,o=!1),t.hasSyncDynamicErrors&&i)throw o||console.error(i),new s.StaticGenBailoutError;let c=t.dynamicErrors;if(c.length){for(let e=0;e<c.length;e++)console.error(c[e]);throw new s.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(i)throw console.error(i),new s.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${a} was used. Follow the instructions in the error for this expression to resolve.`);throw new s.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}if(t.hasDynamicViewport){if(i)throw console.error(i),new s.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${a} was used. Follow the instructions in the error for this expression to resolve.`);throw new s.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}}}},76888:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return o},decrypt:function(){return l},encrypt:function(){return u},getActionEncryptionKey:function(){return y},getClientReferenceManifestForRsc:function(){return p},getServerModuleMap:function(){return h},setReferenceManifestsSingleton:function(){return f},stringToUint8Array:function(){return c}});let i=r(1341),s=r(54178),a=r(29294);function o(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n}function c(e){let t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}function u(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function l(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}let d=Symbol.for("next.server.action-manifests");function f({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:n}){var i;let a=null==(i=globalThis[d])?void 0:i.clientReferenceManifestsPerPage;globalThis[d]={clientReferenceManifestsPerPage:{...a,[(0,s.normalizeAppPath)(e)]:t},serverActionsManifest:r,serverModuleMap:n}}function h(){let e=globalThis[d];if(!e)throw new i.InvariantError("Missing manifest for Server Actions.");return e.serverModuleMap}function p(){let e=globalThis[d];if(!e)throw new i.InvariantError("Missing manifest for Server Actions.");let{clientReferenceManifestsPerPage:t}=e,r=a.workAsyncStorage.getStore();if(!r)return function(e){let t=Object.values(e),r={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let e of t)r.clientModules={...r.clientModules,...e.clientModules},r.edgeRscModuleMapping={...r.edgeRscModuleMapping,...e.edgeRscModuleMapping},r.rscModuleMapping={...r.rscModuleMapping,...e.rscModuleMapping};return r}(t);let n=t[r.route];if(!n)throw new i.InvariantError(`Missing Client Reference Manifest for ${r.route}.`);return n}async function y(){if(n)return n;let e=globalThis[d];if(!e)throw new i.InvariantError("Missing manifest for Server Actions.");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw new i.InvariantError("Missing encryption key for Server Actions");return n=await crypto.subtle.importKey("raw",c(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},70376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return h},encryptActionBoundArgs:function(){return f}}),r(46748);let n=r(65369),i=r(96227),s=r(45453),a=r(76888),o=r(63033),c=new TextEncoder,u=new TextDecoder;async function l(e,t){let r=await (0,a.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=atob(t),i=n.slice(0,16),s=n.slice(16),o=u.decode(await (0,a.decrypt)(r,(0,a.stringToUint8Array)(i),(0,a.stringToUint8Array)(s)));if(!o.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return o.slice(e.length)}async function d(e,t){let r=await (0,a.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=new Uint8Array(16);o.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(n));let i=(0,a.arrayBufferToString)(n.buffer),s=await (0,a.encrypt)(r,n,c.encode(e+t));return btoa(i+(0,a.arrayBufferToString)(s))}async function f(e,t){let{clientModules:r}=(0,a.getClientReferenceManifestForRsc)(),i=Error();Error.captureStackTrace(i,f);let c=!1,u=await (0,s.streamToString)((0,n.renderToReadableStream)(t,r,{onError(e){c||(c=!0,i.message=e instanceof Error?e.message:String(e))}}));if(c)throw i;let l=o.workUnitAsyncStorage.getStore();if(!l)return d(e,u);let h=(0,o.getPrerenderResumeDataCache)(l),p=(0,o.getRenderResumeDataCache)(l),y=e+u,m=(null==h?void 0:h.encryptedBoundArgs.get(y))??(null==p?void 0:p.encryptedBoundArgs.get(y));if(m)return m;let g="prerender"===l.type?l.cacheSignal:void 0;null==g||g.beginRead();let b=await d(e,u);return null==g||g.endRead(),null==h||h.encryptedBoundArgs.set(y,b),b}async function h(e,t){let{edgeRscModuleMapping:r,rscModuleMapping:n}=(0,a.getClientReferenceManifestForRsc)(),s=await l(e,await t);return await (0,i.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(c.encode(s)),e.close()}}),{serverConsumerManifest:{moduleLoading:null,moduleMap:n,serverModuleMap:(0,a.getServerModuleMap)()}})}},17434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(23346));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let s={current:null},a="function"==typeof n.cache?n.cache:e=>e,o=console.warn;function c(e){return function(...t){o(e(...t))}}a(e=>{try{o(s.current)}finally{s.current=null}})},97230:(e,t)=>{"use strict";function r(e,t){let r=new Promise((r,n)=>{e.addEventListener("abort",()=>{n(Error(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`))},{once:!0})});return r.catch(n),r}function n(){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"makeHangingPromise",{enumerable:!0,get:function(){return r}})},57063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},65235:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return c},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return n},LogSpanAllowList:function(){return y},MiddlewareSpan:function(){return h},NextNodeServerSpan:function(){return s},NextServerSpan:function(){return i},NextVanillaSpanAllowlist:function(){return p},NodeSpan:function(){return l},RenderSpan:function(){return o},ResolveMetadataSpan:function(){return f},RouterSpan:function(){return u},StartServerSpan:function(){return a}});var r=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(r||{}),n=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(n||{}),i=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(i||{}),s=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(s||{}),a=function(e){return e.startServer="startServer.startServer",e}(a||{}),o=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(o||{}),c=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(c||{}),u=function(e){return e.executeRoute="Router.executeRoute",e}(u||{}),l=function(e){return e.runHandler="Node.runHandler",e}(l||{}),d=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(d||{}),f=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(f||{}),h=function(e){return e.execute="Middleware.execute",e}(h||{});let p=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],y=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},37983:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BubbledError:function(){return f},SpanKind:function(){return l},SpanStatusCode:function(){return u},getTracer:function(){return w},isBubbledError:function(){return h}});let i=r(65235),s=r(24);try{n=r(93851)}catch(e){n=r(93851)}let{context:a,propagation:o,trace:c,SpanStatusCode:u,SpanKind:l,ROOT_CONTEXT:d}=n;class f extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function h(e){return"object"==typeof e&&null!==e&&e instanceof f}let p=(e,t)=>{h(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:u.ERROR,message:null==t?void 0:t.message})),e.end()},y=new Map,m=n.createContextKey("next.rootSpanId"),g=0,b=()=>g++,_={set(e,t,r){e.push({key:t,value:r})}};class v{getTracerInstance(){return c.getTracer("next.js","0.0.1")}getContext(){return a}getTracePropagationData(){let e=a.active(),t=[];return o.inject(e,t,_),t}getActiveScopeSpan(){return c.getSpan(null==a?void 0:a.active())}withPropagatedContext(e,t,r){let n=a.active();if(c.getSpanContext(n))return t();let i=o.extract(n,e,r);return a.with(i,t)}trace(...e){var t;let[r,n,o]=e,{fn:u,options:l}="function"==typeof n?{fn:n,options:{}}:{fn:o,options:{...n}},f=l.spanName??r;if(!i.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||l.hideSpan)return u();let h=this.getSpanContext((null==l?void 0:l.parentSpan)??this.getActiveScopeSpan()),g=!1;h?(null==(t=c.getSpanContext(h))?void 0:t.isRemote)&&(g=!0):(h=(null==a?void 0:a.active())??d,g=!0);let _=b();return l.attributes={"next.span_name":f,"next.span_type":r,...l.attributes},a.with(h.setValue(m,_),()=>this.getTracerInstance().startActiveSpan(f,l,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{y.delete(_),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&i.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};g&&y.set(_,new Map(Object.entries(l.attributes??{})));try{if(u.length>1)return u(e,t=>p(e,t));let t=u(e);if((0,s.isThenable)(t))return t.then(t=>(e.end(),t)).catch(t=>{throw p(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw p(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,s]=3===e.length?e:[e[0],{},e[1]];return i.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let i=arguments.length-1,o=arguments[i];if("function"!=typeof o)return t.trace(r,e,()=>s.apply(this,arguments));{let n=t.getContext().bind(a.active(),o);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?c.setSpan(a.active(),e):void 0}getRootSpanAttributes(){let e=a.active().getValue(m);return y.get(e)}setRootSpanAttribute(e,t){let r=a.active().getValue(m),n=y.get(r);n&&n.set(e,t)}}let w=(()=>{let e=new v;return()=>e})()},34704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return u}});let n=r(29294),i=r(63033),s=r(1301),a=r(84441),o=r(97230),c=r(96803);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return(0,o.makeHangingPromise)(t.renderSignal,"`connection()`");"prerender-ppr"===t.type?(0,s.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,s.throwToInterruptStaticGeneration)("connection",e,t)}(0,s.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},53825:(e,t,r)=>{"use strict";Object.defineProperty(t,"U",{enumerable:!0,get:function(){return f}});let n=r(4013),i=r(24738),s=r(29294),a=r(63033),o=r(1301),c=r(84441),u=r(97230),l=r(17434),d=(r(31445),r(96803));function f(){let e="cookies",t=s.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(t.forceStatic)return p(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===r.type)throw Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(t.dynamicShouldError)throw new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if("prerender"===r.type)return function(e,t){let r=h.get(t);if(r)return r;let n=(0,u.makeHangingPromise)(t.renderSignal,"`cookies()`");return h.set(t,n),Object.defineProperties(n,{[Symbol.iterator]:{value:function(){let r="`cookies()[Symbol.iterator]()`",n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},size:{get(){let r="`cookies().size`",n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},get:{value:function(){let r;r=0==arguments.length?"`cookies().get()`":`\`cookies().get(${y(arguments[0])})\``;let n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},getAll:{value:function(){let r;r=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${y(arguments[0])})\``;let n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},has:{value:function(){let r;r=0==arguments.length?"`cookies().has()`":`\`cookies().has(${y(arguments[0])})\``;let n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},set:{value:function(){let r;if(0==arguments.length)r="`cookies().set()`";else{let e=arguments[0];r=e?`\`cookies().set(${y(e)}, ...)\``:"`cookies().set(...)`"}let n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},delete:{value:function(){let r;r=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${y(arguments[0])})\``:`\`cookies().delete(${y(arguments[0])}, ...)\``;let n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},clear:{value:function(){let r="`cookies().clear()`",n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},toString:{value:function(){let r="`cookies().toString()`",n=m(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}}}),n}(t.route,r);"prerender-ppr"===r.type?(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,o.throwToInterruptStaticGeneration)(e,t,r)}(0,o.trackDynamicDataInDynamicRender)(t,r)}let l=(0,a.getExpectedRequestStore)(e);return p((0,n.areCookiesMutableInCurrentPhase)(l)?l.userspaceMutableCookies:l.cookies)}let h=new WeakMap;function p(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):g.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):b.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function y(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}function m(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}function g(){return this.getAll().map(e=>[e.name,e]).values()}function b(e){for(let e of this.getAll())this.delete(e.name);return e}(0,l.createDedupedByCallsiteServerErrorLoggerDev)(m)},99863:(e,t,r)=>{"use strict";let n=r(63033),i=r(29294),s=r(1301),a=r(17434),o=r(84441),c=r(43943);new WeakMap;class u{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){l("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){l("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}function l(e){let t=i.workAsyncStorage.getStore(),r=n.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===r.type)throw Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if("after"===r.phase)throw Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`)}if(t.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if("prerender"===r.type){let n=Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,n,r)}else if("prerender-ppr"===r.type)(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let n=new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)})},50406:(e,t,r)=>{"use strict";Object.defineProperty(t,"b",{enumerable:!0,get:function(){return d}});let n=r(44734),i=r(29294),s=r(63033),a=r(1301),o=r(84441),c=r(97230),u=r(17434),l=(r(31445),r(96803));function d(){let e=i.workAsyncStorage.getStore(),t=s.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return h(n.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return function(e,t){let r=f.get(t);if(r)return r;let n=(0,c.makeHangingPromise)(t.renderSignal,"`headers()`");return f.set(t,n),Object.defineProperties(n,{append:{value:function(){let r=`\`headers().append(${p(arguments[0])}, ...)\``,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},delete:{value:function(){let r=`\`headers().delete(${p(arguments[0])})\``,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},get:{value:function(){let r=`\`headers().get(${p(arguments[0])})\``,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},has:{value:function(){let r=`\`headers().has(${p(arguments[0])})\``,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},set:{value:function(){let r=`\`headers().set(${p(arguments[0])}, ...)\``,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},getSetCookie:{value:function(){let r="`headers().getSetCookie()`",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},forEach:{value:function(){let r="`headers().forEach(...)`",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},keys:{value:function(){let r="`headers().keys()`",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},values:{value:function(){let r="`headers().values()`",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},entries:{value:function(){let r="`headers().entries()`",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},[Symbol.iterator]:{value:function(){let r="`headers()[Symbol.iterator]()`",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}}}),n}(e.route,t);"prerender-ppr"===t.type?(0,a.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,a.throwToInterruptStaticGeneration)("headers",e,t)}(0,a.trackDynamicDataInDynamicRender)(e,t)}return h((0,s.getExpectedRequestStore)("headers").headers)}let f=new WeakMap;function h(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function p(e){return"string"==typeof e?`'${e}'`:"..."}function y(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}(0,u.createDedupedByCallsiteServerErrorLoggerDev)(y)},96803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return o},describeStringPropertyAccess:function(){return a},isRequestAPICallableInsideAfter:function(){return l},throwWithStaticGenerationBailoutError:function(){return c},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return u},wellKnownProperties:function(){return d}});let n=r(84441),i=r(3295),s=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function a(e,t){return s.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}function o(e,t){let r=JSON.stringify(t);return`\`Reflect.has(${e}, ${r})\`, \`${r} in ${e}\`, or similar`}function c(e,t){throw new n.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function u(e,t){throw new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function l(){let e=i.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}let d=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},3793:(e,t,r)=>{"use strict";e.exports=r(70260).vendored["react-rsc"].ReactDOM},65369:(e,t,r)=>{"use strict";e.exports=r(70260).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},23346:(e,t,r)=>{"use strict";e.exports=r(70260).vendored["react-rsc"].React},28678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return r}});let r={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},45453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{chainStreams:function(){return d},continueDynamicHTMLResume:function(){return k},continueDynamicPrerender:function(){return E},continueFizzStream:function(){return S},continueStaticPrerender:function(){return A},createBufferedTransformStream:function(){return m},createDocumentClosingStream:function(){return T},createRootLayoutValidatorStream:function(){return x},renderToInitialFizzStream:function(){return g},streamFromBuffer:function(){return h},streamFromString:function(){return f},streamToBuffer:function(){return p},streamToString:function(){return y}});let n=r(37983),i=r(65235),s=r(79028),a=r(31445),o=r(28678),c=r(18422);function u(){}let l=new TextEncoder;function d(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let s=e[i];return(n=n.then(()=>s.pipeTo(r))).catch(u),t}function f(e){return new ReadableStream({start(t){t.enqueue(l.encode(e)),t.close()}})}function h(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function p(e){let t=e.getReader(),r=[];for(;;){let{done:e,value:n}=await t.read();if(e)break;r.push(n)}return Buffer.concat(r)}async function y(e){let t=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e)r+=t.decode(n,{stream:!0});return r+t.decode()}function m(){let e,t=[],r=0,n=n=>{if(e)return;let i=new s.DetachedPromise;e=i,(0,a.scheduleImmediate)(()=>{try{let e=new Uint8Array(r),i=0;for(let r=0;r<t.length;r++){let n=t[r];e.set(n,i),i+=n.byteLength}t.length=0,r=0,n.enqueue(e)}catch{}finally{e=void 0,i.resolve()}})};return new TransformStream({transform(e,i){t.push(e),r+=e.byteLength,n(i)},flush(){if(e)return e.promise}})}function g({ReactDOMServer:e,element:t,streamOptions:r}){return(0,n.getTracer)().trace(i.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function b(e){let t=!1,r=!1,n=!1;return new TransformStream({async transform(i,s){if(n=!0,r){s.enqueue(i);return}let u=await e();if(t){if(u){let e=l.encode(u);s.enqueue(e)}s.enqueue(i),r=!0}else{let e=(0,c.indexOfUint8Array)(i,o.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(u){let t=l.encode(u),r=new Uint8Array(i.length+t.length);r.set(i.slice(0,e)),r.set(t,e),r.set(i.slice(e),e+t.length),s.enqueue(r)}else s.enqueue(i);r=!0,t=!0}}t?(0,a.scheduleImmediate)(()=>{r=!1}):s.enqueue(i)},async flush(t){if(n){let r=await e();r&&t.enqueue(l.encode(r))}}})}function _(e){let t=null,r=!1;async function n(n){if(t)return;let i=e.getReader();await (0,a.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await i.read();if(e){r=!0;return}n.enqueue(t)}}catch(e){n.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=n(r))},flush(e){if(!r)return t||n(e)}})}let v="</body></html>";function w(){let e=!1;return new TransformStream({transform(t,r){if(e)return r.enqueue(t);let n=(0,c.indexOfUint8Array)(t,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(n>-1){if(e=!0,t.length===o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let i=t.slice(0,n);if(r.enqueue(i),t.length>o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+n){let e=t.slice(n+o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);r.enqueue(e)}}else r.enqueue(t)},flush(e){e.enqueue(o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function x(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,c.indexOfUint8Array)(r,o.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,c.indexOfUint8Array)(r,o.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(l.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(n)}</script>`))}})}async function S(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,getServerInsertedHTML:i,serverInsertedHTMLToHead:o,validateRootLayout:c}){let u=t?t.split(v,1)[0]:null;return n&&"allReady"in e&&await e.allReady,function(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}(e,[m(),i&&!o?new TransformStream({transform:async(e,t)=>{let r=await i();r&&t.enqueue(l.encode(r)),t.enqueue(e)}}):null,null!=u&&u.length>0?function(e){let t,r=!1,n=r=>{let n=new s.DetachedPromise;t=n,(0,a.scheduleImmediate)(()=>{try{r.enqueue(l.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(l.encode(e))}})}(u):null,r?_(r):null,c?x():null,w(),i&&o?b(i):null])}async function E(e,{getServerInsertedHTML:t}){return e.pipeThrough(m()).pipeThrough(new TransformStream({transform(e,t){(0,c.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,c.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY)||(0,c.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.HTML)||(e=(0,c.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.BODY),e=(0,c.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(b(t))}async function A(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(b(r)).pipeThrough(_(t)).pipeThrough(w())}async function k(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(b(r)).pipeThrough(_(t)).pipeThrough(w())}function T(){return f(v)}},18422:(e,t)=>{"use strict";function r(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let i=0;i<t.length;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}return -1}function n(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function i(e,t){let n=r(e,t);if(0===n)return e.subarray(t.length);if(!(n>-1))return e;{let r=new Uint8Array(e.length-t.length);return r.set(e.slice(0,n)),r.set(e.slice(n+t.length),n),r}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return n},removeFromUint8Array:function(){return i}})},43531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return i}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},49217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return s.NextResponse},URLPattern:function(){return o.URLPattern},after:function(){return c.after},connection:function(){return u.connection},userAgent:function(){return a.userAgent},userAgentFromString:function(){return a.userAgentFromString}});let n=r(78216),i=r(52480),s=r(15884),a=r(90624),o=r(99113),c=r(95373),u=r(34704)},65596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return l}});let n=r(82146),i=r(50487),s=r(86974),a=r(28724),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class l{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:c(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let c=(0,a.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),l=(0,s.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(l):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,l);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[u].options.nextConfig)?void 0:null==(i=o.i18n)?void 0:i.defaultLocale);this[u].url.pathname=c.pathname,this[u].defaultLocale=d,this[u].basePath=c.basePath??"",this[u].buildId=c.buildId,this[u].locale=c.locale??d,this[u].trailingSlash=c.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=c(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new l(String(this),this[u].options)}}},44734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return i}});let n=r(5779);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==a)return n.ReflectAdapter.get(t,a,i)},set(t,r,i,s){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,s);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return n.ReflectAdapter.set(t,o??r,i,s)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==s&&n.ReflectAdapter.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===s||n.ReflectAdapter.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},5779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},4013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return f},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return d},areCookiesMutableInCurrentPhase:function(){return p},getModifiedCookieValues:function(){return l},responseCookiesToRequestCookies:function(){return m},wrapWithMutableAccessCheck:function(){return h}});let n=r(24738),i=r(5779),s=r(29294),a=r(63033);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new o}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return o.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let u=Symbol.for("next.mutated.cookies");function l(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}function d(e,t){let r=l(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),s=i.getAll();for(let e of r)i.set(e);for(let e of s)i.set(e);return!0}class f{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],o=new Set,c=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),a=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of a){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},l=new Proxy(r,{get(e,t,r){switch(t){case u:return a;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),l}finally{c()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),l}finally{c()}};default:return i.ReflectAdapter.get(e,t,r)}}});return l}}function h(e){let t=new Proxy(e,{get(e,r,n){switch(r){case"delete":return function(...r){return y("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return y("cookies().set"),e.set(...r),t};default:return i.ReflectAdapter.get(e,r,n)}}});return t}function p(e){return"action"===e.phase}function y(e){if(!p((0,a.getExpectedRequestStore)(e)))throw new o}function m(e){let t=new n.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},24738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}});let n=r(6003)},78216:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},52480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return c}});let n=r(65596),i=r(51486),s=r(43531),a=r(24738),o=Symbol("internal request");class c extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let s=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new a.RequestCookies(this.headers),nextUrl:s,url:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new s.RemovedPageError}get ua(){throw new s.RemovedUAError}get url(){return this[o].url}}},15884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=r(24738),i=r(65596),s=r(51486),a=r(5779),o=r(24738),c=Symbol("internal response"),u=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,u=new Proxy(new o.ResponseCookies(r),{get(e,i,s){switch(i){case"delete":case"set":return(...s)=>{let a=Reflect.apply(e[i],e,s),c=new Headers(r);return a instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),l(t,c),a};default:return a.ReflectAdapter.get(e,i,s)}}});this[c]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,s.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),l(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new d(null,{...e,headers:t})}}},99113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},90624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return a},userAgentFromString:function(){return s}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(26699));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function s(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function a({headers:e}){return s(e.get("user-agent")||void 0)}},51486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},normalizeNextQueryParam:function(){return c},splitCookiesString:function(){return s},toNodeOutgoingHttpHeaders:function(){return a},validateURL:function(){return o}});let n=r(52441);function i(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function s(e){var t,r,n,i,s,a=[],o=0;function c(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;c();)if(","===(r=e.charAt(o))){for(n=o,o+=1,c(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function a(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...s(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function c(e,t){for(let r of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])e!==r&&e.startsWith(r)&&t(e.substring(r.length))}},86974:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},82146:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let s of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=s.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===s.defaultLocale.toLowerCase()||(null==(i=s.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return s}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},41545:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},1341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InvariantError",{enumerable:!0,get:function(){return r}});class r extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}},24:(e,t)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isThenable",{enumerable:!0,get:function(){return r}})},43548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return i}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},27973:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},51436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return s}});let n=r(82088),i=r(61035);function s(e,t,r,s){if(!t||t===r)return e;let a=e.toLowerCase();return!s&&((0,i.pathHasPrefix)(a,"/api")||(0,i.pathHasPrefix)(a,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},82088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(85307);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return""+t+r+i+s}},87931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(85307);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return""+r+t+i+s}},54178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return s},normalizeRscURL:function(){return a}});let n=r(27973),i=r(68979);function s(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,i.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},50487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(33273),i=r(82088),s=r(87931),a=r(51436);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,s.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,s.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},28724:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=r(41545),i=r(8797),s=r(61035);function a(e,t){var r,a;let{basePath:o,i18n:c,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},l={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,s.pathHasPrefix)(l.pathname,o)&&(l.pathname=(0,i.removePathPrefix)(l.pathname,o),l.basePath=o);let d=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let e=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];l.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(l.pathname=d)}if(c){let e=t.i18nProvider?t.i18nProvider.analyze(l.pathname):(0,n.normalizeLocalePath)(l.pathname,c.locales);l.locale=e.detectedLocale,l.pathname=null!=(a=e.pathname)?a:l.pathname,!e.detectedLocale&&l.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,c.locales)).detectedLocale&&(l.locale=e.detectedLocale)}return l}},85307:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},61035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(85307);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},8797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(61035);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},33273:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},68979:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}function n(e){return e.startsWith("@")&&"@children"!==e}function i(e,t){if(e.includes(s)){let e=JSON.stringify(t);return"{}"!==e?s+"?"+e:s}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return s},addSearchParamsIfPageSegment:function(){return i},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return n}});let s="__PAGE__",a="__DEFAULT__"},76030:(e,t,r)=>{let n=require;"function"==typeof n.addon?e.exports=n.addon.bind(n):e.exports=r(16434)},16434:(e,t,r)=>{var n=r(29021),i=r(33873),s=r(21820),a=require,o=process.config&&process.config.variables||{},c=!!process.env.PREBUILDS_ONLY,u=process.versions.modules,l=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",d=process.env.npm_config_arch||s.arch(),f=process.env.npm_config_platform||s.platform(),h=process.env.LIBC||("linux"===f&&n.existsSync("/etc/alpine-release")?"musl":"glibc"),p=process.env.ARM_VERSION||("arm64"===d?"8":o.arm_version)||"",y=(process.versions.uv||"").split(".")[0];function m(e){return a(m.resolve(e))}function g(e){try{return n.readdirSync(e)}catch(e){return[]}}function b(e,t){var r=g(e).filter(t);return r[0]&&i.join(e,r[0])}function _(e){return/\.node$/.test(e)}function v(e){var t=e.split("-");if(2===t.length){var r=t[0],n=t[1].split("+");if(r&&n.length&&n.every(Boolean))return{name:e,platform:r,architectures:n}}}function w(e,t){return function(r){return null!=r&&r.platform===e&&r.architectures.includes(t)}}function x(e,t){return e.architectures.length-t.architectures.length}function S(e){var t=e.split("."),r=t.pop(),n={file:e,specificity:0};if("node"===r){for(var i=0;i<t.length;i++){var s=t[i];if("node"===s||"electron"===s||"node-webkit"===s)n.runtime=s;else if("napi"===s)n.napi=!0;else if("abi"===s.slice(0,3))n.abi=s.slice(3);else if("uv"===s.slice(0,2))n.uv=s.slice(2);else if("armv"===s.slice(0,4))n.armv=s.slice(4);else{if("glibc"!==s&&"musl"!==s)continue;n.libc=s}n.specificity++}return n}}function E(e,t){return function(r){return null!=r&&(!r.runtime||r.runtime===e||!!("node"===r.runtime&&r.napi))&&(!r.abi||r.abi===t||!!r.napi)&&(!r.uv||r.uv===y)&&(!r.armv||r.armv===p)&&(!r.libc||r.libc===h)}}function A(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}e.exports=m,m.resolve=m.path=function(e){e=i.resolve(e||".");try{var t=a(i.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!c){var r=b(i.join(e,"build/Release"),_);if(r)return r;var n=b(i.join(e,"build/Debug"),_);if(n)return n}var s=m(e);if(s)return s;var o=m(i.dirname(process.execPath));if(o)return o;throw Error("No native build was found for "+["platform="+f,"arch="+d,"runtime="+l,"abi="+u,"uv="+y,p?"armv="+p:"","libc="+h,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ")+"\n    loaded from: "+e+"\n");function m(e){var t=g(i.join(e,"prebuilds")).map(v).filter(w(f,d)).sort(x)[0];if(t){var r=i.join(e,"prebuilds",t.name),n=g(r).map(S).filter(E(l,u)).sort(A(l))[0];if(n)return i.join(r,n.file)}}},m.parseTags=S,m.matchTags=E,m.compareTags=A,m.parseTuple=v,m.matchTuple=w,m.compareTuples=x},60031:(e,t)=>{"use strict";t.q=function(e,t){return function e(t,r,n=!1){let i="",s=!1,a=0,o=0,c=[],u="",l=function(e){let t=u;(t.length>0||e)&&("NULL"!==t||e||(t=null),null!==t&&r&&(t=r(t)),c.push(t),u="")};if("["===t[0])for(;a<t.length&&"="!==t[a++];);for(;a<t.length;){let d=!1;if("\\"===(i=t[a++])&&(i=t[a++],d=!0),"{"!==i||s){if("}"!==i||s)'"'!==i||d?","!==i||s?u+=i:l():(s&&l(!0),s=!s);else if(!--o&&(l(),n))return{entries:c,position:a}}else if(++o>1){let n=e(t.substr(a-1),r,!0);c.push(n.entries),a+=n.position-2}}if(0!==o)throw Error("array dimension not balanced");return c}(e,t)}},57699:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:n}=r(36695),i=Buffer[Symbol.species];function s(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[3&s]}function a(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),s=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,s),s+=n.length}return s<t?new i(r.buffer,r.byteOffset,s):r},mask:s,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let r;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?r=new i(t):ArrayBuffer.isView(t)?r=new i(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r)},unmask:a},!process.env.WS_NO_BUFFER_UTIL)try{let t=r(86240);e.exports.mask=function(e,r,n,i,a){a<48?s(e,r,n,i,a):t.mask(e,r,n,i,a)},e.exports.unmask=function(e,r){e.length<32?a(e,r):t.unmask(e,r)}}catch(e){}},36695:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],r="undefined"!=typeof Blob;r&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:r,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},79650:(e,t,r)=>{"use strict";let{kForOnEventAttribute:n,kListener:i}=r(36695),s=Symbol("kCode"),a=Symbol("kData"),o=Symbol("kError"),c=Symbol("kMessage"),u=Symbol("kReason"),l=Symbol("kTarget"),d=Symbol("kType"),f=Symbol("kWasClean");class h{constructor(e){this[l]=null,this[d]=e}get target(){return this[l]}get type(){return this[d]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class p extends h{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[f]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[u]}get wasClean(){return this[f]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class y extends h{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[c]}}Object.defineProperty(y.prototype,"error",{enumerable:!0}),Object.defineProperty(y.prototype,"message",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.data?null:t.data}get data(){return this[a]}}function g(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(m.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:p,ErrorEvent:y,Event:h,EventTarget:{addEventListener(e,t,r={}){let s;for(let s of this.listeners(e))if(!r[n]&&s[i]===t&&!s[n])return;if("message"===e)s=function(e,r){let n=new m("message",{data:r?e:e.toString()});n[l]=this,g(t,this,n)};else if("close"===e)s=function(e,r){let n=new p("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[l]=this,g(t,this,n)};else if("error"===e)s=function(e){let r=new y("error",{error:e,message:e.message});r[l]=this,g(t,this,r)};else{if("open"!==e)return;s=function(){let e=new h("open");e[l]=this,g(t,this,e)}}s[n]=!!r[n],s[i]=t,r.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[i]===t&&!r[n]){this.removeListener(e,r);break}}},MessageEvent:m}},53767:(e,t,r)=>{"use strict";let{tokenChars:n}=r(3601);function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r;let s=Object.create(null),a=Object.create(null),o=!1,c=!1,u=!1,l=-1,d=-1,f=-1,h=0;for(;h<e.length;h++)if(d=e.charCodeAt(h),void 0===t){if(-1===f&&1===n[d])-1===l&&(l=h);else if(0!==h&&(32===d||9===d))-1===f&&-1!==l&&(f=h);else if(59===d||44===d){if(-1===l)throw SyntaxError(`Unexpected character at index ${h}`);-1===f&&(f=h);let r=e.slice(l,f);44===d?(i(s,r,a),a=Object.create(null)):t=r,l=f=-1}else throw SyntaxError(`Unexpected character at index ${h}`)}else if(void 0===r){if(-1===f&&1===n[d])-1===l&&(l=h);else if(32===d||9===d)-1===f&&-1!==l&&(f=h);else if(59===d||44===d){if(-1===l)throw SyntaxError(`Unexpected character at index ${h}`);-1===f&&(f=h),i(a,e.slice(l,f),!0),44===d&&(i(s,t,a),a=Object.create(null),t=void 0),l=f=-1}else if(61===d&&-1!==l&&-1===f)r=e.slice(l,h),l=f=-1;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(c){if(1!==n[d])throw SyntaxError(`Unexpected character at index ${h}`);-1===l?l=h:o||(o=!0),c=!1}else if(u){if(1===n[d])-1===l&&(l=h);else if(34===d&&-1!==l)u=!1,f=h;else if(92===d)c=!0;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(34===d&&61===e.charCodeAt(h-1))u=!0;else if(-1===f&&1===n[d])-1===l&&(l=h);else if(-1!==l&&(32===d||9===d))-1===f&&(f=h);else if(59===d||44===d){if(-1===l)throw SyntaxError(`Unexpected character at index ${h}`);-1===f&&(f=h);let n=e.slice(l,f);o&&(n=n.replace(/\\/g,""),o=!1),i(a,r,n),44===d&&(i(s,t,a),a=Object.create(null),t=void 0),r=void 0,l=f=-1}else throw SyntaxError(`Unexpected character at index ${h}`);if(-1===l||u||32===d||9===d)throw SyntaxError("Unexpected end of input");-1===f&&(f=h);let p=e.slice(l,f);return void 0===t?i(s,p,a):(void 0===r?i(a,p,!0):o?i(a,r,p.replace(/\\/g,"")):i(a,r,p),i(s,t,a)),s}}},83244:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},95928:(e,t,r)=>{"use strict";let n;let i=r(74075),s=r(57699),a=r(83244),{kStatusCode:o}=r(36695),c=Buffer[Symbol.species],u=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),d=Symbol("total-length"),f=Symbol("callback"),h=Symbol("buffers"),p=Symbol("error");class y{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new a(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[f];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[d]=0,this._inflate[h]=[],this._inflate.on("error",b),this._inflate.on("data",g)}this._inflate[f]=r,this._inflate.write(e),t&&this._inflate.write(u),this._inflate.flush(()=>{let e=this._inflate[p];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=s.concat(this._inflate[h],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[h]=[],this._deflate.on("data",m)}this._deflate[f]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[h],this._deflate[d]);t&&(e=new c(e.buffer,e.byteOffset,e.length-4)),this._deflate[f]=null,this._deflate[d]=0,this._deflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function m(e){this[h].push(e),this[d]+=e.length}function g(e){if(this[d]+=e.length,this[l]._maxPayload<1||this[d]<=this[l]._maxPayload){this[h].push(e);return}this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][o]=1009,this.removeListener("data",g),this.reset()}function b(e){this[l]._inflate=null,e[o]=1007,this[f](e)}e.exports=y},52095:(e,t,r)=>{"use strict";let{Writable:n}=r(27910),i=r(95928),{BINARY_TYPES:s,EMPTY_BUFFER:a,kStatusCode:o,kWebSocket:c}=r(36695),{concat:u,toArrayBuffer:l,unmask:d}=r(57699),{isValidStatusCode:f,isValidUTF8:h}=r(3601),p=Buffer[Symbol.species];class y extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new p(t.buffer,t.byteOffset+e,t.length-e),new p(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new p(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let r=(64&t[0])==64;if(r&&!this._extensions[i.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=a;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&d(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?u(r,t):"arraybuffer"===this._binaryType?l(u(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=u(r,t);if(!this._skipUTF8Validation&&!h(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,a),this.end();else{let r=e.readUInt16BE(0);if(!f(r)){t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new p(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,n,i){this._loop=!1,this._errored=!0;let s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=i,s[o]=n,s}}e.exports=y},53115:(e,t,r)=>{"use strict";let n;let{Duplex:i}=r(27910),{randomFillSync:s}=r(55511),a=r(95928),{EMPTY_BUFFER:o,kWebSocket:c,NOOP:u}=r(36695),{isBlob:l,isValidStatusCode:d}=r(3601),{mask:f,toBuffer:h}=r(57699),p=Symbol("kByteLength"),y=Buffer.alloc(4),m=8192;class g{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=u,this[c]=void 0}static frame(e,t){let r,i;let a=!1,o=2,c=!1;t.mask&&(r=t.maskBuffer||y,t.generateMask?t.generateMask(r):(8192===m&&(void 0===n&&(n=Buffer.alloc(8192)),s(n,0,8192),m=0),r[0]=n[m++],r[1]=n[m++],r[2]=n[m++],r[3]=n[m++]),c=(r[0]|r[1]|r[2]|r[3])==0,o=6),"string"==typeof e?i=(!t.mask||c)&&void 0!==t[p]?t[p]:(e=Buffer.from(e)).length:(i=e.length,a=t.mask&&t.readOnly&&!c);let u=i;i>=65536?(o+=8,u=127):i>125&&(o+=2,u=126);let l=Buffer.allocUnsafe(a?i+o:o);return(l[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(l[0]|=64),l[1]=u,126===u?l.writeUInt16BE(i,2):127===u&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),t.mask)?(l[1]|=128,l[o-4]=r[0],l[o-3]=r[1],l[o-2]=r[2],l[o-1]=r[3],c)?[l,e]:a?(f(e,r,l,o,i),[l]):(f(e,r,e,0,i),[l,e]):[l,e]}close(e,t,r,n){let i;if(void 0===e)i=o;else if("number"==typeof e&&d(e)){if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?i.write(t,2):i.set(t,2)}else(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let s={[p]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,i,!1,s,n]):this.sendFrame(g.frame(i,s),n)}ping(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):l(e)?(n=e.size,i=!1):(n=(e=h(e)).length,i=h.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let s={[p]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};l(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,s,r]):this.getBlobData(e,!1,s,r):0!==this._state?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(g.frame(e,s),r)}pong(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):l(e)?(n=e.size,i=!1):(n=(e=h(e)).length,i=h.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let s={[p]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};l(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,s,r]):this.getBlobData(e,!1,s,r):0!==this._state?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(g.frame(e,s),r)}send(e,t,r){let n,i;let s=this._extensions[a.extensionName],o=t.binary?2:1,c=t.compress;"string"==typeof e?(n=Buffer.byteLength(e),i=!1):l(e)?(n=e.size,i=!1):(n=(e=h(e)).length,i=h.readOnly),this._firstFragment?(this._firstFragment=!1,c&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=n>=s._threshold),this._compress=c):(c=!1,o=0),t.fin&&(this._firstFragment=!0);let u={[p]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:i,rsv1:c};l(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,u,r]):this.getBlobData(e,this._compress,u,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,u,r]):this.dispatch(e,this._compress,u,r)}getBlobData(e,t,r,n){this._bufferedBytes+=r[p],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(b,this,e,n);return}this._bufferedBytes-=r[p];let i=h(e);t?this.dispatch(i,t,r,n):(this._state=0,this.sendFrame(g.frame(i,r),n),this.dequeue())}).catch(e=>{process.nextTick(_,this,e,n)})}dispatch(e,t,r,n){if(!t){this.sendFrame(g.frame(e,r),n);return}let i=this._extensions[a.extensionName];this._bufferedBytes+=r[p],this._state=1,i.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){b(this,Error("The socket was closed while data was being compressed"),n);return}this._bufferedBytes-=r[p],this._state=0,r.readOnly=!1,this.sendFrame(g.frame(t,r),n),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][p],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][p],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function b(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let n=e._queue[r],i=n[n.length-1];"function"==typeof i&&i(t)}}function _(e,t,r){b(e,t,r),e.onerror(t)}e.exports=g},27484:(e,t,r)=>{"use strict";r(25029);let{Duplex:n}=r(27910);function i(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function a(e){this.removeListener("error",a),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,o=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let n=!r&&o._readableState.objectMode?t.toString():t;o.push(n)||e.pause()}),e.once("error",function(e){o.destroyed||(r=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(i,o);return}let s=!1;e.once("error",function(e){s=!0,n(e)}),e.once("close",function(){s||n(t),process.nextTick(i,o)}),r&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){o._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,r,n){if(e.readyState===e.CONNECTING){e.once("open",function(){o._write(t,r,n)});return}e.send(t,n)},o.on("end",s),o.on("error",a),o}},28234:(e,t,r)=>{"use strict";let{tokenChars:n}=r(3601);e.exports={parse:function(e){let t=new Set,r=-1,i=-1,s=0;for(;s<e.length;s++){let a=e.charCodeAt(s);if(-1===i&&1===n[a])-1===r&&(r=s);else if(0!==s&&(32===a||9===a))-1===i&&-1!==r&&(i=s);else if(44===a){if(-1===r)throw SyntaxError(`Unexpected character at index ${s}`);-1===i&&(i=s);let n=e.slice(r,i);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=i=-1}else throw SyntaxError(`Unexpected character at index ${s}`)}if(-1===r||-1!==i)throw SyntaxError("Unexpected end of input");let a=e.slice(r,s);if(t.has(a))throw SyntaxError(`The "${a}" subprotocol is duplicated`);return t.add(a),t}}},3601:(e,t,r)=>{"use strict";let{isUtf8:n}=r(79428),{hasBlob:i}=r(36695);function s(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isBlob:function(e){return i&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:s,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?s(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r(47990);e.exports.isValidUTF8=function(e){return e.length<32?s(e):t(e)}}catch(e){}},42227:(e,t,r)=>{"use strict";let n=r(94735),i=r(81630),{Duplex:s}=r(27910),{createHash:a}=r(55511),o=r(53767),c=r(95928),u=r(28234),l=r(25029),{GUID:d,kWebSocket:f}=r(36695),h=/^[+/0-9A-Za-z]{22}==$/;class p extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer((e,t)=>{let r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(y,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(y,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{y(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",m);let i=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if("GET"!==e.method){b(this,e,t,405,"Invalid HTTP method");return}if(void 0===s||"websocket"!==s.toLowerCase()){b(this,e,t,400,"Invalid Upgrade header");return}if(void 0===i||!h.test(i)){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==a&&13!==a){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){g(t,400);return}let l=e.headers["sec-websocket-protocol"],d=new Set;if(void 0!==l)try{d=u.parse(l)}catch(r){b(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let f=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==f){let r=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(f);e[c.extensionName]&&(r.accept(e[c.extensionName]),p[c.extensionName]=r)}catch(r){b(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let s={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(s,(s,a,o,c)=>{if(!s)return g(t,a||401,o,c);this.completeUpgrade(p,i,d,e,t,r,n)});return}if(!this.options.verifyClient(s))return g(t,401)}this.completeUpgrade(p,i,d,e,t,r,n)}completeUpgrade(e,t,r,n,i,s,u){if(!i.readable||!i.writable)return i.destroy();if(i[f])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(i,503);let l=a("sha1").update(t+d).digest("base64"),h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${l}`],p=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(h.push(`Sec-WebSocket-Protocol: ${e}`),p._protocol=e)}if(e[c.extensionName]){let t=e[c.extensionName].params,r=o.format({[c.extensionName]:[t]});h.push(`Sec-WebSocket-Extensions: ${r}`),p._extensions=e}this.emit("headers",h,n),i.write(h.concat("\r\n").join("\r\n")),i.removeListener("error",m),p.setSocket(i,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(p),p.on("close",()=>{this.clients.delete(p),this._shouldEmitClose&&!this.clients.size&&process.nextTick(y,this)})),u(p,n)}}function y(e){e._state=2,e.emit("close")}function m(){this.destroy()}function g(e,t,r,n){r=r||i.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)}function b(e,t,r,n,i){if(e.listenerCount("wsClientError")){let n=Error(i);Error.captureStackTrace(n,b),e.emit("wsClientError",n,r,t)}else g(r,n,i)}e.exports=p},25029:(e,t,r)=>{"use strict";let n=r(94735),i=r(55591),s=r(81630),a=r(91645),o=r(34631),{randomBytes:c,createHash:u}=r(55511),{Duplex:l,Readable:d}=r(27910),{URL:f}=r(79551),h=r(95928),p=r(52095),y=r(53115),{isBlob:m}=r(3601),{BINARY_TYPES:g,EMPTY_BUFFER:b,GUID:_,kForOnEventAttribute:v,kListener:w,kStatusCode:x,kWebSocket:S,NOOP:E}=r(36695),{EventTarget:{addEventListener:A,removeEventListener:k}}=r(79650),{format:T,parse:R}=r(53767),{toBuffer:O}=r(57699),P=Symbol("kAborted"),C=[8,13],I=["CONNECTING","OPEN","CLOSING","CLOSED"],N=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class L extends n{constructor(e,t,r){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=b,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=L.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,n,a){let o,l,d,p;let y={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:C[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...a,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=y.autoPong,!C.includes(y.protocolVersion))throw RangeError(`Unsupported protocol version: ${y.protocolVersion} (supported versions: ${C.join(", ")})`);if(r instanceof f)o=r;else try{o=new f(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let m="wss:"===o.protocol,g="ws+unix:"===o.protocol;if("ws:"===o.protocol||m||g?g&&!o.pathname?l="The URL's pathname is empty":o.hash&&(l="The URL contains a fragment identifier"):l='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',l){let e=SyntaxError(l);if(0===t._redirects)throw e;M(t,e);return}let b=m?443:80,v=c(16).toString("base64"),w=m?i.request:s.request,x=new Set;if(y.createConnection=y.createConnection||(m?U:D),y.defaultPort=y.defaultPort||b,y.port=o.port||b,y.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,y.headers={...y.headers,"Sec-WebSocket-Version":y.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket"},y.path=o.pathname+o.search,y.timeout=y.handshakeTimeout,y.perMessageDeflate&&(d=new h(!0!==y.perMessageDeflate?y.perMessageDeflate:{},!1,y.maxPayload),y.headers["Sec-WebSocket-Extensions"]=T({[h.extensionName]:d.offer()})),n.length){for(let e of n){if("string"!=typeof e||!N.test(e)||x.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");x.add(e)}y.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(y.origin&&(y.protocolVersion<13?y.headers["Sec-WebSocket-Origin"]=y.origin:y.headers.Origin=y.origin),(o.username||o.password)&&(y.auth=`${o.username}:${o.password}`),g){let e=y.path.split(":");y.socketPath=e[0],y.path=e[1]}if(y.followRedirects){if(0===t._redirects){t._originalIpc=g,t._originalSecure=m,t._originalHostOrSocketPath=g?y.socketPath:o.host;let e=a&&a.headers;if(a={...a,headers:{}},e)for(let[t,r]of Object.entries(e))a.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=g?!!t._originalIpc&&y.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||m)||(delete y.headers.authorization,delete y.headers.cookie,e||delete y.headers.host,y.auth=void 0)}y.auth&&!a.headers.authorization&&(a.headers.authorization="Basic "+Buffer.from(y.auth).toString("base64")),p=t._req=w(y),t._redirects&&t.emit("redirect",t.url,p)}else p=t._req=w(y);y.timeout&&p.on("timeout",()=>{j(t,p,"Opening handshake has timed out")}),p.on("error",e=>{null===p||p[P]||(p=t._req=null,M(t,e))}),p.on("response",i=>{let s=i.headers.location,o=i.statusCode;if(s&&y.followRedirects&&o>=300&&o<400){let i;if(++t._redirects>y.maxRedirects){j(t,p,"Maximum redirects exceeded");return}p.abort();try{i=new f(s,r)}catch(e){M(t,SyntaxError(`Invalid URL: ${s}`));return}e(t,i,n,a)}else t.emit("unexpected-response",p,i)||j(t,p,`Unexpected server response: ${i.statusCode}`)}),p.on("upgrade",(e,r,n)=>{let i;if(t.emit("upgrade",e),t.readyState!==L.CONNECTING)return;p=t._req=null;let s=e.headers.upgrade;if(void 0===s||"websocket"!==s.toLowerCase()){j(t,r,"Invalid Upgrade header");return}let a=u("sha1").update(v+_).digest("base64");if(e.headers["sec-websocket-accept"]!==a){j(t,r,"Invalid Sec-WebSocket-Accept header");return}let o=e.headers["sec-websocket-protocol"];if(void 0!==o?x.size?x.has(o)||(i="Server sent an invalid subprotocol"):i="Server sent a subprotocol but none was requested":x.size&&(i="Server sent no subprotocol"),i){j(t,r,i);return}o&&(t._protocol=o);let c=e.headers["sec-websocket-extensions"];if(void 0!==c){let e;if(!d){j(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=R(c)}catch(e){j(t,r,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==h.extensionName){j(t,r,"Server indicated an extension that was not requested");return}try{d.accept(e[h.extensionName])}catch(e){j(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[h.extensionName]=d}t.setSocket(r,n,{allowSynchronousEvents:y.allowSynchronousEvents,generateMask:y.generateMask,maxPayload:y.maxPayload,skipUTF8Validation:y.skipUTF8Validation})}),y.finishRequest?y.finishRequest(p,t):p.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new p({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),i=new y(e,this._extensions,r.generateMask);this._receiver=n,this._sender=i,this._socket=e,n[S]=this,i[S]=this,e[S]=this,n.on("conclude",$),n.on("drain",F),n.on("error",H),n.on("message",q),n.on("ping",V),n.on("pong",G),i.onerror=z,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Z),e.on("data",Q),e.on("end",Y),e.on("error",X),this._readyState=L.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){j(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===L.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=L.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),J(this)}}pause(){this.readyState!==L.CONNECTING&&this.readyState!==L.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===L.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN){B(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||b,t,r)}pong(e,t,r){if(this.readyState===L.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN){B(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||b,t,r)}resume(){this.readyState!==L.CONNECTING&&this.readyState!==L.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===L.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN){B(this,e,r);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||b,n,r)}terminate(){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){j(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=L.CLOSING,this._socket.destroy())}}}function M(e,t){e._readyState=L.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function D(e){return e.path=e.socketPath,a.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=a.isIP(e.host)?"":e.host),o.connect(e)}function j(e,t,r){e._readyState=L.CLOSING;let n=Error(r);Error.captureStackTrace(n,j),t.setHeader?(t[P]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(M,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function B(e,t,r){if(t){let r=m(t)?t.size:O(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${I[e.readyState]})`);process.nextTick(r,t)}}function $(e,t){let r=this[S];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[S]&&(r._socket.removeListener("data",Q),process.nextTick(K,r._socket),1005===e?r.close():r.close(e,t))}function F(){let e=this[S];e.isPaused||e._socket.resume()}function H(e){let t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",Q),process.nextTick(K,t._socket),t.close(e[x])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function W(){this[S].emitClose()}function q(e,t){this[S].emit("message",e,t)}function V(e){let t=this[S];t._autoPong&&t.pong(e,!this._isServer,E),t.emit("ping",e)}function G(e){this[S].emit("pong",e)}function K(e){e.resume()}function z(e){let t=this[S];t.readyState===L.CLOSED||(t.readyState===L.OPEN&&(t._readyState=L.CLOSING,J(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function J(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Z(){let e;let t=this[S];this.removeListener("close",Z),this.removeListener("data",Q),this.removeListener("end",Y),t._readyState=L.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[S]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",W),t._receiver.on("finish",W))}function Q(e){this[S]._receiver.write(e)||this.pause()}function Y(){let e=this[S];e._readyState=L.CLOSING,e._receiver.end(),this.end()}function X(){let e=this[S];this.removeListener("error",X),this.on("error",E),e&&(e._readyState=L.CLOSING,this.destroy())}Object.defineProperty(L,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(L.prototype,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(L,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(L.prototype,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(L,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(L.prototype,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(L,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),Object.defineProperty(L.prototype,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(L.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(L.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[v])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[v]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[v]:!0})}})}),L.prototype.addEventListener=A,L.prototype.removeEventListener=k,e.exports=L},4497:(e,t,r)=>{"use strict";function n(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}r.d(t,{A:()=>n})},37067:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(66541);function i(e){return{createUser:({id:t,...r})=>e.user.create(s(r)),getUser:t=>e.user.findUnique({where:{id:t}}),getUserByEmail:t=>e.user.findUnique({where:{email:t}}),async getUserByAccount(t){let r=await e.account.findUnique({where:{provider_providerAccountId:t},include:{user:!0}});return r?.user??null},updateUser:({id:t,...r})=>e.user.update({where:{id:t},...s(r)}),deleteUser:t=>e.user.delete({where:{id:t}}),linkAccount:t=>e.account.create({data:t}),unlinkAccount:t=>e.account.delete({where:{provider_providerAccountId:t}}),async getSessionAndUser(t){let r=await e.session.findUnique({where:{sessionToken:t},include:{user:!0}});if(!r)return null;let{user:n,...i}=r;return{user:n,session:i}},createSession:t=>e.session.create(s(t)),updateSession:t=>e.session.update({where:{sessionToken:t.sessionToken},...s(t)}),deleteSession:t=>e.session.delete({where:{sessionToken:t}}),async createVerificationToken(t){let r=await e.verificationToken.create(s(t));return"id"in r&&r.id&&delete r.id,r},async useVerificationToken(t){try{let r=await e.verificationToken.delete({where:{identifier_token:t}});return"id"in r&&r.id&&delete r.id,r}catch(e){if(e instanceof n.PrismaClientKnownRequestError&&"P2025"===e.code)return null;throw e}},getAccount:async(t,r)=>e.account.findFirst({where:{providerAccountId:t,provider:r}}),createAuthenticator:async t=>e.authenticator.create(s(t)),getAuthenticator:async t=>e.authenticator.findUnique({where:{credentialID:t}}),listAuthenticatorsByUserId:async t=>e.authenticator.findMany({where:{userId:t}}),updateAuthenticatorCounter:async(t,r)=>e.authenticator.update({where:{credentialID:t},data:{counter:r}})}}function s(e){let t={};for(let r in e)void 0!==e[r]&&(t[r]=e[r]);return{data:t}}},25079:(e,t,r)=>{"use strict";r.d(t,{Vz:()=>eN,bC:()=>to,gK:()=>tc});var n,i,s,a,o,c=Object.create,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,f=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,p=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>u(e,"name",{value:t,configurable:!0}),m=(e,t)=>()=>(e&&(t=e(e=0)),t),g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})},_=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of d(t))h.call(e,i)||i===r||u(e,i,{get:()=>t[i],enumerable:!(n=l(t,i))||n.enumerable});return e},v=(e,t,r)=>(r=null!=e?c(f(e)):{},_(!t&&e&&e.__esModule?r:u(r,"default",{value:e,enumerable:!0}),e)),w=e=>_(u({},"__esModule",{value:!0}),e),x=(e,t,r)=>p(e,"symbol"!=typeof t?t+"":t,r),S=g(e=>{k(),e.byteLength=c,e.toByteArray=l,e.fromByteArray=h;var t,r,n=[],i=[],s="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=a.length;t<r;++t)n[t]=a[t],i[a.charCodeAt(t)]=t;function o(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function c(e){var t=o(e),r=t[0],n=t[1];return(r+n)*3/4-n}function u(e,t,r){return(t+r)*3/4-r}function l(e){var t,r,n=o(e),a=n[0],c=n[1],l=new s(u(e,a,c)),d=0,f=c>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===c&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[d++]=255&t),1===c&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,r){for(var n=[],i=t;i<r;i+=3)n.push(d((e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2])));return n.join("")}function h(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(f(e,a,a+16383>o?o:a+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")}i[45]=62,i[95]=63,y(o,"getLens"),y(c,"byteLength"),y(u,"_byteLength"),y(l,"toByteArray"),y(d,"tripletToBase64"),y(f,"encodeChunk"),y(h,"fromByteArray")}),E=g(e=>{k(),e.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,c=(1<<o)-1,u=c>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,s=h&(1<<-l)-1,h>>=-l,l+=o;l>0;s=256*s+e[t+d],d+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),s-=u}return(h?-1:1)*a*Math.pow(2,s-n)},e.write=function(e,t,r,n,i,s){var a,o,c,u=8*s-i-1,l=(1<<u)-1,d=l>>1,f=23===i?5960464477539062e-23:0,h=n?0:s-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+d>=1?t+=f/c:t+=f*Math.pow(2,1-d),t*c>=2&&(a++,c/=2),a+d>=l?(o=0,a=l):a+d>=1?(o=(t*c-1)*Math.pow(2,i),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&o,h+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*y}}),A=g(e=>{k();var t=S(),r=E(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(){try{let e=new Uint8Array(1),t={foo:y(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e)return d(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ea(e,ArrayBuffer)||e&&ea(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(ea(e,SharedArrayBuffer)||e&&ea(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let i=m(e);if(i)return i;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,r){return c(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}function l(e){return c(e),s(e<0?0:0|g(e))}function d(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|_(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function f(e){let t=e.length<0?0:0|g(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e){if(ea(e,Uint8Array)){let t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}function p(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function m(e){if(a.isBuffer(e)){let t=0|g(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||eo(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}function g(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function b(e){return+e!=e&&(e=0),a.alloc(+e)}function _(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ea(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ei(e).length;default:if(i)return n?-1:et(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return N(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function x(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),eo(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function A(e,t,r,n,i){let s,a=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(y(u,"read"),i){let n=-1;for(s=r;s<o;s++)if(u(e,s)===u(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*a}else -1!==n&&(s-=s-n),n=-1}else for(r+c>o&&(r=o-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(u(e,s+n)!==u(t,n)){r=!1;break}if(r)return s}return -1}function T(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(eo(n))break;e[r+i]=n}return i}function R(e,t,r,n){return es(et(t,e.length-r),e,r,n)}function O(e,t,r,n){return es(er(t),e,r,n)}function P(e,t,r,n){return es(ei(t),e,r,n)}function C(e,t,r,n){return es(en(t,e.length-r),e,r,n)}function I(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function N(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,c;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(c=(31&t)<<6|63&r)>127&&(s=c);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(c=(15&t)<<12|(63&r)<<6|63&n)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&c<1114112&&(s=c)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return L(n)}function L(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}function M(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function D(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function U(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=ec[e[n]];return i}function j(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function $(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function F(e,t,r,n,i){Z(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function H(e,t,r,n,i){Z(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function W(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function q(e,t,n,i,s){return t=+t,n>>>=0,s||W(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function V(e,t,n,i,s){return t=+t,n>>>=0,s||W(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=a,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),y(i,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:y(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:y(function(){if(a.isBuffer(this))return this.byteOffset},"get")}),y(s,"createBuffer"),y(a,"Buffer"),a.poolSize=8192,y(o,"from"),a.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),y(c,"assertSize"),y(u,"alloc"),a.alloc=function(e,t,r){return u(e,t,r)},y(l,"allocUnsafe"),a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},y(d,"fromString"),y(f,"fromArrayLike"),y(h,"fromArrayView"),y(p,"fromArrayBuffer"),y(m,"fromObject"),y(g,"checked"),y(b,"SlowBuffer"),a.isBuffer=y(function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},"isBuffer"),a.compare=y(function(e,t){if(ea(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),ea(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},"compare"),a.isEncoding=y(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=y(function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(ea(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},"concat"),y(_,"byteLength"),a.byteLength=_,y(v,"slowToString"),a.prototype._isBuffer=!0,y(w,"swap"),a.prototype.swap16=y(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},"swap16"),a.prototype.swap32=y(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},"swap32"),a.prototype.swap64=y(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},"swap64"),a.prototype.toString=y(function(){let e=this.length;return 0===e?"":0==arguments.length?N(this,0,e):v.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=y(function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},"equals"),a.prototype.inspect=y(function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},"inspect"),n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=y(function(e,t,r,n,i){if(ea(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,c=Math.min(s,o),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<c;++e)if(u[e]!==l[e]){s=u[e],o=l[e];break}return s<o?-1:o<s?1:0},"compare"),y(x,"bidirectionalIndexOf"),y(A,"arrayIndexOf"),a.prototype.includes=y(function(e,t,r){return -1!==this.indexOf(e,t,r)},"includes"),a.prototype.indexOf=y(function(e,t,r){return x(this,e,t,r,!0)},"indexOf"),a.prototype.lastIndexOf=y(function(e,t,r){return x(this,e,t,r,!1)},"lastIndexOf"),y(T,"hexWrite"),y(R,"utf8Write"),y(O,"asciiWrite"),y(P,"base64Write"),y(C,"ucs2Write"),a.prototype.write=y(function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return T(this,e,t,r);case"utf8":case"utf-8":return R(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(s)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},"write"),a.prototype.toJSON=y(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),y(I,"base64Slice"),y(N,"utf8Slice"),y(L,"decodeCodePointsArray"),y(M,"asciiSlice"),y(D,"latin1Slice"),y(U,"hexSlice"),y(j,"utf16leSlice"),a.prototype.slice=y(function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},"slice"),y(B,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=y(function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=y(function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=y(function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=y(function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=y(function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=y(function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=y(function(e,t){return e>>>=0,t||B(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=eu(y(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Y(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=eu(y(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Y(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)},"readBigUInt64BE")),a.prototype.readIntLE=y(function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},"readIntLE"),a.prototype.readIntBE=y(function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},"readIntBE"),a.prototype.readInt8=y(function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),a.prototype.readInt16LE=y(function(e,t){e>>>=0,t||B(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},"readInt16LE"),a.prototype.readInt16BE=y(function(e,t){e>>>=0,t||B(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},"readInt16BE"),a.prototype.readInt32LE=y(function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),a.prototype.readInt32BE=y(function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),a.prototype.readBigInt64LE=eu(y(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&Y(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])},"readBigInt64LE")),a.prototype.readBigInt64BE=eu(y(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&Y(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)},"readBigInt64BE")),a.prototype.readFloatLE=y(function(e,t){return e>>>=0,t||B(e,4,this.length),r.read(this,e,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=y(function(e,t){return e>>>=0,t||B(e,4,this.length),r.read(this,e,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=y(function(e,t){return e>>>=0,t||B(e,8,this.length),r.read(this,e,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=y(function(e,t){return e>>>=0,t||B(e,8,this.length),r.read(this,e,!1,52,8)},"readDoubleBE"),y($,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=y(function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;$(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=y(function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;$(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,1,255,0),this[t]=255&e,t+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeUInt32BE"),y(F,"wrtBigUInt64LE"),y(H,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=eu(y(function(e,t=0){return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=eu(y(function(e,t=0){return H(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=y(function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);$(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},"writeIntLE"),a.prototype.writeIntBE=y(function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);$(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},"writeIntBE"),a.prototype.writeInt8=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},"writeInt8"),a.prototype.writeInt16LE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeInt16LE"),a.prototype.writeInt16BE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeInt16BE"),a.prototype.writeInt32LE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE"),a.prototype.writeInt32BE=y(function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeInt32BE"),a.prototype.writeBigInt64LE=eu(y(function(e,t=0){return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=eu(y(function(e,t=0){return H(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),y(W,"checkIEEE754"),y(q,"writeFloat"),a.prototype.writeFloatLE=y(function(e,t,r){return q(this,e,t,!0,r)},"writeFloatLE"),a.prototype.writeFloatBE=y(function(e,t,r){return q(this,e,t,!1,r)},"writeFloatBE"),y(V,"writeDouble"),a.prototype.writeDoubleLE=y(function(e,t,r){return V(this,e,t,!0,r)},"writeDoubleLE"),a.prototype.writeDoubleBE=y(function(e,t,r){return V(this,e,t,!1,r)},"writeDoubleBE"),a.prototype.copy=y(function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},"copy"),a.prototype.fill=y(function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=a.isBuffer(e)?e:a.from(e,n),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this},"fill");var G={};function K(e,t,r){var n;G[e]=(y(n=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),n)}function z(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function J(e,t,r){Q(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&Y(t,e.length-(r+1))}function Z(e,t,r,n,i,s){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and \
< 2 ** ${(s+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new G.ERR_OUT_OF_RANGE("value",i,e)}J(n,i,s)}function Q(e,t){if("number"!=typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function Y(e,t,r){throw Math.floor(e)!==e?(Q(e,r),new G.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}y(K,"E"),K("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argum\
ent must be of type number. Received type ${typeof t}`},TypeError),K("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It\
 must be ${t}. Received ${i}`},RangeError),y(z,"addNumericalSeparator"),y(J,"checkBounds"),y(Z,"checkIntBI"),y(Q,"validateNumber"),y(Y,"boundsError");var X=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(X,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function et(e,t){t=t||1/0;let r,n=e.length,i=null,s=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function er(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function en(e,t){let r,n,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}function ei(e){return t.toByteArray(ee(e))}function es(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ea(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function eo(e){return e!=e}y(ee,"base64clean"),y(et,"utf8ToBytes"),y(er,"asciiToBytes"),y(en,"utf16leToBytes"),y(ei,"base64ToBytes"),y(es,"blitBuffer"),y(ea,"isInstance"),y(eo,"numberIsNaN");var ec=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function eu(e){return typeof BigInt>"u"?el:e}function el(){throw Error("BigInt not supported")}y(eu,"defineBigIntMethod"),y(el,"BufferBigIntNotDefined")}),k=m(()=>{n=globalThis,i=globalThis.setImmediate??(e=>setTimeout(e,0)),globalThis.clearImmediate??(e=>clearTimeout(e)),(s=globalThis.crypto??{}).subtle??(s.subtle={}),a="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:A().Buffer,(o=globalThis.process??{}).env??(o.env={});try{o.nextTick(()=>{})}catch{let e=Promise.resolve();o.nextTick=e.then.bind(e)}}),T=g((e,t)=>{k();var r,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:y(function(e,t,r){return Function.prototype.apply.call(e,t,r)},"ReflectApply");function s(e){console&&console.warn&&console.warn(e)}r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?y(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):y(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys"),y(s,"ProcessEmitWarning");var a=Number.isNaN||y(function(e){return e!=e},"NumberIsNaN");function o(){o.init.call(this)}y(o,"EventEmitter"),t.exports=o,t.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,a,o;if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?_(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function v(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(i,"errorListener"),y(s,"resolver"),x(e,t,s,{once:!0}),"error"!==t&&w(e,i,{once:!0})})}function w(e,t,r){"function"==typeof e.on&&x(e,"error",t,r)}function x(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,y(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}y(u,"checkListener"),Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:y(function(){return c},"get"),set:y(function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e},"set")}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=y(function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners"),y(l,"_getMaxListeners"),o.prototype.getMaxListeners=y(function(){return l(this)},"getMaxListeners"),o.prototype.emit=y(function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else for(var u=c.length,l=g(c,u),r=0;r<u;++r)i(l[r],this,t);return!0},"emit"),y(d,"_addListener"),o.prototype.addListener=y(function(e,t){return d(this,e,t,!1)},"addListener"),o.prototype.on=o.prototype.addListener,o.prototype.prependListener=y(function(e,t){return d(this,e,t,!0)},"prependListener"),y(f,"onceWrapper"),y(h,"_onceWrap"),o.prototype.once=y(function(e,t){return u(t),this.on(e,h(this,e,t)),this},"once"),o.prototype.prependOnceListener=y(function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},"prependOnceListener"),o.prototype.removeListener=y(function(e,t){var r,n,i,s,a;if(u(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},"removeListener"),o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=y(function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},"removeAllListeners"),y(p,"_listeners"),o.prototype.listeners=y(function(e){return p(this,e,!0)},"listeners"),o.prototype.rawListeners=y(function(e){return p(this,e,!1)},"rawListeners"),o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,y(m,"listenerCount"),o.prototype.eventNames=y(function(){return this._eventsCount>0?r(this._events):[]},"eventNames"),y(g,"arrayClone"),y(b,"spliceOne"),y(_,"unwrapListeners"),y(v,"once"),y(w,"addErrorHandlerIfEventEmitter"),y(x,"eventTargetAgnosticAddListener")}),R={};b(R,{default:()=>O});var O,P=m(()=>{k(),O={}});function C(e){let t=0x6a09e667,r=0xbb67ae85,n=0x3c6ef372,i=0xa54ff53a,s=0x510e527f,a=0x9b05688c,o=0x1f83d9ab,c=0x5be0cd19,u=0,l=0,d=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],f=y((e,t)=>e>>>t|e<<32-t,"rrot"),h=new Uint32Array(64),p=new Uint8Array(64),m=y(()=>{for(let e=0,t=0;e<16;e++,t+=4)h[e]=p[t]<<24|p[t+1]<<16|p[t+2]<<8|p[t+3];for(let e=16;e<64;e++){let t=f(h[e-15],7)^f(h[e-15],18)^h[e-15]>>>3,r=f(h[e-2],17)^f(h[e-2],19)^h[e-2]>>>10;h[e]=h[e-16]+t+h[e-7]+r|0}let e=t,u=r,y=n,m=i,g=s,b=a,_=o,v=c;for(let t=0;t<64;t++){let r=v+(f(g,6)^f(g,11)^f(g,25))+(g&b^~g&_)+d[t]+h[t]|0,n=(f(e,2)^f(e,13)^f(e,22))+(e&u^e&y^u&y)|0;v=_,_=b,b=g,g=m+r|0,m=y,y=u,u=e,e=r+n|0}t=t+e|0,r=r+u|0,n=n+y|0,i=i+m|0,s=s+g|0,a=a+b|0,o=o+_|0,c=c+v|0,l=0},"process"),g=y(e=>{"string"==typeof e&&(e=new TextEncoder().encode(e));for(let t=0;t<e.length;t++)p[l++]=e[t],64===l&&m();u+=e.length},"add"),b=y(()=>{if(p[l++]=128,64==l&&m(),l+8>64){for(;l<64;)p[l++]=0;m()}for(;l<58;)p[l++]=0;let e=8*u;p[l++]=e/0x10000000000&255,p[l++]=e/0x100000000&255,p[l++]=e>>>24,p[l++]=e>>>16&255,p[l++]=e>>>8&255,p[l++]=255&e,m();let d=new Uint8Array(32);return d[0]=t>>>24,d[1]=t>>>16&255,d[2]=t>>>8&255,d[3]=255&t,d[4]=r>>>24,d[5]=r>>>16&255,d[6]=r>>>8&255,d[7]=255&r,d[8]=n>>>24,d[9]=n>>>16&255,d[10]=n>>>8&255,d[11]=255&n,d[12]=i>>>24,d[13]=i>>>16&255,d[14]=i>>>8&255,d[15]=255&i,d[16]=s>>>24,d[17]=s>>>16&255,d[18]=s>>>8&255,d[19]=255&s,d[20]=a>>>24,d[21]=a>>>16&255,d[22]=a>>>8&255,d[23]=255&a,d[24]=o>>>24,d[25]=o>>>16&255,d[26]=o>>>8&255,d[27]=255&o,d[28]=c>>>24,d[29]=c>>>16&255,d[30]=c>>>8&255,d[31]=255&c,d},"digest");return void 0===e?{add:g,digest:b}:(g(e),b())}var I,N,L=m(()=>{k(),y(C,"sha256")}),M=m(()=>{k(),y(I=class e{constructor(){x(this,"_dataLength",0),x(this,"_bufferLength",0),x(this,"_state",new Int32Array(4)),x(this,"_buffer",new ArrayBuffer(68)),x(this,"_buffer8"),x(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){let r=e.hexChars,n=e.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=8*o,i=t[o],a=0;a<8;a+=2)n[s+1+a]=r.charAt(15&i),i>>>=4,n[s+0+a]=r.charAt(15&i),i>>>=4;return n.join("")}static _md5cycle(e,t){let r=e[0],n=e[1],i=e[2],s=e[3];r+=(n&i|~n&s)+t[0]-0x28955b88|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[1]-0x173848aa|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[2]+0x242070db|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[3]-0x3e423112|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&s)+t[4]-0xa83f051|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[5]+0x4787c62a|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[6]-0x57cfb9ed|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[7]-0x2b96aff|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&s)+t[8]+0x698098d8|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[9]-0x74bb0851|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[10]-42063|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[11]-0x76a32842|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&s)+t[12]+0x6b901122|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[13]-0x2678e6d|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[14]-0x5986bc72|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[15]+0x49b40821|0,r+=((n=(n<<22|n>>>10)+i|0)&s|i&~s)+t[1]-0x9e1da9e|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[6]-0x3fbf4cc0|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[11]+0x265e5a51|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[0]-0x16493856|0,r+=((n=(n<<20|n>>>12)+i|0)&s|i&~s)+t[5]-0x29d0efa3|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[10]+0x2441453|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[15]-0x275e197f|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[4]-0x182c0438|0,r+=((n=(n<<20|n>>>12)+i|0)&s|i&~s)+t[9]+0x21e1cde6|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[14]-0x3cc8f82a|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[3]-0xb2af279|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[8]+0x455a14ed|0,r+=((n=(n<<20|n>>>12)+i|0)&s|i&~s)+t[13]-0x561c16fb|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[2]-0x3105c08|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[7]+0x676f02d9|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[12]-0x72d5b376|0,r+=((n=(n<<20|n>>>12)+i|0)^i^s)+t[5]-378558|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[8]-0x788e097f|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[11]+0x6d9d6122|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[14]-0x21ac7f4|0,r+=((n=(n<<23|n>>>9)+i|0)^i^s)+t[1]-0x5b4115bc|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[4]+0x4bdecfa9|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[7]-0x944b4a0|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[10]-0x41404390|0,r+=((n=(n<<23|n>>>9)+i|0)^i^s)+t[13]+0x289b7ec6|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[0]-0x155ed806|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[3]-0x2b10cf7b|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[6]+0x4881d05|0,r+=((n=(n<<23|n>>>9)+i|0)^i^s)+t[9]-0x262b2fc7|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[12]-0x1924661b|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[15]+0x1fa27cf8|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[2]-0x3b53a99b|0,n=(n<<23|n>>>9)+i|0,r+=(i^(n|~s))+t[0]-0xbd6ddbc|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[7]+0x432aff97|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[14]-0x546bdc59|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[5]-0x36c5fc7|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~s))+t[12]+0x655b59c3|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[3]-0x70f3336e|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[10]-1051523|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[1]-0x7a7ba22f|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~s))+t[8]+0x6fa87e4f|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[15]-0x1d31920|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[6]-0x5cfebcec|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[13]+0x4e0811a1|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~s))+t[4]-0x8ac817e|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[11]-0x42c50dcb|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[2]+0x2ad7d2bb|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[9]-0x14792c6f|0,n=(n<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<t.length;a+=1){if((s=t.charCodeAt(a))<128)r[i++]=s;else if(s<2048)r[i++]=(s>>>6)+192,r[i++]=63&s|128;else if(s<55296||s>56319)r[i++]=(s>>>12)+224,r[i++]=s>>>6&63|128,r[i++]=63&s|128;else{if((s=(s-55296)*1024+(t.charCodeAt(++a)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(s>>>18)+240,r[i++]=s>>>12&63|128,r[i++]=s>>>6&63|128,r[i++]=63&s|128}i>=64&&(this._dataLength+=64,e._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(t){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,a=0;for(;;){for(s=Math.min(t.length-a,64-i);s--;)r[i++]=t.charCodeAt(a++);if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(t){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,a=0;for(;;){for(s=Math.min(t.length-a,64-i);s--;)r[i++]=t[a++];if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,r=e.state,n=this._state,i;for(this._dataLength=e.length,this._bufferLength=e.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],i=0;i<t.length;i+=1)this._buffer8[i]=t.charCodeAt(i)}end(t=!1){let r=this._bufferLength,n=this._buffer8,i=this._buffer32,s=(r>>2)+1;this._dataLength+=r;let a=8*this._dataLength;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(e.buffer32Identity.subarray(s),s),r>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),a<=0xffffffff)i[14]=a;else{let e=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;let t=parseInt(e[2],16),r=parseInt(e[1],16)||0;i[14]=t,i[15]=r}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)}},"Md5"),x(I,"stateIdentity",new Int32Array([0x67452301,-0x10325477,-0x67452302,0x10325476])),x(I,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),x(I,"hexChars","0123456789abcdef"),x(I,"hexOut",[]),x(I,"onePassHasher",new I),N=I}),D={};function U(e){return s.getRandomValues(a.alloc(e))}function j(e){if("sha256"===e)return{update:y(function(e){return{digest:y(function(){return a.from(C(e))},"digest")}},"update")};if("md5"===e)return{update:y(function(e){return{digest:y(function(){return"string"==typeof e?N.hashStr(e):N.hashByteArray(e)},"digest")}},"update")};throw Error(`Hash type '${e}' not supported`)}function B(e,t){if("sha256"!==e)throw Error(`Only sha256 is supported (requested: '${e}')`);return{update:y(function(e){return{digest:y(function(){"string"==typeof t&&(t=new TextEncoder().encode(t)),"string"==typeof e&&(e=new TextEncoder().encode(e));let r=t.length;if(r>64)t=C(t);else if(r<64){let e=new Uint8Array(64);e.set(t),t=e}let n=new Uint8Array(64),i=new Uint8Array(64);for(let e=0;e<64;e++)n[e]=54^t[e],i[e]=92^t[e];let s=new Uint8Array(e.length+64);s.set(n,0),s.set(e,64);let o=new Uint8Array(96);return o.set(i,0),o.set(C(s),64),a.from(C(o))},"digest")}},"update")}}b(D,{createHash:()=>j,createHmac:()=>B,randomBytes:()=>U});var $=m(()=>{k(),L(),M(),y(U,"randomBytes"),y(j,"createHash"),y(B,"createHmac")}),F=g(e=>{k(),e.parse=function(e,t){return new r(e,t).parse()};var t=class e{constructor(e,t){this.source=e,this.transform=t||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(t){var r,n,i;for(this.consumeDimensions();!this.isEof();)if("{"!==(r=this.nextCharacter()).value||i){if("}"!==r.value||i)'"'!==r.value||r.escaped?","!==r.value||i?this.record(r.value):this.newEntry():(i&&this.newEntry(!0),i=!i);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(n=new e(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};y(t,"ArrayParser");var r=t;function n(e){return e}y(n,"identity")}),H=g((e,t)=>{k();var r=F();t.exports={create:y(function(e,t){return{parse:y(function(){return r.parse(e,t)},"parse")}},"create")}}),W=g((e,t)=>{k();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,s=/^-?infinity$/;function a(e){var t=n.exec(e);if(t){var r=parseInt(t[1],10);t[4]&&(r=c(r));var i=new Date(r,parseInt(t[2],10)-1,t[3]);return u(r)&&i.setFullYear(r),i}}function o(e){if(e.endsWith("+00"))return 0;var t=i.exec(e.split(" ")[1]);if(t){var r=t[1];return"Z"===r?0:(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*("-"===r?-1:1)*1e3}}function c(e){return-(e-1)}function u(e){return e>=0&&e<100}t.exports=y(function(e){if(s.test(e))return Number(e.replace("i","I"));var t=r.exec(e);if(!t)return a(e)||null;var n=!!t[8],i=parseInt(t[1],10);n&&(i=c(i));var l=parseInt(t[2],10)-1,d=t[3],f=parseInt(t[4],10),h=parseInt(t[5],10),p=parseInt(t[6],10),y=t[7];y=y?1e3*parseFloat(y):0;var m,g=o(e);return null!=g?(m=new Date(Date.UTC(i,l,d,f,h,p,y)),u(i)&&m.setUTCFullYear(i),0!==g&&m.setTime(m.getTime()-g)):(m=new Date(i,l,d,f,h,p,y),u(i)&&m.setFullYear(i)),m},"parseDate"),y(a,"getDate"),y(o,"timeZoneOffset"),y(c,"bcYearToNegativeYear"),y(u,"is0To99")}),q=g((e,t)=>{k(),t.exports=n;var r=Object.prototype.hasOwnProperty;function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}y(n,"extend")}),V=g((e,t)=>{k();var r=q();function n(e){if(!(this instanceof n))return new n(e);r(this,h(e))}t.exports=n,y(n,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var e=i.filter(this.hasOwnProperty,this);return this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length?"0":e.map(function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e},this).join(" ")};var s={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},a=["years","months","days"],o=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){return"P"+a.map(e,this).join("")+"T"+o.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+s[e]}};var c="([+-]?\\d+)",u=new RegExp([c+"\\s+years?",c+"\\s+mons?",c+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),l={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},d=["hours","minutes","seconds","milliseconds"];function f(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function h(e){if(!e)return{};var t=u.exec(e),r="-"===t[8];return Object.keys(l).reduce(function(e,n){var i=t[l[n]];return i&&(i="milliseconds"===n?f(i):parseInt(i,10))&&(r&&~d.indexOf(n)&&(i*=-1),e[n]=i),e},{})}y(f,"parseMilliseconds"),y(h,"parse")}),G=g((e,t)=>{k(),t.exports=y(function(e){if(/^\\x/.test(e))return new a(e.substr(2),"hex");for(var t="",r=0;r<e.length;)if("\\"!==e[r])t+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))t+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var n=1;r+n<e.length&&"\\"===e[r+n];)n++;for(var i=0;i<Math.floor(n/2);++i)t+="\\";r+=2*Math.floor(n/2)}return new a(t,"binary")},"parseBytea")}),K=g((e,t)=>{k();var r=F(),n=H(),i=W(),s=V(),a=G();function o(e){return y(function(t){return null===t?t:e(t)},"nullAllowed")}function c(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function u(e){return e?r.parse(e,c):null}function l(e){return parseInt(e,10)}function d(e){return e?r.parse(e,o(l)):null}function f(e){return e?r.parse(e,o(function(e){return w(e).trim()})):null}y(o,"allowNull"),y(c,"parseBool"),y(u,"parseBoolArray"),y(l,"parseBaseTenInt"),y(d,"parseIntegerArray"),y(f,"parseBigIntegerArray");var h=y(function(e){return e?n.create(e,function(e){return null!==e&&(e=S(e)),e}).parse():null},"parsePointArray"),p=y(function(e){return e?n.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},"parseFloatArray"),m=y(function(e){return e?n.create(e).parse():null},"parseStringArray"),g=y(function(e){return e?n.create(e,function(e){return null!==e&&(e=i(e)),e}).parse():null},"parseDateArray"),b=y(function(e){return e?n.create(e,function(e){return null!==e&&(e=s(e)),e}).parse():null},"parseIntervalArray"),_=y(function(e){return e?r.parse(e,o(a)):null},"parseByteAArray"),v=y(function(e){return parseInt(e,10)},"parseInteger"),w=y(function(e){var t=String(e);return/^\d+$/.test(t)?t:e},"parseBigInteger"),x=y(function(e){return e?r.parse(e,o(JSON.parse)):null},"parseJsonArray"),S=y(function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},"parsePoint"),E=y(function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++){if(n||(t+=e[i]),")"===e[i]){n=!0;continue}n&&","!==e[i]&&(r+=e[i])}var s=S(t);return s.radius=parseFloat(r),s},"parseCircle"),A=y(function(e){e(20,w),e(21,v),e(23,v),e(26,v),e(700,parseFloat),e(701,parseFloat),e(16,c),e(1082,i),e(1114,i),e(1184,i),e(600,S),e(651,m),e(718,E),e(1e3,u),e(1001,_),e(1005,d),e(1007,d),e(1028,d),e(1016,f),e(1017,h),e(1021,p),e(1022,p),e(1231,p),e(1014,m),e(1015,m),e(1008,m),e(1009,m),e(1040,m),e(1041,m),e(1115,g),e(1182,g),e(1185,g),e(1186,s),e(1187,b),e(17,a),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,x),e(3807,x),e(3907,m),e(2951,m),e(791,m),e(1183,m),e(1270,m)},"init");t.exports={init:A}}),z=g((e,t)=>{function r(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(0===r),r=~r+1>>>0,n="-");var i,s,a,o,c,u,l="";if(i=t%1e6,t=t/1e6>>>0,r=(s=0x100000000*i+r)/1e6>>>0,a=""+(s-1e6*r),0===r&&0===t)return n+a+l;for(o="",c=6-a.length,u=0;u<c;u++)o+="0";if(l=o+a+l,i=t%1e6,t=t/1e6>>>0,r=(s=0x100000000*i+r)/1e6>>>0,a=""+(s-1e6*r),0===r&&0===t)return n+a+l;for(o="",c=6-a.length,u=0;u<c;u++)o+="0";if(l=o+a+l,i=t%1e6,t=t/1e6>>>0,r=(s=0x100000000*i+r)/1e6>>>0,a=""+(s-1e6*r),0===r&&0===t)return n+a+l;for(o="",c=6-a.length,u=0;u<c;u++)o+="0";return l=o+a+l,n+(a=""+(s=0x100000000*(i=t%1e6)+r)%1e6)+l}k(),y(r,"readInt8"),t.exports=r}),J=g((e,t)=>{k();var r=z(),n=y(function(e,t,r,n,i){r=r||0,n=n||!1,i=i||function(e,t,r){return e*Math.pow(2,r)+t};var s=r>>3,a=y(function(e){return n?255&~e:e},"inv"),o=255,c=8-r%8;t<c&&(o=255<<8-t&255,c=t),r&&(o>>=r%8);var u=0;r%8+t>=8&&(u=i(0,a(e[s])&o,c));for(var l=t+r>>3,d=s+1;d<l;d++)u=i(u,a(e[d]),8);var f=(t+r)%8;return f>0&&(u=i(u,a(e[l])>>8-f,f)),u},"parseBits"),i=y(function(e,t,r){var i=Math.pow(2,r-1)-1,s=n(e,1),a=n(e,r,1);if(0===a)return 0;var o=1,c=n(e,t,r+1,!1,y(function(e,t,r){0===e&&(e=1);for(var n=1;n<=r;n++)o/=2,(t&1<<r-n)>0&&(e+=o);return e},"parsePrecisionBits"));return a==Math.pow(2,r+1)-1?0===c?0===s?1/0:-1/0:NaN:(0===s?1:-1)*Math.pow(2,a-i)*c},"parseFloatFromBits"),s=y(function(e){return 1==n(e,1)?-1*(n(e,15,1,!0)+1):n(e,15,1)},"parseInt16"),a=y(function(e){return 1==n(e,1)?-1*(n(e,31,1,!0)+1):n(e,31,1)},"parseInt32"),o=y(function(e){return i(e,23,8)},"parseFloat32"),c=y(function(e){return i(e,52,11)},"parseFloat64"),u=y(function(e){var t=n(e,16,32);if(49152==t)return NaN;for(var r=Math.pow(1e4,n(e,16,16)),i=0,s=n(e,16),a=0;a<s;a++)i+=n(e,16,64+16*a)*r,r/=1e4;var o=Math.pow(10,n(e,16,48));return(0===t?1:-1)*Math.round(i*o)/o},"parseNumeric"),l=y(function(e,t){var r=n(t,1),i=n(t,63,1),s=new Date((0===r?1:-1)*i/1e3+9466848e5);return e||s.setTime(s.getTime()+6e4*s.getTimezoneOffset()),s.usec=i%1e3,s.getMicroSeconds=function(){return this.usec},s.setMicroSeconds=function(e){this.usec=e},s.getUTCMicroSeconds=function(){return this.usec},s},"parseDate"),d=y(function(e){for(var t=n(e,32),r=(n(e,32,32),n(e,32,64)),i=96,s=[],a=0;a<t;a++)s[a]=n(e,32,i),i+=64;var o=y(function(t){var r,s=n(e,32,i);return(i+=32,0xffffffff==s)?null:23==t||20==t?(r=n(e,8*s,i),i+=8*s,r):25==t?e.toString(this.encoding,i>>3,(i+=s<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},"parseElement"),c=y(function(e,t){var r,n=[];if(e.length>1){var i=e.shift();for(r=0;r<i;r++)n[r]=c(e,t);e.unshift(i)}else for(r=0;r<e[0];r++)n[r]=o(t);return n},"parse");return c(s,r)},"parseArray"),f=y(function(e){return e.toString("utf8")},"parseText"),h=y(function(e){return null===e?null:n(e,8)>0},"parseBool"),p=y(function(e){e(20,r),e(21,s),e(23,a),e(26,a),e(1700,u),e(700,o),e(701,c),e(16,h),e(1114,l.bind(null,!1)),e(1184,l.bind(null,!0)),e(1e3,d),e(1007,d),e(1016,d),e(1008,d),e(1009,d),e(25,f)},"init");t.exports={init:p}}),Z=g((e,t)=>{k(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),Q=g(e=>{k();var t=K(),r=J(),n=H(),i=Z();e.getTypeParser=o,e.setTypeParser=c,e.arrayParser=n,e.builtins=i;var s={text:{},binary:{}};function a(e){return String(e)}function o(e,t){return s[t=t||"text"]&&s[t][e]||a}function c(e,t,r){"function"==typeof t&&(r=t,t="text"),s[t][e]=r}y(a,"noParse"),y(o,"getTypeParser"),y(c,"setTypeParser"),t.init(function(e,t){s.text[e]=t}),r.init(function(e,t){s.binary[e]=t})}),Y=g((e,t)=>{k(),t.exports={host:"localhost",user:"win32"===o.platform?o.env.USERNAME:o.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=Q(),n=r.getTypeParser(20,"text"),i=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(e){r.setTypeParser(20,"text",e?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",e?r.getTypeParser(1007,"text"):i)})}),X=g((e,t)=>{k();var r=($(),w(D)),n=Y();function i(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function s(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t+=","),null===e[r]||typeof e[r]>"u"?t+="NULL":Array.isArray(e[r])?t+=s(e[r]):e[r]instanceof a?t+="\\\\x"+e[r].toString("hex"):t+=i(o(e[r]));return t+"}"}y(i,"escapeElement"),y(s,"arrayString");var o=y(function(e,t){if(null==e)return null;if(e instanceof a)return e;if(ArrayBuffer.isView(e)){var r=a.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?n.parseInputDatesAsUTC?d(e):l(e):Array.isArray(e)?s(e):"object"==typeof e?c(e,t):e.toString()},"prepareValue");function c(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),o(e.toPostgres(o),t)}return JSON.stringify(e)}function u(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function l(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=u(r,4)+"-"+u(e.getMonth()+1,2)+"-"+u(e.getDate(),2)+"T"+u(e.getHours(),2)+":"+u(e.getMinutes(),2)+":"+u(e.getSeconds(),2)+"."+u(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=u(Math.floor(t/60),2)+":"+u(t%60,2),n&&(i+=" BC"),i}function d(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=u(t,4)+"-"+u(e.getUTCMonth()+1,2)+"-"+u(e.getUTCDate(),2)+"T"+u(e.getUTCHours(),2)+":"+u(e.getUTCMinutes(),2)+":"+u(e.getUTCSeconds(),2)+"."+u(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}function f(e,t,r){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),r&&(e.callback=r),e}y(c,"prepareObject"),y(u,"pad"),y(l,"dateToString"),y(d,"dateToStringUTC"),y(f,"normalizeQueryConfig");var h=y(function(e){return r.createHash("md5").update(e,"utf-8").digest("hex")},"md5"),p=y(function(e,t,r){var n=h(t+e);return"md5"+h(a.concat([a.from(n),r]))},"postgresMd5PasswordHash");t.exports={prepareValue:y(function(e){return o(e)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:p,md5:h}}),ee=g((e,t)=>{k();var r=($(),w(D));function n(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function i(e,t,r){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof r)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let n=l(r);if(n.nonce.startsWith(e.clientNonce)){if(n.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=m(t,a.from(n.salt,"base64"),n.iteration),s=p(i,"Client Key"),o=h(s),c="n=*,r="+e.clientNonce,u="r="+n.nonce+",s="+n.salt+",i="+n.iteration,d="c=biws,r="+n.nonce,y=c+","+u+","+d,g=f(s,p(o,y)).toString("base64"),b=p(i,"Server Key"),_=p(b,y);e.message="SASLResponse",e.serverSignature=_.toString("base64"),e.response=d+",p="+g}function s(e,t){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=d(t);if(r!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function o(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((t,r)=>e.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function c(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function u(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function l(e){let t=u(e),r=t.get("r");if(r){if(!o(r))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let n=t.get("s");if(n){if(!c(n))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let i=t.get("i");if(i){if(!/^[1-9][0-9]*$/.test(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:r,salt:n,iteration:parseInt(i,10)}}function d(e){let t=u(e).get("v");if(t){if(!c(t))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:t}}function f(e,t){if(!a.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!a.isBuffer(t))throw TypeError("second argument must be a Buffer");if(e.length!==t.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return a.from(e.map((r,n)=>e[n]^t[n]))}function h(e){return r.createHash("sha256").update(e).digest()}function p(e,t){return r.createHmac("sha256",e).update(t).digest()}function m(e,t,r){for(var n=p(e,a.concat([t,a.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)i=f(i,n=p(e,n));return i}y(n,"startSession"),y(i,"continueSession"),y(s,"finalizeSession"),y(o,"isPrintableChars"),y(c,"isBase64"),y(u,"parseAttributePairs"),y(l,"parseServerFirstMessage"),y(d,"parseServerFinalMessage"),y(f,"xorBuffers"),y(h,"sha256"),y(p,"hmacSha256"),y(m,"Hi"),t.exports={startSession:n,continueSession:i,finalizeSession:s}}),et={};function er(...e){return e.join("/")}b(et,{join:()=>er});var en=m(()=>{k(),y(er,"join")}),ei={};function es(e,t){t(Error("No filesystem"))}b(ei,{stat:()=>es});var ea=m(()=>{k(),y(es,"stat")}),eo={};b(eo,{default:()=>ec});var ec,eu=m(()=>{k(),ec={}}),el={};b(el,{StringDecoder:()=>ef});var ed,ef,eh=m(()=>{k(),y(ed=class{constructor(e){x(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},"StringDecoder"),ef=ed}),ep=g((e,t)=>{k();var{Transform:r}=(eu(),w(eo)),{StringDecoder:n}=(eh(),w(el)),i=Symbol("last"),s=Symbol("decoder");function a(e,t,r){let n;if(this.overflow){if(1===(n=this[s].write(e).split(this.matcher)).length)return r();n.shift(),this.overflow=!1}else this[i]+=this[s].write(e),n=this[i].split(this.matcher);this[i]=n.pop();for(let e=0;e<n.length;e++)try{c(this,this.mapper(n[e]))}catch(e){return r(e)}if(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow){r(Error("maximum buffer reached"));return}r()}function o(e){if(this[i]+=this[s].end(),this[i])try{c(this,this.mapper(this[i]))}catch(t){return e(t)}e()}function c(e,t){void 0!==t&&e.push(t)}function u(e){return e}function l(e,t,c){switch(e=e||/\r?\n/,t=t||u,c=c||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(c=e,e=/\r?\n/);break;case 2:"function"==typeof e?(c=t,t=e,e=/\r?\n/):"object"==typeof t&&(c=t,t=u)}(c=Object.assign({},c)).autoDestroy=!0,c.transform=a,c.flush=o,c.readableObjectMode=!0;let l=new r(c);return l[i]="",l[s]=new n("utf8"),l.matcher=e,l.mapper=t,l.maxLength=c.maxLength,l.skipOverflow=c.skipOverflow||!1,l.overflow=!1,l._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},l}y(a,"transform"),y(o,"flush"),y(c,"push"),y(u,"noop"),y(l,"split"),t.exports=l}),ey=g((e,t)=>{k();var r=(en(),w(et)),n=(eu(),w(eo)).Stream,i=ep(),s=(P(),w(R)),a="win32"===o.platform,c=o.stderr;function u(e){return(61440&e)==32768}y(u,"isRegFile");var l=["host","port","database","user","password"],d=l.length,f=l[d-1];function h(){if(c instanceof n&&!0===c.writable){var e=Array.prototype.slice.call(arguments).concat(`
`);c.write(s.format.apply(s,e))}}y(h,"warn"),Object.defineProperty(t.exports,"isWin",{get:y(function(){return a},"get"),set:y(function(e){a=e},"set")}),t.exports.warnTo=function(e){var t=c;return c=e,t},t.exports.getFileName=function(e){var t=e||o.env;return t.PGPASSFILE||(a?r.join(t.APPDATA||"./","postgresql","pgpass.conf"):r.join(t.HOME||"./",".pgpass"))},t.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(o.env,"PGPASSWORD")&&(!!a||(t=t||"<unkn>",u(e.mode)?!(63&e.mode)||(h('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):(h('WARNING: password file "%s" is not a plain file',t),!1)))};var p=t.exports.match=function(e,t){return l.slice(0,-1).reduce(function(r,n,i){return 1==i&&Number(e[n]||5432)===Number(t[n])?r&&!0:r&&("*"===t[n]||t[n]===e[n])},!0)};t.exports.getPassword=function(e,t,r){var n,s=t.pipe(i());function a(t){var r=m(t);r&&g(r)&&p(e,r)&&(n=r[f],s.end())}y(a,"onLine");var o=y(function(){t.destroy(),r(n)},"onEnd"),c=y(function(e){t.destroy(),h("WARNING: error on reading file: %s",e),r(void 0)},"onErr");t.on("error",c),s.on("data",a).on("end",o).on("error",c)};var m=t.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s={},a=y(function(t,r,n){var i=e.substring(r,n);Object.hasOwnProperty.call(o.env,"PGPASS_NO_DEESCAPE")||(i=i.replace(/\\([:\\])/g,"$1")),s[l[t]]=i},"addToObj"),c=0;c<e.length-1;c+=1){if(t=e.charAt(c+1),r=e.charAt(c),n==d-1){a(n,i);break}c>=0&&":"==t&&"\\"!==r&&(a(n,i,c+1),i=c+2,n+=1)}return s=Object.keys(s).length===d?s:null},g=t.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<0x20000000000000&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},r=0;r<l.length;r+=1)if(!(0,t[r])(e[l[r]]||""))return!1;return!0}}),em=g((e,t)=>{k(),en(),w(et);var r=(ea(),w(ei)),n=ey();t.exports=function(e,t){var i=n.getFileName();r.stat(i,function(s,a){if(s||!n.usePgPass(a,i))return t(void 0);var o=r.createReadStream(i);n.getPassword(e,o,t)})},t.exports.warnTo=n.warnTo}),eg=g((e,t)=>{k();var r=Q();function n(e){this._types=e||r,this.text={},this.binary={}}y(n,"TypeOverrides"),n.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text"),this.getOverrides(t)[e]=r},n.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},t.exports=n}),eb={};b(eb,{default:()=>e_});var e_,ev=m(()=>{k(),e_={}}),ew={};function ex(e,t=!1){let{protocol:r}=new URL(e),{username:n,password:i,host:s,hostname:a,port:o,pathname:c,search:u,searchParams:l,hash:d}=new URL("http:"+e.substring(r.length));i=decodeURIComponent(i),n=decodeURIComponent(n),c=decodeURIComponent(c);let f=n+":"+i,h=t?Object.fromEntries(l.entries()):u;return{href:e,protocol:r,auth:f,username:n,password:i,host:s,hostname:a,port:o,pathname:c,search:u,query:h,hash:d}}b(ew,{parse:()=>ex});var eS=m(()=>{k(),y(ex,"parse")}),eE=g((e,t)=>{k();var r=(eS(),w(ew)),n=(ea(),w(ei));function i(e){if("/"===e.charAt(0)){var t=e.split(" ");return{host:t[0],database:t[1]}}var i=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=i.query;for(var s in t)Array.isArray(t[s])&&(t[s]=t[s][t[s].length-1]);var a=(i.auth||":").split(":");if(t.user=a[0],t.password=a.splice(1).join(":"),t.port=i.port,"socket:"==i.protocol)return t.host=decodeURI(i.pathname),t.database=i.query.db,t.client_encoding=i.query.encoding,t;t.host||(t.host=i.hostname);var o=i.pathname;if(!t.host&&o&&/^%2f/i.test(o)){var c=o.split("/");t.host=decodeURIComponent(c[0]),o=c.splice(1).join("/")}switch(o&&"/"===o.charAt(0)&&(o=o.slice(1)||null),t.database=o&&decodeURI(o),("true"===t.ssl||"1"===t.ssl)&&(t.ssl=!0),"0"===t.ssl&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=n.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=n.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=n.readFileSync(t.sslrootcert).toString()),t.sslmode){case"disable":t.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":t.ssl.rejectUnauthorized=!1}return t}y(i,"parse"),t.exports=i,i.parse=i}),eA=g((e,t)=>{k();var r=(ev(),w(eb)),n=Y(),i=eE().parse,s=y(function(e,t,r){return void 0===r?r=o.env["PG"+e.toUpperCase()]:!1===r||(r=o.env[r]),t[e]||r||n[e]},"val"),a=y(function(){switch(o.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),c=y(function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),u=y(function(e,t,r){var n=t[r];null!=n&&e.push(r+"="+c(n))},"add"),l=class{constructor(e){(e="string"==typeof e?i(e):e||{}).connectionString&&(e=Object.assign({},e,i(e.connectionString))),this.user=s("user",e),this.database=s("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(s("port",e),10),this.host=s("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",e)}),this.binary=s("binary",e),this.options=s("options",e),this.ssl=typeof e.ssl>"u"?a():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=s("client_encoding",e),this.replication=s("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",e,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",e,!1),this.statement_timeout=s("statement_timeout",e,!1),this.lock_timeout=s("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",e,!1),this.query_timeout=s("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=o.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];u(t,this,"user"),u(t,this,"password"),u(t,this,"port"),u(t,this,"application_name"),u(t,this,"fallback_application_name"),u(t,this,"connect_timeout"),u(t,this,"options");var n="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(u(t,n,"sslmode"),u(t,n,"sslca"),u(t,n,"sslkey"),u(t,n,"sslcert"),u(t,n,"sslrootcert"),this.database&&t.push("dbname="+c(this.database)),this.replication&&t.push("replication="+c(this.replication)),this.host&&t.push("host="+c(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+c(this.client_encoding)),r.lookup(this.host,function(r,n){return r?e(r,null):(t.push("hostaddr="+c(n)),e(null,t.join(" ")))})}};y(l,"ConnectionParameters"),t.exports=l}),ek=g((e,t)=>{k();var r=Q(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){var t;(t=e.text?n.exec(e.text):n.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++){var i=e[r];null!==i?t[r]=this._parsers[r](i):t[r]=null}return t}parseRow(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r],s=this.fields[r].name;null!==i?t[s]=this._parsers[r](i):t[s]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var t=0;t<e.length;t++){var n=e[t];this._types?this._parsers[t]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[t]=r.getTypeParser(n.dataTypeID,n.format||"text")}}};y(i,"Result"),t.exports=i}),eT=g((e,t)=>{k();var{EventEmitter:r}=T(),n=ek(),i=X(),s=class extends r{constructor(e,t,r){super(),e=i.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,o.domain&&e.callback&&(this.callback=o.domain.bind(e.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){o.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?Error(`Prepared statements must be \
unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(t){this.handleError(t,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};y(s,"Query"),t.exports=s}),eR={};function eO(e){return 0}b(eR,{Socket:()=>eN,isIP:()=>eO});var eP,eC,eI,eN,eL=m(()=>{k(),eP=v(T(),1),y(eO,"isIP"),eC=/^[^.]+\./,eI=class e extends eP.EventEmitter{constructor(){super(...arguments),x(this,"opts",{}),x(this,"connecting",!1),x(this,"pending",!0),x(this,"writable",!0),x(this,"encrypted",!1),x(this,"authorized",!1),x(this,"destroyed",!1),x(this,"ws",null),x(this,"writeBuffer"),x(this,"tlsState",0),x(this,"tlsRead"),x(this,"tlsWrite")}static get poolQueryViaFetch(){return e.opts.poolQueryViaFetch??e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){e.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return e.opts.fetchEndpoint??e.defaults.fetchEndpoint}static set fetchEndpoint(t){e.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return e.opts.fetchFunction??e.defaults.fetchFunction}static set fetchFunction(t){e.opts.fetchFunction=t}static get webSocketConstructor(){return e.opts.webSocketConstructor??e.defaults.webSocketConstructor}static set webSocketConstructor(t){e.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return e.opts.wsProxy??e.defaults.wsProxy}static set wsProxy(t){e.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return e.opts.coalesceWrites??e.defaults.coalesceWrites}static set coalesceWrites(t){e.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return e.opts.useSecureWebSocket??e.defaults.useSecureWebSocket}static set useSecureWebSocket(t){e.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return e.opts.forceDisablePgSSL??e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){e.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return e.opts.disableSNI??e.defaults.disableSNI}static set disableSNI(t){e.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return e.opts.pipelineConnect??e.defaults.pipelineConnect}static set pipelineConnect(t){e.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return e.opts.subtls??e.defaults.subtls}static set subtls(t){e.opts.subtls=t}get subtls(){return this.opts.subtls??e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return e.opts.pipelineTLS??e.defaults.pipelineTLS}static set pipelineTLS(t){e.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return e.opts.rootCerts??e.defaults.rootCerts}static set rootCerts(t){e.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,t){let r=this.wsProxy;if(void 0===r)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof r?r(e,t):`${r}?address=${e}:${t}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,t,r){this.connecting=!0,r&&this.once("connect",r);let n=y(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=y((e,t=!1)=>{e.binaryType="arraybuffer",e.addEventListener("error",e=>{this.emit("error",e),this.emit("close")}),e.addEventListener("message",e=>{if(0===this.tlsState){let t=a.from(e.data);this.emit("data",t)}}),e.addEventListener("close",()=>{this.emit("close")}),t?n():e.addEventListener("open",n)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(t,"string"==typeof e?parseInt(e,10):e)}catch(e){this.emit("error",e),this.emit("close");return}try{let e=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(e),i(this.ws);else try{this.ws=new WebSocket(e),i(this.ws)}catch{this.ws=new __unstable_WebSocket(e),i(this.ws)}}catch(e){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+s,{headers:{Upgrade:"websocket"}}).then(t=>{if(this.ws=t.webSocket,null==this.ws)throw e;this.ws.accept(),i(this.ws,!0)}).catch(e=>{this.emit("error",Error(`All attempts to open a WebSocket to\
 connect to the database failed. Please refer to https://github.com/neondatabase\
/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\
. Details: ${e.message}`)),this.emit("close")})}}async startTls(e){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let t=this.subtls.TrustedCert.fromPEM(this.rootCerts),r=new this.subtls.WebSocketReadQueue(this.ws),n=r.read.bind(r),i=this.rawWrite.bind(this),[s,a]=await this.subtls.startTls(e,t,n,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(void 0===e)break;{let t=a.from(e);this.emit("data",t)}}}rawWrite(e){if(!this.coalesceWrites){this.ws.send(e);return}if(void 0===this.writeBuffer)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let t=new Uint8Array(this.writeBuffer.length+e.length);t.set(this.writeBuffer),t.set(e,this.writeBuffer.length),this.writeBuffer=t}}write(e,t="utf8",r=e=>{}){return 0===e.length?r():("string"==typeof e&&(e=a.from(e,t)),0===this.tlsState?(this.rawWrite(e),r()):1===this.tlsState?this.once("secureConnection",()=>{this.write(e,t,r)}):(this.tlsWrite(e),r())),!0}end(e=a.alloc(0),t="utf8",r=()=>{}){return this.write(e,t,()=>{this.ws.close(),r()}),this}destroy(){return this.destroyed=!0,this.end()}},y(eI,"Socket"),x(eI,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:y((e,t,r)=>"https://"+(r?.jwtAuth?e.replace(eC,"apiauth."):e.replace(eC,"api."))+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:y(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),x(eI,"opts",{}),eN=eI}),eM=g(e=>{k(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(e,t,r){super(e),this.length=t,this.name=r}};y(t,"DatabaseError"),e.DatabaseError=t;var r=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};y(r,"CopyDataMessage"),e.CopyDataMessage=r;var n=class{constructor(e,t,r,n){this.length=e,this.name=t,this.binary=r,this.columnTypes=Array(n)}};y(n,"CopyResponse"),e.CopyResponse=n;var i=class{constructor(e,t,r,n,i,s,a){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=n,this.dataTypeSize=i,this.dataTypeModifier=s,this.format=a}};y(i,"Field"),e.Field=i;var s=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}};y(s,"RowDescriptionMessage"),e.RowDescriptionMessage=s;var a=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};y(a,"ParameterDescriptionMessage"),e.ParameterDescriptionMessage=a;var o=class{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}};y(o,"ParameterStatusMessage"),e.ParameterStatusMessage=o;var c=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};y(c,"AuthenticationMD5Password"),e.AuthenticationMD5Password=c;var u=class{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}};y(u,"BackendKeyDataMessage"),e.BackendKeyDataMessage=u;var l=class{constructor(e,t,r,n){this.length=e,this.processId=t,this.channel=r,this.payload=n,this.name="notification"}};y(l,"NotificationResponseMessage"),e.NotificationResponseMessage=l;var d=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};y(d,"ReadyForQueryMessage"),e.ReadyForQueryMessage=d;var f=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};y(f,"CommandCompleteMessage"),e.CommandCompleteMessage=f;var h=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};y(h,"DataRowMessage"),e.DataRowMessage=h;var p=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};y(p,"NoticeMessage"),e.NoticeMessage=p}),eD=g(e=>{k(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=a.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,r=t.length+(t.length>>1)+e;this.buffer=a.allocUnsafe(r),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=a.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=a.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=a.allocUnsafe(this.size),t}};y(t,"Writer"),e.Writer=t}),eU=g(e=>{k(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=eD(),r=new t.Writer,n=y(e=>{for(let t of(r.addInt16(3).addInt16(0),Object.keys(e)))r.addCString(t).addCString(e[t]);r.addCString("client_encoding").addCString("UTF8");var n=r.addCString("").flush(),i=n.length+4;return new t.Writer().addInt32(i).add(n).flush()},"startup"),i=y(()=>{let e=a.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(0x4d2162f,4),e},"requestSsl"),s=y(e=>r.addCString(e).flush(112),"password"),o=y(function(e,t){return r.addCString(e).addInt32(a.byteLength(t)).addString(t),r.flush(112)},"sendSASLInitialResponseMessage"),c=y(function(e){return r.addString(e).flush(112)},"sendSCRAMClientFinalMessage"),u=y(e=>r.addCString(e).flush(81),"query"),l=[],d=y(e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let n=e.types||l;for(var i=n.length,s=r.addCString(t).addCString(e.text).addInt16(i),a=0;a<i;a++)s.addInt32(n[a]);return r.flush(80)},"parse"),f=new t.Writer,h=y(function(e,t){for(let n=0;n<e.length;n++){let i=t?t(e[n],n):e[n];null==i?(r.addInt16(0),f.addInt32(-1)):i instanceof a?(r.addInt16(1),f.addInt32(i.length),f.add(i)):(r.addInt16(0),f.addInt32(a.byteLength(i)),f.addString(i))}},"writeValues"),p=y((e={})=>{let t=e.portal||"",n=e.statement||"",i=e.binary||!1,s=e.values||l,a=s.length;return r.addCString(t).addCString(n),r.addInt16(a),h(s,e.valueMapper),r.addInt16(a),r.add(f.flush()),r.addInt16(i?1:0),r.flush(66)},"bind"),m=a.from([69,0,0,0,9,0,0,0,0,0]),g=y(e=>{if(!e||!e.portal&&!e.rows)return m;let t=e.portal||"",r=e.rows||0,n=a.byteLength(t),i=4+n+1+4,s=a.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},"execute"),b=y((e,t)=>{let r=a.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},"cancel"),_=y((e,t)=>{let r=4+a.byteLength(t)+1,n=a.allocUnsafe(1+r);return n[0]=e,n.writeInt32BE(r,1),n.write(t,5,"utf-8"),n[r]=0,n},"cstringMessage"),v=r.addCString("P").flush(68),w=r.addCString("S").flush(68),x=y(e=>e.name?_(68,`${e.type}${e.name||""}`):"P"===e.type?v:w,"describe"),S=y(e=>_(67,`${e.type}${e.name||""}`),"close"),E=y(e=>r.add(e).flush(100),"copyData"),A=y(e=>_(102,e),"copyFail"),T=y(e=>a.from([e,0,0,0,4]),"codeOnlyBuffer"),R=T(72),O=T(83),P=T(88),C=T(99),I={startup:n,password:s,requestSsl:i,sendSASLInitialResponseMessage:o,sendSCRAMClientFinalMessage:c,query:u,parse:d,bind:p,execute:g,describe:x,close:S,flush:y(()=>R,"flush"),sync:y(()=>O,"sync"),end:y(()=>P,"end"),copyData:E,copyDone:y(()=>C,"copyDone"),copyFail:A,cancel:b};e.serialize=I}),ej=g(e=>{k(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=a.allocUnsafe(0),r=class{constructor(e=0){this.offset=e,this.buffer=t,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){let e=this.offset,t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};y(r,"BufferReader"),e.BufferReader=r}),eB=g(e=>{k(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=eM(),r=ej(),n=a.allocUnsafe(0),i=class{constructor(e){if(this.buffer=n,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,e?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,t){this.mergeBuffer(e);let r=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+5<=r;){let e=this.buffer[i],n=this.buffer.readUInt32BE(i+1),s=1+n;if(s+i<=r)t(this.handlePacket(i+5,e,n,this.buffer)),i+=s;else break}i===r?(this.buffer=n,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let r=2*this.buffer.byteLength;for(;t>=r;)r*=2;e=a.allocUnsafe(r)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,n,i){switch(r){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(e,n,i);case 67:return this.parseCommandCompleteMessage(e,n,i);case 90:return this.parseReadyForQueryMessage(e,n,i);case 65:return this.parseNotificationMessage(e,n,i);case 82:return this.parseAuthenticationResponse(e,n,i);case 83:return this.parseParameterStatusMessage(e,n,i);case 75:return this.parseBackendKeyData(e,n,i);case 69:return this.parseErrorMessage(e,n,i,"error");case 78:return this.parseErrorMessage(e,n,i,"notice");case 84:return this.parseRowDescriptionMessage(e,n,i);case 116:return this.parseParameterDescriptionMessage(e,n,i);case 71:return this.parseCopyInMessage(e,n,i);case 72:return this.parseCopyOutMessage(e,n,i);case 100:return this.parseCopyData(e,n,i);default:return new t.DatabaseError("received invalid response: "+r.toString(16),n,"error")}}parseReadyForQueryMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.string(1);return new t.ReadyForQueryMessage(r,i)}parseCommandCompleteMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.cstring();return new t.CommandCompleteMessage(r,i)}parseCopyData(e,r,n){let i=n.slice(e,e+(r-4));return new t.CopyDataMessage(r,i)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,r,n,i){this.reader.setBuffer(e,n);let s=0!==this.reader.byte(),a=this.reader.int16(),o=new t.CopyResponse(r,i,s,a);for(let e=0;e<a;e++)o.columnTypes[e]=this.reader.int16();return o}parseNotificationMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.cstring(),a=this.reader.cstring();return new t.NotificationResponseMessage(r,i,s,a)}parseRowDescriptionMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int16(),s=new t.RowDescriptionMessage(r,i);for(let e=0;e<i;e++)s.fields[e]=this.parseField();return s}parseField(){let e=this.reader.cstring(),r=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.int16(),a=this.reader.int32(),o=0===this.reader.int16()?"text":"binary";return new t.Field(e,r,n,i,s,a,o)}parseParameterDescriptionMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int16(),s=new t.ParameterDescriptionMessage(r,i);for(let e=0;e<i;e++)s.dataTypeIDs[e]=this.reader.int32();return s}parseDataRowMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int16(),s=Array(i);for(let e=0;e<i;e++){let t=this.reader.int32();s[e]=-1===t?null:this.reader.string(t)}return new t.DataRowMessage(r,s)}parseParameterStatusMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.cstring(),s=this.reader.cstring();return new t.ParameterStatusMessage(r,i,s)}parseBackendKeyData(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.int32();return new t.BackendKeyDataMessage(r,i,s)}parseAuthenticationResponse(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s={name:"authenticationOk",length:r};switch(i){case 0:break;case 3:8===s.length&&(s.name="authenticationCleartextPassword");break;case 5:if(12===s.length){s.name="authenticationMD5Password";let e=this.reader.bytes(4);return new t.AuthenticationMD5Password(r,e)}break;case 10:let a;s.name="authenticationSASL",s.mechanisms=[];do(a=this.reader.cstring())&&s.mechanisms.push(a);while(a);break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(r-8);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(r-8);break;default:throw Error("Unknown authenticationOk message type "+i)}return s}parseErrorMessage(e,r,n,i){this.reader.setBuffer(e,n);let s={},a=this.reader.string(1);for(;"\0"!==a;)s[a]=this.reader.cstring(),a=this.reader.string(1);let o=s.M,c="notice"===i?new t.NoticeMessage(r,o):new t.DatabaseError(o,r,i);return c.severity=s.S,c.code=s.C,c.detail=s.D,c.hint=s.H,c.position=s.P,c.internalPosition=s.p,c.internalQuery=s.q,c.where=s.W,c.schema=s.s,c.table=s.t,c.column=s.c,c.dataType=s.d,c.constraint=s.n,c.file=s.F,c.line=s.L,c.routine=s.R,c}};y(i,"Parser"),e.Parser=i}),e$=g(e=>{k(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=eM();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:y(function(){return t.DatabaseError},"get")});var r=eU();Object.defineProperty(e,"serialize",{enumerable:!0,get:y(function(){return r.serialize},"get")});var n=eB();function i(e,t){let r=new n.Parser;return e.on("data",e=>r.parse(e,t)),new Promise(t=>e.on("end",()=>t()))}y(i,"parse"),e.parse=i}),eF={};function eH({socket:e,servername:t}){return e.startTls(t),e}b(eF,{connect:()=>eH});var eW=m(()=>{k(),y(eH,"connect")}),eq=g((e,t)=>{k();var r=(eL(),w(eR)),n=T().EventEmitter,{parse:i,serialize:s}=e$(),a=s.flush(),o=s.sync(),c=s.end(),u=class extends n{constructor(e){super(),e=e||{},this.stream=e.stream||new r.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(e){"message"===e&&(t._emitMessage=!0)})}connect(e,t){var n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=y(function(e){n._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||n.emit("error",e)},"reportStreamError");if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return n.stream.end(),n.emit("error",Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",Error("There was an error establishing an SSL connection"))}var s=(eW(),w(eF));let a={socket:n.stream};!0!==n.ssl&&(Object.assign(a,n.ssl),"key"in n.ssl&&(a.key=n.ssl.key)),0===r.isIP(t)&&(a.servername=t);try{n.stream=s.connect(a)}catch(e){return n.emit("error",e)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(e){e.on("end",()=>{this.emit("end")}),i(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})}requestSsl(){this.stream.write(s.requestSsl())}startup(e){this.stream.write(s.startup(e))}cancel(e,t){this._send(s.cancel(e,t))}password(e){this._send(s.password(e))}sendSASLInitialResponseMessage(e,t){this._send(s.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(s.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(s.query(e))}parse(e){this._send(s.parse(e))}bind(e){this._send(s.bind(e))}execute(e){this._send(s.execute(e))}flush(){this.stream.writable&&this.stream.write(a)}sync(){this._ending=!0,this._send(a),this._send(o)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(e){this._send(s.close(e))}describe(e){this._send(s.describe(e))}sendCopyFromChunk(e){this._send(s.copyData(e))}endCopyFrom(){this._send(s.copyDone())}sendCopyFail(e){this._send(s.copyFail(e))}};y(u,"Connection"),t.exports=u}),eV=g((e,t)=>{k();var r=T().EventEmitter,i=(P(),w(R),X()),s=ee(),a=em(),c=eg(),u=eA(),l=eT(),d=Y(),f=eq(),h=class extends r{constructor(e){super(),this.connectionParameters=new u(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||n.Promise,this._types=new c(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new f({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||d.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=y(t=>{o.nextTick(()=>{t.handleError(e,this.connection)})},"enqueueError");this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0}_connect(e){var t=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let t=Error("Client has already been connected. You cannot reuse a client.");o.nextTick(()=>{e(t)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){t.ssl?r.requestSsl():r.startup(t.getStartupConf())}),r.on("sslconnect",function(){r.startup(t.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),o.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let t=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(r=>{if(void 0!==r){if("string"!=typeof r){t.emit("error",TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{t.emit("error",e)}):null!==this.password?e():a(this.connectionParameters,t=>{void 0!==t&&(this.connectionParameters.password=this.password=t),e()})}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(()=>{let t=i.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{this.saslSession=s.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){s.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(e){s.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let t=this.activeQuery;if(!t){this._handleErrorEvent(e);return}this.activeQuery=null,t.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,r){return this._types.setTypeParser(e,t,r)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){return'"'+e.replace(/"/g,'""')+'"'}escapeLiteral(e){for(var t=!1,r="'",n=0;n<e.length;n++){var i=e[n];"'"===i?r+=i+i:"\\"===i?(r+=i+i,t=!0):r+=i}return r+="'",!0===t&&(r=" E"+r),r}_pulseQueryQueue(){if(!0===this.readyForQuery){if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&o.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}}query(e,t,r){var n,i,s,a,c;if(null==e)throw TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,"function"==typeof t&&(n.callback=n.callback||t)):(s=this.connectionParameters.query_timeout,(n=new l(e,t,r)).callback||(i=new this._Promise((e,t)=>{n.callback=(r,n)=>r?t(r):e(n)}))),s&&(c=n.callback,a=setTimeout(()=>{var e=Error("Query read timeout");o.nextTick(()=>{n.handleError(e,this.connection)}),c(e),n.callback=()=>{};var t=this.queryQueue.indexOf(n);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},s),n.callback=(e,t)=>{clearTimeout(a),c(e,t)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?o.nextTick(()=>{n.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(n),this._pulseQueryQueue()):o.nextTick(()=>{n.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),i}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting){if(!e)return this._Promise.resolve();e()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}};y(h,"Client"),h.Query=l,t.exports=h}),eG=g((e,t)=>{k();var r=T().EventEmitter,s=y(function(){},"NOOP"),a=y((e,t)=>{let r=e.findIndex(t);return -1===r?void 0:e.splice(r,1)[0]},"removeWhere"),c=class{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}};y(c,"IdleItem");var u=class{constructor(e){this.callback=e}};function l(){throw Error("Release called on client which has already been released to the pool.")}function d(e,t){let r,n;return t?{callback:t,result:void 0}:{callback:y(function(e,t){e?r(e):n(t)},"cb"),result:new e(function(e,t){n=e,r=t}).catch(e=>{throw Error.captureStackTrace(e),e})}}function f(e,t){return y(function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)},"idleListener")}y(u,"PendingItem"),y(l,"throwOnDoubleRelease"),y(d,"promisify"),y(f,"makeIdleListener");var h=class extends r{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||e0().Client,this.Promise=this.options.Promise||n.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(t.timeoutId);let r=t.client;r.ref&&r.ref();let n=t.idleListener;return this._acquireClient(r,e,n,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let t=a(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let t=Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}let t=d(this.Promise,e),r=t.result;if(this._isFull()||this._idle.length){if(this._idle.length&&o.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new u(t.callback)),r;let e=y((e,r,n)=>{clearTimeout(i),t.callback(e,r,n)},"queueCallback"),n=new u(e),i=setTimeout(()=>{a(this._pendingQueue,t=>t.callback===e),n.timedOut=!0,t.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(n),r}return this.newClient(new u(t.callback)),r}newClient(e){let t=new this.Client(this.options);this._clients.push(t);let r=f(this,t);this.log("checking client timeout");let n,i=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(a=>{if(n&&clearTimeout(n),t.on("error",r),a)this.log("client failed to connect",a),this._clients=this._clients.filter(e=>e!==t),i&&(a.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(a,void 0,s);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(t),-1!==this._idle.findIndex(e=>e.client===t)&&this._acquireClient(t,new u((e,t,r)=>r()),r,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),t.once("end",()=>clearTimeout(e))}return this._acquireClient(t,e,r,!0)}})}_acquireClient(e,t,r,n){n&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),t.timedOut?n&&this.options.verify?this.options.verify(e,e.release):e.release():n&&this.options.verify?this.options.verify(e,r=>{if(r)return e.release(r),t.callback(r,void 0,s);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let r=!1;return n=>{r&&l(),r=!0,this._release(e,t,n)}}_release(e,t,r){let n;if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&(n=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&n.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new c(e,t,n)),this._pulseQueue()}query(e,t,r){if("function"==typeof e){let t=d(this.Promise,e);return i(function(){return t.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),t.result}"function"==typeof t&&(r=t,t=void 0);let n=d(this.Promise,r);return r=n.callback,this.connect((n,i)=>{if(n)return r(n);let s=!1,a=y(e=>{s||(s=!0,i.release(e),r(e))},"onError");i.once("error",a),this.log("dispatching query");try{i.query(e,t,(e,t)=>{if(this.log("query dispatched"),i.removeListener("error",a),!s)return s=!0,i.release(e),e?r(e):r(void 0,t)})}catch(e){return i.release(e),r(e)}}),n.result}end(e){if(this.log("ending"),this.ending){let t=Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;let t=d(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){return this._clients.length}};y(h,"Pool"),t.exports=h}),eK={};b(eK,{default:()=>ez});var ez,eJ=m(()=>{k(),ez={}}),eZ=g((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),eQ=g((e,t)=>{k();var r=T().EventEmitter,n=(P(),w(R)),s=X(),a=t.exports=function(e,t,n){r.call(this),e=s.normalizeQueryConfig(e,t,n),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};n.inherits(a,r);var c={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};a.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t)e[c[r]||r]=t[r];this.callback?this.callback(e):this.emit("error",e),this.state="error"},a.prototype.then=function(e,t){return this._getPromise().then(e,t)},a.prototype.catch=function(e){return this._getPromise().catch(e)},a.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,t){this._once("end",e),this._once("error",t)}).bind(this))),this._promise},a.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=y(function(r,n,s){if(e.native.arrayMode=!1,i(function(){t.emit("_done")}),r)return t.handleError(r);t._emitRowEvents&&(s.length>1?n.forEach((e,r)=>{e.forEach(e=>{t.emit("row",e,s[r])})}):n.forEach(function(e){t.emit("row",e,s)})),t.state="end",t.emit("end",s),t.callback&&t.callback(null,s)},"after");if(o.domain&&(r=o.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(s.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Pre\
pared statements must be unique - '${this.name}' was used for a different statem\
ent`);return r(e)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,function(i){return i?r(i):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return r(e)}var a=this.values.map(s.prepareValue);e.native.query(this.text,a,r)}else e.native.query(this.text,r)}}),eY=g((e,t)=>{k();var r=(eJ(),w(eK)),i=eg(),s=(eZ(),T().EventEmitter),a=(P(),w(R)),c=eA(),u=eQ(),l=t.exports=function(e){s.call(this),e=e||{},this._Promise=e.Promise||n.Promise,this._types=new i(e.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new c(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};l.Query=u,a.inherits(l,s),l.prototype._errorAllQueries=function(e){let t=y(t=>{o.nextTick(()=>{t.native=this.native,t.handleError(e)})},"enqueueError");this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},l.prototype._connect=function(e){var t=this;if(this._connecting){o.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(r)return e(r);t.native.connect(n,function(r){if(r)return t.native.end(),e(r);t._connected=!0,t.native.on("error",function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)}),t.native.on("notification",function(e){t.emit("notification",{channel:e.relname,payload:e.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})},l.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})},l.prototype.query=function(e,t,r){var n,i,s,a,c;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,"function"==typeof t&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,!(n=new u(e,t,r)).callback){let e,t;i=new this._Promise((r,n)=>{e=r,t=n}),n.callback=(r,n)=>r?t(r):e(n)}return s&&(c=n.callback,a=setTimeout(()=>{var e=Error("Query read timeout");o.nextTick(()=>{n.handleError(e,this.connection)}),c(e),n.callback=()=>{};var t=this._queryQueue.indexOf(n);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},s),n.callback=(e,t)=>{clearTimeout(a),c(e,t)}),this._queryable?this._ending?(n.native=this.native,o.nextTick(()=>{n.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(n),this._pulseQueryQueue()):(n.native=this.native,o.nextTick(()=>{n.handleError(Error("Client has encountered a connection error and is not queryable"))})),i},l.prototype.end=function(e){var t,r=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise(function(t,r){e=y(e=>e?r(e):t(),"cb")})),this.native.end(function(){r._errorAllQueries(Error("Connection terminated")),o.nextTick(()=>{r.emit("end"),e&&e()})}),t},l.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},l.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}},l.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},l.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}}),eX=g((e,t)=>{k(),t.exports=eY()}),e0=g((e,t)=>{k();var r=eV(),n=Y(),i=eq(),s=eG(),{DatabaseError:a}=e$(),c=y(e=>{var t;return y(t=class extends s{constructor(t){super(t,e)}},"BoundPool"),t},"poolFactory"),u=y(function(e){this.defaults=n,this.Client=e,this.Query=this.Client.Query,this.Pool=c(this.Client),this._pools=[],this.Connection=i,this.types=Q(),this.DatabaseError=a},"PG");"u">typeof o.env.NODE_PG_FORCE_NATIVE?t.exports=new u(eX()):(t.exports=new u(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new u(eX())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(t.exports,"native",{value:e}),e}}))});k();var e1=v(e0());eL(),k(),eL(),eS();var e2=v(X()),e5=v(eg());function e6(e){return e instanceof a?"\\x"+e.toString("hex"):e}y(e6,"encodeBuffersAsBytea");var e3=class e extends Error{constructor(t){super(t),x(this,"name","NeonDbError"),x(this,"severity"),x(this,"code"),x(this,"detail"),x(this,"hint"),x(this,"position"),x(this,"internalPosition"),x(this,"internalQuery"),x(this,"where"),x(this,"schema"),x(this,"table"),x(this,"column"),x(this,"dataType"),x(this,"constraint"),x(this,"file"),x(this,"line"),x(this,"routine"),x(this,"sourceError"),"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}};y(e3,"NeonDbError");var e4="transaction() expects an array of queries, or a function returning an array of queries",e8=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function e9(e,{arrayMode:t,fullResults:r,fetchOptions:n,isolationLevel:i,readOnly:s,deferrable:a,queryCallback:o,resultCallback:c,authToken:u}={}){let l;if(!e)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{l=ex(e)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:d,username:f,hostname:h,port:p,pathname:m}=l;if("postgres:"!==d&&"postgresql:"!==d||!f||!h||!m)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function g(e,...t){let r,n;if("string"==typeof e)r=e,n=t[1],t=t[0]??[];else{r="";for(let n=0;n<e.length;n++)r+=e[n],n<t.length&&(r+="$"+(n+1))}let i={query:r,params:t=t.map(e=>e6((0,e2.prepareValue)(e)))};return o&&o(i),e7(b,i,n)}async function b(o,l,d){let f,{fetchEndpoint:y,fetchFunction:m}=eN,g=Array.isArray(o)?{queries:o}:o,b=n??{},_=t??!1,v=r??!1,w=i,x=s,S=a;void 0!==d&&(void 0!==d.fetchOptions&&(b={...b,...d.fetchOptions}),void 0!==d.arrayMode&&(_=d.arrayMode),void 0!==d.fullResults&&(v=d.fullResults),void 0!==d.isolationLevel&&(w=d.isolationLevel),void 0!==d.readOnly&&(x=d.readOnly),void 0!==d.deferrable&&(S=d.deferrable)),void 0===l||Array.isArray(l)||void 0===l.fetchOptions||(b={...b,...l.fetchOptions});let E=u;Array.isArray(l)||l?.authToken===void 0||(E=l.authToken);let A="function"==typeof y?y(h,p,{jwtAuth:void 0!==E}):y,k={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},T=await tt(E);T&&(k.Authorization=`Bearer ${T}`),Array.isArray(o)&&(void 0!==w&&(k["Neon-Batch-Isolation-Level"]=w),void 0!==x&&(k["Neon-Batch-Read-Only"]=String(x)),void 0!==S&&(k["Neon-Batch-Deferrable"]=String(S)));try{f=await (m??fetch)(A,{method:"POST",body:JSON.stringify(g),headers:k,...b})}catch(t){let e=new e3(`Error connecting to database: ${t.message}`);throw e.sourceError=t,e}if(f.ok){let e=await f.json();if(Array.isArray(o)){let t=e.results;if(!Array.isArray(t))throw new e3("Neon internal error: unexpected result format");return t.map((e,t)=>{let r=l[t]??{};return te(e,{arrayMode:r.arrayMode??_,fullResults:r.fullResults??v,parameterizedQuery:o[t],resultCallback:c,types:r.types})})}{let t=l??{};return te(e,{arrayMode:t.arrayMode??_,fullResults:t.fullResults??v,parameterizedQuery:o,resultCallback:c,types:t.types})}}{let{status:e}=f;if(400===e){let e=await f.json(),t=new e3(e.message);for(let r of e8)t[r]=e[r]??void 0;throw t}{let t=await f.text();throw new e3(`Server er\
ror (HTTP status ${e}): ${t}`)}}}return y(g,"resolve"),g.transaction=async(e,t)=>{if("function"==typeof e&&(e=e(g)),!Array.isArray(e))throw Error(e4);return e.forEach(e=>{if("NeonQueryPromise"!==e[Symbol.toStringTag])throw Error(e4)}),b(e.map(e=>e.parameterizedQuery),e.map(e=>e.opts??{}),t)},y(b,"execute"),g}function e7(e,t,r){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:r,then:y((n,i)=>e(t,r).then(n,i),"then"),catch:y(n=>e(t,r).catch(n),"catch"),finally:y(n=>e(t,r).finally(n),"finally")}}function te(e,{arrayMode:t,fullResults:r,parameterizedQuery:n,resultCallback:i,types:s}){let a=new e5.default(s),o=e.fields.map(e=>e.name),c=e.fields.map(e=>a.getTypeParser(e.dataTypeID)),u=!0===t?e.rows.map(e=>e.map((e,t)=>null===e?null:c[t](e))):e.rows.map(e=>Object.fromEntries(e.map((e,t)=>[o[t],null===e?null:c[t](e)])));return i&&i(n,e,u,{arrayMode:t,fullResults:r}),r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=u,e._parsers=c,e._types=a,e):u}async function tt(e){if("string"==typeof e)return e;if("function"==typeof e)try{return await Promise.resolve(e())}catch(t){let e=new e3("Error getting auth token.");throw t instanceof Error&&(e=new e3(`Error getting auth toke\
n: ${t.message}`)),e}}y(e9,"neon"),y(e7,"createNeonQueryPromise"),y(te,"processQueryResult"),y(tt,"getAuthToken");var tr=v(eA()),tn=v(e0()),ti=class extends e1.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:t}=this;t.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&t.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let r=this.config?.host!==void 0||this.config?.connectionString!==void 0||void 0!==o.env.PGHOST,n=o.env.USER??o.env.USERNAME;if(!r&&"localhost"===this.host&&this.user===n&&this.database===n&&null===this.password)throw Error(`No datab\
ase host or connection string was set, and key parameters have default values (h\
ost: localhost, user: ${n}, db: ${n}, password: null). Is an environment variabl\
e missing? Alternatively, if you intended to connect with these parameters, plea\
se set the host to 'localhost' explicitly.`);let i=super.connect(e),s=t.pipelineTLS&&this.ssl,a="password"===t.pipelineConnect;if(!s&&!t.pipelineConnect)return i;let c=this.connection;if(s&&c.on("connect",()=>c.stream.emit("data","S")),a){c.removeAllListeners("authenticationCleartextPassword"),c.removeAllListeners("readyForQuery"),c.once("readyForQuery",()=>c.on("readyForQuery",this._handleReadyForQuery.bind(this)));let e=this.ssl?"sslconnect":"connect";c.on(e,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(e){let t=this.saslSession,r=this.password,n=e.data;if("SASLInitialResponse"!==t.message||"string"!=typeof r||"string"!=typeof n)throw Error("SASL: protocol error");let i=Object.fromEntries(n.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]})),o=i.r,c=i.s,u=i.i;if(!o||!/^[!-+--~]+$/.test(o))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!u||!/^[1-9][0-9]*$/.test(u))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!o.startsWith(t.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(o.length===t.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let l=parseInt(u,10),d=a.from(c,"base64"),f=new TextEncoder,h=f.encode(r),p=await s.subtle.importKey("raw",h,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),y=new Uint8Array(await s.subtle.sign("HMAC",p,a.concat([d,a.from([0,0,0,1])]))),m=y;for(var g=0;g<l-1;g++)y=new Uint8Array(await s.subtle.sign("HMAC",p,y)),m=a.from(m.map((e,t)=>m[t]^y[t]));let b=m,_=await s.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),v=new Uint8Array(await s.subtle.sign("HMAC",_,f.encode("Client Key"))),w=await s.subtle.digest("SHA-256",v),x="n=*,r="+t.clientNonce,S="r="+o+",s="+c+",i="+l,E="c=biws,r="+o,A=x+","+S+","+E,k=await s.subtle.importKey("raw",w,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var T=new Uint8Array(await s.subtle.sign("HMAC",k,f.encode(A))),R=a.from(v.map((e,t)=>v[t]^T[t])).toString("base64");let O=await s.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),P=await s.subtle.sign("HMAC",O,f.encode("Server Key")),C=await s.subtle.importKey("raw",P,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var I=a.from(await s.subtle.sign("HMAC",C,f.encode(A)));t.message="SASLResponse",t.serverSignature=I.toString("base64"),t.response=E+",p="+R,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};function ts(e,t){let r,n;return t?{callback:t,result:void 0}:{callback:y(function(e,t){e?r(e):n(t)},"cb"),result:new e(function(e,t){n=e,r=t})}}y(ti,"NeonClient"),y(ts,"promisify");var ta=class extends e1.Pool{constructor(){super(...arguments),x(this,"Client",ti),x(this,"hasFetchUnsupportedListeners",!1)}on(e,t){return"error"!==e&&(this.hasFetchUnsupportedListeners=!0),super.on(e,t)}query(e,t,r){if(!eN.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof e)return super.query(e,t,r);"function"==typeof t&&(r=t,t=void 0);let n=ts(this.Promise,r);r=n.callback;try{let n=new tr.default(this.options),i=encodeURIComponent,s=encodeURI,a=`postgresql://${i(n.user)}:${i(n.password)}@${i(n.host)}/${s(n.database)}`,o="string"==typeof e?e:e.text,c=t??e.values??[];e9(a,{fullResults:!0,arrayMode:"array"===e.rowMode})(o,c,{types:e.types??this.options?.types}).then(e=>r(void 0,e)).catch(e=>r(e))}catch(e){r(e)}return n.result}};y(ta,"NeonPool");var to=ta;tn.ClientBase,tn.Connection,tn.DatabaseError,tn.Query,tn.defaults;var tc=tn.types},47948:(e,t,r)=>{"use strict";r.d(t,{J:()=>e_});var n,i,s,a,o=r(25079),c=Object.defineProperty,u={};((e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})})(u,{$:()=>d,bgBlack:()=>C,bgBlue:()=>M,bgCyan:()=>U,bgGreen:()=>N,bgMagenta:()=>D,bgRed:()=>I,bgWhite:()=>j,bgYellow:()=>L,black:()=>w,blue:()=>A,bold:()=>p,cyan:()=>T,dim:()=>y,gray:()=>O,green:()=>S,grey:()=>P,hidden:()=>_,inverse:()=>b,italic:()=>m,magenta:()=>k,red:()=>x,reset:()=>h,strikethrough:()=>v,underline:()=>g,white:()=>R,yellow:()=>E});var l=!0;"undefined"!=typeof process&&({FORCE_COLOR:n,NODE_DISABLE_COLORS:i,NO_COLOR:s,TERM:a}=process.env||{},l=process.stdout&&process.stdout.isTTY);var d={enabled:!i&&null==s&&"dumb"!==a&&(null!=n&&"0"!==n||l)};function f(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return d.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}var h=f(0,0),p=f(1,22),y=f(2,22),m=f(3,23),g=f(4,24),b=f(7,27),_=f(8,28),v=f(9,29),w=f(30,39),x=f(31,39),S=f(32,39),E=f(33,39),A=f(34,39),k=f(35,39),T=f(36,39),R=f(37,39),O=f(90,39),P=f(90,39),C=f(40,49),I=f(41,49),N=f(42,49),L=f(43,49),M=f(44,49),D=f(45,49),U=f(46,49),j=f(47,49),B=["green","yellow","blue","magenta","cyan","red"],$=[],F=Date.now(),H=0,W="undefined"!=typeof process?process.env:{};globalThis.DEBUG??=W.DEBUG??"",globalThis.DEBUG_COLORS??=!W.DEBUG_COLORS||"true"===W.DEBUG_COLORS;var q={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}},V=new Proxy(function(e){let t={color:B[H++%B.length],enabled:q.enabled(e),namespace:e,log:q.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:n,color:i,log:s}=t;if(0!==e.length&&$.push([n,...e]),$.length>100&&$.shift(),q.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),r=`+${Date.now()-F}ms`;F=Date.now(),globalThis.DEBUG_COLORS?s(u[i](p(n)),...t,u[i](r)):s(n,...t,r)}},{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})},{get:(e,t)=>q[t],set:(e,t,r)=>q[t]=r});function G(e){return{ok:!0,value:e,map:t=>G(t(e)),flatMap:t=>t(e)}}function K(e){return{ok:!1,error:e,map:()=>K(e),flatMap:()=>K(e)}}function z(e,t){return async(...r)=>{try{return await t(...r)}catch(t){return K({kind:"GenericJs",id:e.registerNewError(t)})}}}var J={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Text:7,Date:8,Time:9,DateTime:10,Json:11,Bytes:13,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,BytesArray:77,UuidArray:78},Z=r(60031),{builtins:Q,getTypeParser:Y}=o.gK,X={BIT_ARRAY:1561,BOOL_ARRAY:1e3,BYTEA_ARRAY:1001,BPCHAR_ARRAY:1014,CHAR_ARRAY:1002,CIDR_ARRAY:651,DATE_ARRAY:1182,FLOAT4_ARRAY:1021,FLOAT8_ARRAY:1022,INET_ARRAY:1041,INT2_ARRAY:1005,INT4_ARRAY:1007,INT8_ARRAY:1016,JSONB_ARRAY:3807,JSON_ARRAY:199,MONEY_ARRAY:791,NUMERIC_ARRAY:1231,OID_ARRAY:1028,TEXT_ARRAY:1009,TIMESTAMP_ARRAY:1115,TIME_ARRAY:1183,UUID_ARRAY:2951,VARBIT_ARRAY:1563,VARCHAR_ARRAY:1015,XML_ARRAY:143},ee=class e extends Error{constructor(t){super(),this.type=e.typeNames[t]||"Unknown",this.message=`Unsupported column type ${this.type}`}};function et(e){return t=>(0,Z.q)(t,e)}function er(e){return e}function en(e){return e}function ei(e){return e}function es(e){return e}function ea(e){return e.slice(1)}function eo(e){return e}function ec(e){return Array.from(new Uint8Array(e))}ee.typeNames={16:"bool",17:"bytea",18:"char",19:"name",20:"int8",21:"int2",22:"int2vector",23:"int4",24:"regproc",25:"text",26:"oid",27:"tid",28:"xid",29:"cid",30:"oidvector",32:"pg_ddl_command",71:"pg_type",75:"pg_attribute",81:"pg_proc",83:"pg_class",114:"json",142:"xml",194:"pg_node_tree",269:"table_am_handler",325:"index_am_handler",600:"point",601:"lseg",602:"path",603:"box",604:"polygon",628:"line",650:"cidr",700:"float4",701:"float8",705:"unknown",718:"circle",774:"macaddr8",790:"money",829:"macaddr",869:"inet",1033:"aclitem",1042:"bpchar",1043:"varchar",1082:"date",1083:"time",1114:"timestamp",1184:"timestamptz",1186:"interval",1266:"timetz",1560:"bit",1562:"varbit",1700:"numeric",1790:"refcursor",2202:"regprocedure",2203:"regoper",2204:"regoperator",2205:"regclass",2206:"regtype",2249:"record",2275:"cstring",2276:"any",2277:"anyarray",2278:"void",2279:"trigger",2280:"language_handler",2281:"internal",2283:"anyelement",2287:"_record",2776:"anynonarray",2950:"uuid",2970:"txid_snapshot",3115:"fdw_handler",3220:"pg_lsn",3310:"tsm_handler",3361:"pg_ndistinct",3402:"pg_dependencies",3500:"anyenum",3614:"tsvector",3615:"tsquery",3642:"gtsvector",3734:"regconfig",3769:"regdictionary",3802:"jsonb",3831:"anyrange",3838:"event_trigger",3904:"int4range",3906:"numrange",3908:"tsrange",3910:"tstzrange",3912:"daterange",3926:"int8range",4072:"jsonpath",4089:"regnamespace",4096:"regrole",4191:"regcollation",4451:"int4multirange",4532:"nummultirange",4533:"tsmultirange",4534:"tstzmultirange",4535:"datemultirange",4536:"int8multirange",4537:"anymultirange",4538:"anycompatiblemultirange",4600:"pg_brin_bloom_summary",4601:"pg_brin_minmax_multi_summary",5017:"pg_mcv_list",5038:"pg_snapshot",5069:"xid8",5077:"anycompatible",5078:"anycompatiblearray",5079:"anycompatiblenonarray",5080:"anycompatiblerange"};var eu=Y(Q.BYTEA),el=Y(X.BYTEA_ARRAY);function ed(e){return e}var ef={[Q.NUMERIC]:er,[X.NUMERIC_ARRAY]:et(er),[Q.TIME]:es,[X.TIME_ARRAY]:et(es),[Q.TIMETZ]:function(e){return e.split("+")[0]},[Q.DATE]:en,[X.DATE_ARRAY]:et(en),[Q.TIMESTAMP]:ei,[X.TIMESTAMP_ARRAY]:et(ei),[Q.TIMESTAMPTZ]:function(e){return e.split("+")[0]},[Q.MONEY]:ea,[X.MONEY_ARRAY]:et(ea),[Q.JSON]:eo,[Q.JSONB]:eo,[Q.BYTEA]:function(e){return ec(eu(e))},[X.BYTEA_ARRAY]:function(e){return el(e).map(e=>e?ec(e):null)},[X.BIT_ARRAY]:et(ed),[X.VARBIT_ARRAY]:et(ed),[X.XML_ARRAY]:et(function(e){return e})};function eh(e){for(let t=0;t<e.length;t++){let r=e[t];if(Array.isArray(r))for(let e=0;e<r.length;e++){let t=r[e];ArrayBuffer.isView(t)&&(r[e]=Buffer.from(t.buffer,t.byteOffset,t.byteLength))}}return e}var ep=V("prisma:driver-adapter:neon"),ey=class{constructor(){this.provider="postgres",this.adapterName="@prisma/adapter-neon"}async queryRaw(e){ep("[js::query_raw] %O",e);let t=await this.performIO(e);if(!t.ok)return K(t.error);let{fields:r,rows:n}=t.value,i=r.map(e=>e.name),s=[];try{s=r.map(e=>(function(e){switch(e){case Q.INT2:case Q.INT4:return J.Int32;case Q.INT8:return J.Int64;case Q.FLOAT4:return J.Float;case Q.FLOAT8:return J.Double;case Q.BOOL:return J.Boolean;case Q.DATE:return J.Date;case Q.TIME:case Q.TIMETZ:return J.Time;case Q.TIMESTAMP:case Q.TIMESTAMPTZ:return J.DateTime;case Q.NUMERIC:case Q.MONEY:return J.Numeric;case Q.JSON:case Q.JSONB:return J.Json;case Q.UUID:return J.Uuid;case Q.OID:return J.Int64;case Q.BPCHAR:case Q.TEXT:case Q.VARCHAR:case Q.BIT:case Q.VARBIT:case Q.INET:case Q.CIDR:case Q.XML:return J.Text;case Q.BYTEA:return J.Bytes;case X.INT2_ARRAY:case X.INT4_ARRAY:return J.Int32Array;case X.FLOAT4_ARRAY:return J.FloatArray;case X.FLOAT8_ARRAY:return J.DoubleArray;case X.NUMERIC_ARRAY:case X.MONEY_ARRAY:return J.NumericArray;case X.BOOL_ARRAY:return J.BooleanArray;case X.CHAR_ARRAY:return J.CharacterArray;case X.BPCHAR_ARRAY:case X.TEXT_ARRAY:case X.VARCHAR_ARRAY:case X.VARBIT_ARRAY:case X.BIT_ARRAY:case X.INET_ARRAY:case X.CIDR_ARRAY:case X.XML_ARRAY:return J.TextArray;case X.DATE_ARRAY:return J.DateArray;case X.TIME_ARRAY:return J.TimeArray;case X.TIMESTAMP_ARRAY:return J.DateTimeArray;case X.JSON_ARRAY:case X.JSONB_ARRAY:return J.JsonArray;case X.BYTEA_ARRAY:return J.BytesArray;case X.UUID_ARRAY:return J.UuidArray;case X.INT8_ARRAY:case X.OID_ARRAY:return J.Int64Array;default:if(e>=1e4)return J.Text;throw new ee(e)}})(e.dataTypeID))}catch(e){if(e instanceof ee)return K({kind:"UnsupportedNativeDataType",type:e.type});throw e}return G({columnNames:i,columnTypes:s,rows:n})}async executeRaw(e){return ep("[js::execute_raw] %O",e),(await this.performIO(e)).map(e=>e.rowCount??0)}},em=class extends ey{constructor(e){super(),this.client=e}async performIO(e){let{sql:t,args:r}=e;try{let e=await this.client.query({text:t,values:eh(r),rowMode:"array",types:{getTypeParser:(e,t)=>"text"===t&&ef[e]?ef[e]:o.gK.getTypeParser(e,t)}},eh(r));return G(e)}catch(e){if(ep("Error in performIO: %O",e),e&&"string"==typeof e.code&&"string"==typeof e.severity&&"string"==typeof e.message)return K({kind:"postgres",code:e.code,severity:e.severity,message:e.message,detail:e.detail,column:e.column,hint:e.hint});throw e}}},eg=class extends em{constructor(e,t){super(e),this.options=t}async commit(){return ep("[js::commit]"),this.client.release(),Promise.resolve(G(void 0))}async rollback(){return ep("[js::rollback]"),this.client.release(),Promise.resolve(G(void 0))}},eb=class extends em{constructor(e){super(e),this.conn=e}async startTransaction(){let e={usePhantomQuery:!1};return ep("%s options: %O","[js::startTransaction]",e),G(new eg(this.conn,e))}},e_=class extends em{constructor(e,t){if(!(e instanceof o.bC))throw TypeError(`PrismaNeon must be initialized with an instance of Pool:
import { Pool } from '@neondatabase/serverless'
const pool = new Pool({ connectionString: url })
const adapter = new PrismaNeon(pool)
`);super(e),this.options=t,this.isRunning=!0}getConnectionInfo(){return G({schemaName:this.options?.schema})}async transactionContext(){return G(new eb(await this.client.connect()))}async close(){return this.isRunning&&(await this.client.end(),this.isRunning=!1),G(void 0)}}},19352:(e,t,r)=>{"use strict";r.d(t,{Dm:()=>T,Y8:()=>k});var n=r(77598);let i=10,s="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=Array.from({length:64},(e,t)=>t),o=e=>Array(e).fill(-1),c=[...o(46),0,1,...a.slice(54,64),...o(7),...a.slice(2,28),...o(6),...a.slice(28,54),...o(5)],u=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],l=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],d=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274],f=(e,t)=>{if(t<=0||t>e.length)throw Error(`Illegal len: ${t}`);let r=0,n,i,a=[];for(;r<t;){if(n=255&e[r++],a.push(s[n>>2&63]),n=(3&n)<<4,r>=t||(n|=(i=255&e[r++])>>4&15,a.push(s[63&n]),n=(15&i)<<2,r>=t)){a.push(s[63&n]);break}n|=(i=255&e[r++])>>6&3,a.push(s[63&n]),a.push(s[63&i])}return a.join("")},h=(e,t)=>{if(t<=0)throw Error(`Illegal len: ${t}`);let r=e.length,n=0,i=0,s,a,o,u,l=[];for(;n<r-1&&i<t&&(s=(u=e.charCodeAt(n++))<c.length?c[u]:-1,a=(u=e.charCodeAt(n++))<c.length?c[u]:-1,!(-1==s||-1==a||(l.push(String.fromCharCode(s<<2>>>0|(48&a)>>4)),++i>=t||n>=r)||-1==(o=(u=e.charCodeAt(n++))<c.length?c[u]:-1)||(l.push(String.fromCharCode((15&a)<<4>>>0|(60&o)>>2)),++i>=t||n>=r)));)l.push(String.fromCharCode((3&o)<<6>>>0|((u=e.charCodeAt(n++))<c.length?c[u]:-1))),++i;return l.map(e=>e.charCodeAt(0))},p=(e,t)=>{let r=null;for("number"==typeof e&&(r=e,e=()=>null);null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},y=(e,t)=>{let r,n=null;for(;null!==(r=null!==n?n:e());){if(r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343){t((r-55296)*1024+n-56320+65536),n=null;continue}t(r)}null!==n&&t(n)},m=(e,t)=>{y(e,function(e){p(e,t)})},g=setTimeout,b=e=>{let t=[],r=0;return m(()=>r>=e.length?null:e.charCodeAt(r++),e=>{t.push(e)}),t},_=(e,t,r,n)=>{let i=e[t],s=e[t+1];return i^=r[0],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[1],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[2],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[3],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[4],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[5],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[6],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[7],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[8],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[9],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[10],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[11],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[12],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[13],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[14],s^=(n[i>>>24]+n[256|i>>16&255]^n[512|i>>8&255])+n[768|255&i]^r[15],i^=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s]^r[16],e[t]=s^r[17],e[t+1]=i,e},v=(e,t)=>{let r=0;for(let n=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}},w=(e,t,r)=>{let n=t.length,i=r.length,s=0,a=[0,0],o;for(let r=0;r<n;r++)s=(o=v(e,s)).offp,t[r]=t[r]^o.key;for(let e=0;e<n;e+=2)a=_(a,0,t,r),t[e]=a[0],t[e+1]=a[1];for(let e=0;e<i;e+=2)a=_(a,0,t,r),r[e]=a[0],r[e+1]=a[1]},x=(e,t,r,n)=>{let i=r.length,s=n.length,a=0,o=[0,0],c;for(let e=0;e<i;e++)a=(c=v(t,a)).offp,r[e]=r[e]^c.key;a=0;for(let t=0;t<i;t+=2)a=(c=v(e,a)).offp,o[0]^=c.key,a=(c=v(e,a)).offp,o[1]^=c.key,o=_(o,0,r,n),r[t]=o[0],r[t+1]=o[1];for(let t=0;t<s;t+=2)a=(c=v(e,a)).offp,o[0]^=c.key,a=(c=v(e,a)).offp,o[1]^=c.key,o=_(o,0,r,n),n[t]=o[0],n[t+1]=o[1]},S=(e,t,r,n,i)=>{let s=d.slice(),a=s.length;if(r<4||r>31){let e=Error(`Illegal number of rounds (4-31): ${r}`);if(!1===n)return Promise.reject(e);throw e}if(16!==t.length){let e=Error(`Illegal salt length: ${t.length} != 16`);if(!1===n)return Promise.reject(e);throw e}r=1<<r>>>0;let o,c,f=0,h;Int32Array?(o=new Int32Array(u),c=new Int32Array(l)):(o=u.slice(),c=l.slice()),x(t,e,o,c);let p=()=>{if(i&&i(f/r),f<r){let n=Date.now();for(;f<r&&(f+=1,w(e,o,c),w(t,o,c),!(Date.now()-n>100)););}else{for(f=0;f<64;f++)for(h=0;h<a>>1;h++)_(s,h<<1,o,c);let e=[];for(f=0;f<a;f++)e.push((s[f]>>24&255)>>>0),e.push((s[f]>>16&255)>>>0),e.push((s[f]>>8&255)>>>0),e.push((255&s[f])>>>0);return!1===n?Promise.resolve(e):e}if(!1===n)return new Promise(e=>g(()=>{p().then(e)}))};if(!1===n)return p();{let e;for(;;)if("u">typeof(e=p()))return e||[]}},E=e=>(0,n.randomBytes)(e),A=(e=i)=>{if("number"!=typeof e)throw Error("Illegal arguments: "+typeof e);e<4?e=4:e>31&&(e=31);let t=[];return t.push("$2a$"),e<10&&t.push("0"),t.push(e.toString()),t.push("$"),t.push(f(E(16),16)),t.join("")},k=(e,t=i)=>{if("number"==typeof t&&(t=A(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return function(e,t,r,n){let i,s;if("string"!=typeof e||"string"!=typeof t){let e=Error("Invalid string / salt: Not a string");if(!1===r)return Promise.reject(e);throw e}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){let e=Error("Invalid salt version: "+t.substring(0,2));if(!1===r)return Promise.reject(e);throw e}if("$"===t.charAt(2))i="\0",s=3;else{if("a"!==(i=t.charAt(2))&&"b"!==i&&"y"!==i||"$"!==t.charAt(3)){let e=Error("Invalid salt revision: "+t.substring(2,4));if(!1===r)return Promise.reject(e);throw e}s=4}if(t.charAt(s+2)>"$"){let e=Error("Missing salt rounds");if(!1===r)return Promise.reject(e);throw e}let a=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),o=t.substring(s+3,s+25),c=b(e+=i>="a"?"\0":""),u=h(o,16),l=e=>{let t=[];return t.push("$2"),i>="a"&&t.push(i),t.push("$"),a<10&&t.push("0"),t.push(a.toString()),t.push("$"),t.push(f(u,u.length)),t.push(f(e,4*d.length-1)),t.join("")};return!1===r?S(c,u,a,!1,void 0).then(e=>l(e)):l(S(c,u,a,!0,void 0))}(e,t,!0)},T=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&k(e,t.substring(0,t.length-31))===t}},12406:(e,t,r)=>{"use strict";let n,i,s,a,o;r.d(t,{Ay:()=>sq});var c=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},u=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function l(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class d{constructor(e,t,r){if(ry.add(this),rm.set(this,{}),rg.set(this,void 0),rb.set(this,void 0),c(this,rb,r,"f"),c(this,rg,e,"f"),!t)return;let{name:n}=e;for(let[e,r]of Object.entries(t))e.startsWith(n)&&r&&(u(this,rm,"f")[e]=r)}get value(){return Object.keys(u(this,rm,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>u(this,rm,"f")[e]).join("")}chunk(e,t){let r=u(this,ry,"m",rv).call(this);for(let n of u(this,ry,"m",r_).call(this,{name:u(this,rg,"f").name,value:e,options:{...u(this,rg,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(u(this,ry,"m",rv).call(this))}}rm=new WeakMap,rg=new WeakMap,rb=new WeakMap,ry=new WeakSet,r_=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return u(this,rm,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),u(this,rm,"f")[t]=i}return u(this,rb,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},rv=function(){let e={};for(let t in u(this,rm,"f"))delete u(this,rm,"f")?.[t],e[t]={name:t,value:"",options:{...u(this,rg,"f").options,maxAge:0}};return e};class f extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class h extends f{}h.kind="signIn";class p extends f{}p.type="AdapterError";class y extends f{}y.type="AccessDenied";class m extends f{}m.type="CallbackRouteError";class g extends f{}g.type="ErrorPageLoop";class b extends f{}b.type="EventError";class _ extends f{}_.type="InvalidCallbackUrl";class v extends h{constructor(){super(...arguments),this.code="credentials"}}v.type="CredentialsSignin";class w extends f{}w.type="InvalidEndpoints";class x extends f{}x.type="InvalidCheck";class S extends f{}S.type="JWTSessionError";class E extends f{}E.type="MissingAdapter";class A extends f{}A.type="MissingAdapterMethods";class k extends f{}k.type="MissingAuthorize";class T extends f{}T.type="MissingSecret";class R extends h{}R.type="OAuthAccountNotLinked";class O extends h{}O.type="OAuthCallbackError";class P extends f{}P.type="OAuthProfileParseError";class C extends f{}C.type="SessionTokenError";class I extends h{}I.type="OAuthSignInError";class N extends h{}N.type="EmailSignInError";class L extends f{}L.type="SignOutError";class M extends f{}M.type="UnknownAction";class D extends f{}D.type="UnsupportedStrategy";class U extends f{}U.type="InvalidProvider";class j extends f{}j.type="UntrustedHost";class B extends f{}B.type="Verification";class $ extends h{}$.type="MissingCSRF";let F=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class H extends f{}H.type="DuplicateConditionalUI";class W extends f{}W.type="MissingWebAuthnAutocomplete";class q extends f{}q.type="WebAuthnVerificationError";class V extends h{}V.type="AccountNotLinked";class G extends f{}G.type="ExperimentalFeatureNotEnabled";let K=!1;function z(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let J=!1,Z=!1,Q=!1,Y=["createVerificationToken","useVerificationToken","getUserByEmail"],X=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],ee=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var et=r(55511);let er=(e,t,r,n,i)=>{let s=parseInt(e.substr(3),10)>>3||20,a=(0,et.createHmac)(e,r.byteLength?r:new Uint8Array(s)).update(t).digest(),o=Math.ceil(i/s),c=new Uint8Array(s*o+n.byteLength+1),u=0,l=0;for(let t=1;t<=o;t++)c.set(n,l),c[l+n.byteLength]=t,c.set((0,et.createHmac)(e,a).update(c.subarray(u,l+n.byteLength+1)).digest(),l),u=l,l+=s;return c.slice(0,i)};"function"!=typeof et.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{et.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})}));let en=async(e,t,r,i,s)=>(n||er)(e,t,r,i,s);function ei(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function es(e,t,r,n,i){return en(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=ei(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),ei(r,"salt"),function(e){let t=ei(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}var ea=r(77598);let eo=(e,t)=>(0,ea.createHash)(e).update(t).digest();var ec=r(4573);let eu=new TextEncoder,el=new TextDecoder;function ed(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function ef(e,t){return ed(eu.encode(e),new Uint8Array([0]),t)}function eh(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function ep(e){let t=new Uint8Array(4);return eh(t,e),t}function ey(e){return ed(ep(e.length),e)}async function em(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(ep(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await eo("sha256",n),32*t)}return i.slice(0,t>>3)}let eg=e=>ec.Buffer.from(e).toString("base64url"),eb=e=>new Uint8Array(ec.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=el.decode(t)),t}(e),"base64url"));class e_ extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ev extends e_{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ew extends e_{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ex extends e_{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class eS extends e_{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eE extends e_{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eA extends e_{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class ek extends e_{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eT extends e_{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eR extends e_{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function eO(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let eP=(e,t)=>{if("string"!=typeof e||!e)throw new eT(`${t} missing or invalid`)};async function eC(e,t){let r;if(!eO(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":eP(e.crv,'"crv" (Curve) Parameter'),eP(e.x,'"x" (X Coordinate) Parameter'),eP(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":eP(e.crv,'"crv" (Subtype of Key Pair) Parameter'),eP(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":eP(e.e,'"e" (Exponent) Parameter'),eP(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":eP(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new eS('"kty" (Key Type) Parameter missing or unsupported')}let n=eu.encode(JSON.stringify(r));return eg(await eo(t,n))}let eI=Symbol();function eN(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new eS(`Unsupported JWE Algorithm: ${e}`)}}let eL=e=>(0,ea.randomFillSync)(new Uint8Array(eN(e)>>3)),eM=(e,t)=>{if(t.length<<3!==eN(e))throw new eA("Invalid Initialization Vector length")};var eD=r(57975);let eU=e=>eD.types.isKeyObject(e),ej=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new eS(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new eA(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if(eU(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new eA(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function eB(e,t,r,n,i,s){let a=ed(e,t,r,function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return eh(r,t,0),eh(r,e%0x100000000,4),r}(e.length<<3)),o=(0,ea.createHmac)(`sha${n}`,i);return o.update(a),o.digest().slice(0,s>>3)}let e$=ea.webcrypto,eF=e=>eD.types.isCryptoKey(e);function eH(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function eW(e,t){return e.name===t}function eq(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!eW(e.algorithm,"AES-GCM"))throw eH("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eH(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!eW(e.algorithm,"AES-KW"))throw eH("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eH(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw eH("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!eW(e.algorithm,"PBKDF2"))throw eH("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!eW(e.algorithm,"RSA-OAEP"))throw eH("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw eH(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}(function(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}})(e,r)}function eV(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eG=(e,...t)=>eV("Key must be ",e,...t);function eK(e,t,...r){return eV(`Key for the ${e} algorithm must be `,t,...r)}let ez=e=>(i||=new Set((0,ea.getCiphers)())).has(e),eJ=e=>eU(e)||eF(e),eZ=["KeyObject"];(globalThis.CryptoKey||e$?.CryptoKey)&&eZ.push("CryptoKey");let eQ=(e,t,r,n,i)=>{let s;if(eF(r))eq(r,e,"encrypt"),s=ea.KeyObject.from(r);else if(r instanceof Uint8Array||eU(r))s=r;else throw TypeError(eG(r,...eZ,"Uint8Array"));switch(ej(e,s),n?eM(e,n):n=eL(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i){let s=parseInt(e.slice(1,4),10);eU(r)&&(r=r.export());let a=r.subarray(s>>3),o=r.subarray(0,s>>3),c=`aes-${s}-cbc`;if(!ez(c))throw new eS(`alg ${e} is not supported by your javascript runtime`);let u=(0,ea.createCipheriv)(c,a,n),l=ed(u.update(t),u.final()),d=eB(i,n,l,parseInt(e.slice(-3),10),o,s);return{ciphertext:l,tag:d,iv:n}}(e,t,s,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i){let s=parseInt(e.slice(1,4),10),a=`aes-${s}-gcm`;if(!ez(a))throw new eS(`alg ${e} is not supported by your javascript runtime`);let o=(0,ea.createCipheriv)(a,r,n,{authTagLength:16});i.byteLength&&o.setAAD(i,{plaintextLength:t.length});let c=o.update(t);return o.final(),{ciphertext:c,tag:o.getAuthTag(),iv:n}}(e,t,s,n,i);default:throw new eS("Unsupported JWE Content Encryption Algorithm")}};function eY(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function eX(e,t,r){if(eU(e))return e;if(e instanceof Uint8Array)return(0,ea.createSecretKey)(e);if(eF(e))return eq(e,t,r),ea.KeyObject.from(e);throw TypeError(eG(e,...eZ,"Uint8Array"))}let e0=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!ez(i))throw new eS(`alg ${e} is not supported either by JOSE or your javascript runtime`);let s=eX(t,e,"wrapKey");eY(s,e);let a=(0,ea.createCipheriv)(i,s,ec.Buffer.alloc(8,166));return ed(a.update(r),a.final())},e1=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!ez(i))throw new eS(`alg ${e} is not supported either by JOSE or your javascript runtime`);let s=eX(t,e,"unwrapKey");eY(s,e);let a=(0,ea.createDecipheriv)(i,s,ec.Buffer.alloc(8,166));return ed(a.update(r),a.final())};function e2(e){return eO(e)&&"string"==typeof e.kty}new WeakMap;let e5=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new eS("Unsupported key curve for this operation")}},e6=(e,t)=>{let r;if(eF(e))r=ea.KeyObject.from(e);else if(eU(e))r=e;else if(e2(e))return e.crv;else throw TypeError(eG(e,...eZ));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;return e5(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},e3=(0,eD.promisify)(ea.generateKeyPair);async function e4(e,t,r,n,i=new Uint8Array(0),s=new Uint8Array(0)){let a,o;if(eF(e))eq(e,"ECDH"),a=ea.KeyObject.from(e);else if(eU(e))a=e;else throw TypeError(eG(e,...eZ));if(eF(t))eq(t,"ECDH","deriveBits"),o=ea.KeyObject.from(t);else if(eU(t))o=t;else throw TypeError(eG(t,...eZ));let c=ed(ey(eu.encode(r)),ey(i),ey(s),ep(n));return em((0,ea.diffieHellman)({privateKey:o,publicKey:a}),n,c)}async function e8(e){let t;if(eF(e))t=ea.KeyObject.from(e);else if(eU(e))t=e;else throw TypeError(eG(e,...eZ));switch(t.asymmetricKeyType){case"x25519":return e3("x25519");case"x448":return e3("x448");case"ec":return e3("ec",{namedCurve:e6(t)});default:throw new eS("Invalid or unsupported EPK")}}let e9=e=>["P-256","P-384","P-521","X25519","X448"].includes(e6(e));function e7(e){if(!(e instanceof Uint8Array)||e.length<8)throw new eA("PBES2 Salt Input must be 8 or more octets")}let te=(0,eD.promisify)(ea.pbkdf2);function tt(e,t){if(eU(e))return e.export();if(e instanceof Uint8Array)return e;if(eF(e))return eq(e,t,"deriveBits","deriveKey"),ea.KeyObject.from(e).export();throw TypeError(eG(e,...eZ,"Uint8Array"))}let tr=async(e,t,r,n=2048,i=(0,ea.randomFillSync)(new Uint8Array(16)))=>{e7(i);let s=ef(e,i),a=parseInt(e.slice(13,16),10)>>3,o=tt(t,e),c=await te(o,s,n,a,`sha${e.slice(8,11)}`);return{encryptedKey:await e0(e.slice(-6),c,r),p2c:n,p2s:eg(i)}},tn=async(e,t,r,n,i)=>{e7(i);let s=ef(e,i),a=parseInt(e.slice(13,16),10)>>3,o=tt(t,e),c=await te(o,s,n,a,`sha${e.slice(8,11)}`);return e1(e.slice(-6),c,r)},ti=(e,t)=>{let r;try{r=e instanceof ea.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},ts=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");ti(e,t)},ta=(0,eD.deprecate)(()=>ea.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),to=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return ea.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return ta();default:return}},tc=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function tu(e,t,...r){if(eU(e))return e;if(eF(e))return eq(e,t,...r),ea.KeyObject.from(e);throw TypeError(eG(e,...eZ))}let tl=(e,t,r)=>{let n=to(e),i=tc(e),s=tu(t,e,"wrapKey","encrypt");return ts(s,e),(0,ea.publicEncrypt)({key:s,oaepHash:i,padding:n},r)},td=(e,t,r)=>{let n=to(e),i=tc(e),s=tu(t,e,"unwrapKey","decrypt");return ts(s,e),(0,ea.privateDecrypt)({key:s,oaepHash:i,padding:n},r)},tf={};function th(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new eS(`Unsupported JWE Algorithm: ${e}`)}}let tp=e=>(0,ea.randomFillSync)(new Uint8Array(th(e)>>3)),ty=e=>{let t;if(eF(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=ea.KeyObject.from(e)}else if(eU(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:eg(e)};else throw TypeError(eG(e,...eZ,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new eS("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})};async function tm(e){return ty(e)}let tg=e=>e?.[Symbol.toStringTag],tb=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},t_=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&e2(t)){if(function(e){return e2(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&tb(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eJ(t))throw TypeError(eK(e,t,...eZ,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${tg(t)} instances for symmetric algorithms must be of type "secret"`)}},tv=(e,t,r,n)=>{if(n&&e2(t))switch(r){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&tb(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&tb(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!eJ(t))throw TypeError(eK(e,t,...eZ,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function tw(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?t_(t,r,n,e):tv(t,r,n,e)}let tx=tw.bind(void 0,!1);tw.bind(void 0,!0);let tS=ea.timingSafeEqual,tE=(e,t,r,n,i,s)=>{let a;if(eF(t))eq(t,e,"decrypt"),a=ea.KeyObject.from(t);else if(t instanceof Uint8Array||eU(t))a=t;else throw TypeError(eG(t,...eZ,"Uint8Array"));if(!n)throw new eA("JWE Initialization Vector missing");if(!i)throw new eA("JWE Authentication Tag missing");switch(ej(e,a),eM(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i,s){let a,o;let c=parseInt(e.slice(1,4),10);eU(t)&&(t=t.export());let u=t.subarray(c>>3),l=t.subarray(0,c>>3),d=parseInt(e.slice(-3),10),f=`aes-${c}-cbc`;if(!ez(f))throw new eS(`alg ${e} is not supported by your javascript runtime`);let h=eB(s,n,r,d,l,c);try{a=tS(i,h)}catch{}if(!a)throw new eE;try{let e=(0,ea.createDecipheriv)(f,u,n);o=ed(e.update(r),e.final())}catch{}if(!o)throw new eE;return o}(e,a,r,n,i,s);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i,s){let a=parseInt(e.slice(1,4),10),o=`aes-${a}-gcm`;if(!ez(o))throw new eS(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,ea.createDecipheriv)(o,t,n,{authTagLength:16});e.setAuthTag(i),s.byteLength&&e.setAAD(s,{plaintextLength:r.length});let a=e.update(r);return e.final(),a}catch{throw new eE}}(e,a,r,n,i,s);default:throw new eS("Unsupported JWE Content Encryption Algorithm")}};async function tA(e,t,r,n){let i=e.slice(0,7),s=await eQ(i,r,t,n,new Uint8Array(0));return{encryptedKey:s.ciphertext,iv:eg(s.iv),tag:eg(s.tag)}}async function tk(e,t,r,n,i){return tE(e.slice(0,7),t,r,n,i,new Uint8Array(0))}async function tT(e,t,r,n,i={}){let s,a,o;switch(tx(e,r,"encrypt"),r=await tf.normalizePublicKey?.(r,e)||r,e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!e9(r))throw new eS("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:u}=i,{epk:l}=i;l||=(await e8(r)).privateKey;let{x:d,y:f,crv:h,kty:p}=await tm(l),y=await e4(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?th(t):parseInt(e.slice(-5,-2),10),c,u);if(a={epk:{x:d,crv:h,kty:p}},"EC"===p&&(a.epk.y=f),c&&(a.apu=eg(c)),u&&(a.apv=eg(u)),"ECDH-ES"===e){o=y;break}o=n||tp(t);let m=e.slice(-6);s=await e0(m,y,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=n||tp(t),s=await tl(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||tp(t);let{p2c:c,p2s:u}=i;({encryptedKey:s,...a}=await tr(e,r,o,c,u));break}case"A128KW":case"A192KW":case"A256KW":o=n||tp(t),s=await e0(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||tp(t);let{iv:c}=i;({encryptedKey:s,...a}=await tA(e,r,o,c));break}default:throw new eS('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:s,parameters:a}}let tR=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},tO=function(e,t,r,n,i){let s;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(s=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!s.has(a))throw new eS(`Extension Header Parameter "${a}" is not recognized`);if(void 0===i[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(s.get(a)&&void 0===n[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)};class tP{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,s,a;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new eA("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tR(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new eA("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(tO(eA,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new eS('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:u}=o;if("string"!=typeof c||!c)throw new eA('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new eA('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await tT(c,u,e,this._cek,this._keyManagementParameters)),i&&(t&&eI in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}s=this._protectedHeader?eu.encode(eg(JSON.stringify(this._protectedHeader))):eu.encode(""),this._aad?(a=eg(this._aad),i=ed(s,eu.encode("."),eu.encode(a))):i=s;let{ciphertext:l,tag:d,iv:f}=await eQ(u,this._plaintext,n,this._iv,i),h={ciphertext:eg(l)};return f&&(h.iv=eg(f)),d&&(h.tag=eg(d)),r&&(h.encrypted_key=eg(r)),a&&(h.aad=a),this._protectedHeader&&(h.protected=el.decode(s)),this._sharedUnprotectedHeader&&(h.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(h.header=this._unprotectedHeader),h}}class tC{_flattened;constructor(e){this._flattened=new tP(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tI=e=>Math.floor(e.getTime()/1e3),tN=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tL=e=>{let t;let r=tN.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t};function tM(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tD{_payload;constructor(e={}){if(!eO(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tM("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tM("setNotBefore",tI(e))}:this._payload={...this._payload,nbf:tI(new Date)+tL(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tM("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tM("setExpirationTime",tI(e))}:this._payload={...this._payload,exp:tI(new Date)+tL(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tI(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tM("setIssuedAt",tI(e))}:"string"==typeof e?this._payload={...this._payload,iat:tM("setIssuedAt",tI(new Date)+tL(e))}:this._payload={...this._payload,iat:tM("setIssuedAt",e)},this}}class tU extends tD{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tC(eu.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tj=e=>e.d?(0,ea.createPrivateKey)({format:"jwk",key:e}):(0,ea.createPublicKey)({format:"jwk",key:e});async function tB(e,t){if(!eO(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return eb(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new eS('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tj({...e,alg:t});default:throw new eS('Unsupported "kty" (Key Type) Parameter value')}}async function t$(e,t,r,n,i){switch(tx(e,t,"decrypt"),t=await tf.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new eA("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new eA("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,s;if(!eO(n.epk))throw new eA('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!e9(t))throw new eS("ECDH with the provided key is not allowed or not supported by your javascript runtime");let a=await tB(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new eA('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=eb(n.apu)}catch{throw new eA("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new eA('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{s=eb(n.apv)}catch{throw new eA("Failed to base64url decode the apv")}}let o=await e4(a,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?th(n.enc):parseInt(e.slice(-5,-2),10),i,s);if("ECDH-ES"===e)return o;if(void 0===r)throw new eA("JWE Encrypted Key missing");return e1(e.slice(-6),o,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new eA("JWE Encrypted Key missing");return td(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let s;if(void 0===r)throw new eA("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new eA('JOSE Header "p2c" (PBES2 Count) missing or invalid');let a=i?.maxPBES2Count||1e4;if(n.p2c>a)throw new eA('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new eA('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{s=eb(n.p2s)}catch{throw new eA("Failed to base64url decode the p2s")}return tn(e,t,r,n.p2c,s)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new eA("JWE Encrypted Key missing");return e1(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,s;if(void 0===r)throw new eA("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new eA('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new eA('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=eb(n.iv)}catch{throw new eA("Failed to base64url decode the iv")}try{s=eb(n.tag)}catch{throw new eA("Failed to base64url decode the tag")}return tk(e,t,r,i,s)}default:throw new eS('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let tF=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tH(e,t,r){let n,i,s,a,o,c,u;if(!eO(e))throw new eA("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eA("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eA("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eA("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eA("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eA("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eA("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eA("JWE AAD incorrect type");if(void 0!==e.header&&!eO(e.header))throw new eA("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eO(e.unprotected))throw new eA("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=eb(e.protected);n=JSON.parse(el.decode(t))}catch{throw new eA("JWE Protected Header is invalid")}if(!tR(n,e.header,e.unprotected))throw new eA("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let l={...n,...e.header,...e.unprotected};if(tO(eA,new Map,r?.crit,n,l),void 0!==l.zip)throw new eS('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:f}=l;if("string"!=typeof d||!d)throw new eA("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof f||!f)throw new eA("missing JWE Encryption Algorithm (enc) in JWE Header");let h=r&&tF("keyManagementAlgorithms",r.keyManagementAlgorithms),p=r&&tF("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(d)||!h&&d.startsWith("PBES2"))throw new ex('"alg" (Algorithm) Header Parameter value not allowed');if(p&&!p.has(f))throw new ex('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=eb(e.encrypted_key)}catch{throw new eA("Failed to base64url decode the encrypted_key")}let y=!1;"function"==typeof t&&(t=await t(n,e),y=!0);try{s=await t$(d,t,i,l,r)}catch(e){if(e instanceof TypeError||e instanceof eA||e instanceof eS)throw e;s=tp(f)}if(void 0!==e.iv)try{a=eb(e.iv)}catch{throw new eA("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=eb(e.tag)}catch{throw new eA("Failed to base64url decode the tag")}let m=eu.encode(e.protected??"");c=void 0!==e.aad?ed(m,eu.encode("."),eu.encode(e.aad)):m;try{u=eb(e.ciphertext)}catch{throw new eA("Failed to base64url decode the ciphertext")}let g={plaintext:await tE(f,s,u,a,o,c)};if(void 0!==e.protected&&(g.protectedHeader=n),void 0!==e.aad)try{g.additionalAuthenticatedData=eb(e.aad)}catch{throw new eA("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(g.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(g.unprotectedHeader=e.header),y)?{...g,key:t}:g}async function tW(e,t,r){if(e instanceof Uint8Array&&(e=el.decode(e)),"string"!=typeof e)throw new eA("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:s,3:a,4:o,length:c}=e.split(".");if(5!==c)throw new eA("Invalid Compact JWE");let u=await tH({ciphertext:a,iv:s||void 0,protected:n,tag:o||void 0,encrypted_key:i||void 0},t,r),l={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return"function"==typeof t?{...l,key:u.key}:l}let tq=e=>e.toLowerCase().replace(/^application\//,""),tV=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),tG=(e,t,r={})=>{let n,i;try{n=JSON.parse(el.decode(t))}catch{}if(!eO(n))throw new ek("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||tq(e.typ)!==tq(s)))throw new ev('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:a=[],issuer:o,subject:c,audience:u,maxTokenAge:l}=r,d=[...a];for(let e of(void 0!==l&&d.push("iat"),void 0!==u&&d.push("aud"),void 0!==c&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in n))throw new ev(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new ev('unexpected "iss" claim value',n,"iss","check_failed");if(c&&n.sub!==c)throw new ev('unexpected "sub" claim value',n,"sub","check_failed");if(u&&!tV(n.aud,"string"==typeof u?[u]:u))throw new ev('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=tL(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,h=tI(f||new Date);if((void 0!==n.iat||l)&&"number"!=typeof n.iat)throw new ev('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new ev('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>h+i)throw new ev('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new ev('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=h-i)throw new ew('"exp" claim timestamp check failed',n,"exp","check_failed")}if(l){let e=h-n.iat;if(e-i>("number"==typeof l?l:tL(l)))throw new ew('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new ev('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function tK(e,t,r){let n=await tW(e,t,r),i=tG(n.protectedHeader,n.plaintext,r),{protectedHeader:s}=n;if(void 0!==s.iss&&s.iss!==i.iss)throw new ev('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==s.sub&&s.sub!==i.sub)throw new ev('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==s.aud&&JSON.stringify(s.aud)!==JSON.stringify(i.aud))throw new ev('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let a={payload:i,protectedHeader:s};return"function"==typeof t?{...a,key:n.key}:a}var tz=r(84576);let tJ=()=>Date.now()/1e3|0,tZ="A256CBC-HS512";async function tQ(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,s=Array.isArray(r)?r:[r],a=await tX(tZ,s[0],i),o=await eC({kty:"oct",k:eg(a)},`sha${a.byteLength<<3}`);return await new tU(t).setProtectedHeader({alg:"dir",enc:tZ,kid:o}).setIssuedAt().setExpirationTime(tJ()+n).setJti(crypto.randomUUID()).encrypt(a)}async function tY(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:s}=await tK(t,async({kid:e,enc:t})=>{for(let r of i){let i=await tX(t,r,n);if(void 0===e||e===await eC({kty:"oct",k:eg(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[tZ,"A256GCM"]});return s}async function tX(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await es("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function t0({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,s=n.origin;return t?s=await i.redirect({url:t,baseUrl:n.origin}):r&&(s=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:s,callbackUrlCookie:s!==r?s:void 0}}let t1="\x1b[31m",t2="\x1b[0m",t5={error(e){let t=e instanceof f?e.type:e.name;if(console.error(`${t1}[auth][error]${t2} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${t1}[auth][cause]${t2}:`,t.stack),r&&console.error(`${t1}[auth][details]${t2}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`\x1b[33m[auth][warn][${e}]${t2}`,`Read more: ${t}`)},debug(e,t){console.log(`\x1b[90m[auth][debug]:${t2} ${e}`,JSON.stringify(t,null,2))}};function t6(e){let t={...t5};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let t3=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function t4(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function t8(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new M("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new M(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new M(`Cannot parse action at ${e}`);let[i,s]=n;if(!t3.includes(i)||s&&!["signin","callback","webauthn-options"].includes(i))throw new M(`Cannot parse action at ${e}`);return{action:i,providerId:s}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await t4(e):void 0,cookies:(0,tz.q)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=t6(t);r.error(n),r.debug("request",e)}}function t9(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,s=tz.l(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",s):t.set("Set-Cookie",s)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function t7(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function re(e){let t=e=>("0"+e.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,r)=>e+t(r),"")}async function rt({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,s]=t.split("|");if(s===await t7(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=re(32),s=await t7(`${i}${e.secret}`);return{cookie:`${i}|${s}`,csrfToken:i}}function rr(e,t){if(!t)throw new $(`CSRF token was missing during an action ${e}`)}function rn(e){return null!==e&&"object"==typeof e}function ri(e,...t){if(!t.length)return e;let r=t.shift();if(rn(e)&&rn(r))for(let t in r)rn(r[t])?(rn(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),ri(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return ri(e,...t)}let rs=Symbol("skip-csrf-check"),ra=Symbol("return-type-raw"),ro=Symbol("custom-fetch"),rc=Symbol("conform-internal"),ru=e=>rd({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),rl=e=>rd({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function rd(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function rf(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let rh={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function rp({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:s,csrfToken:a,csrfDisabled:o,isPost:c}){var u;let d=t6(e),{providers:f,provider:h}=function(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...s}=t,a=i?.id??s.id,o=ri(s,i,{signinUrl:`${n}/signin/${a}`,callbackUrl:`${n}/callback/${a}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let e=function(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=rf(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=rf(e.token,e.issuer),n=rf(e.userinfo,e.issuer),i=e.checks??["pkce"];return e.redirectProxyUrl&&(i.includes("state")||i.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:i,userinfo:n,profile:e.profile??ru,account:e.account??rl}}(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[ro]??(e[ro]=i?.[ro]),e}return o});return{providers:i,provider:i.find(({id:e})=>e===t)}}({url:n,providerId:t,config:e}),y=!1;if((h?.type==="oauth"||h?.type==="oidc")&&h.redirectProxyUrl)try{y=new URL(h.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${h.redirectProxyUrl}`)}let m={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:h,cookies:ri(l(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:f,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:tQ,decode:tY,...e.jwt},events:Object.keys(u=e.events??{}).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=u[t];return await r(...e)}catch(e){d.error(new b(e))}},e),{}),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new p(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...rh,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:y,experimental:{...e.experimental}},g=[];if(o)m.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await rt({options:m,cookieValue:i?.[m.cookies.csrfToken.name],isPost:c,bodyValue:a});m.csrfToken=e,m.csrfTokenVerified=r,t&&g.push({name:m.cookies.csrfToken.name,value:t,options:m.cookies.csrfToken.options})}let{callbackUrl:_,callbackUrlCookie:v}=await t0({options:m,cookieValue:i?.[m.cookies.callbackUrl.name],paramValue:s});return m.callbackUrl=_,v&&g.push({name:m.cookies.callbackUrl.name,value:v,options:m.cookies.callbackUrl.options}),{options:m,cookies:g}}var ry,rm,rg,rb,r_,rv,rw,rx,rS,rE,rA,rk={},rT=[],rR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function rO(e,t){for(var r in t)e[r]=t[r];return e}function rP(e){var t=e.parentNode;t&&t.removeChild(e)}function rC(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++rS:i};return null==i&&null!=rx.vnode&&rx.vnode(s),s}function rI(e){return e.children}function rN(e,t){this.props=e,this.context=t}function rL(e,t){if(null==t)return e.__?rL(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?rL(e):null}function rM(e){(!e.__d&&(e.__d=!0)&&rE.push(e)&&!rD.__r++||rA!==rx.debounceRendering)&&((rA=rx.debounceRendering)||setTimeout)(rD)}function rD(){for(var e;rD.__r=rE.length;)e=rE.sort(function(e,t){return e.__v.__b-t.__v.__b}),rE=[],e.some(function(e){var t,r,n,i,s;e.__d&&(i=(n=e.__v).__e,(s=e.__P)&&(t=[],(r=rO({},n)).__v=n.__v+1,rW(s,n,r,e.__n,void 0!==s.ownerSVGElement,null!=n.__h?[i]:null,t,null==i?rL(n):i,n.__h),rq(t,n),n.__e!=i&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)))})}function rU(e,t,r,n,i,s,a,o,c,u){var l,d,f,h,p,y,m,g=n&&n.__k||rT,b=g.length;for(r.__k=[],l=0;l<t.length;l++)if(null!=(h=r.__k[l]=null==(h=t[l])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?rC(null,h,null,null,h):Array.isArray(h)?rC(rI,{children:h},null,null,null):h.__b>0?rC(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=r,h.__b=r.__b+1,null===(f=g[l])||f&&h.key==f.key&&h.type===f.type)g[l]=void 0;else for(d=0;d<b;d++){if((f=g[d])&&h.key==f.key&&h.type===f.type){g[d]=void 0;break}f=null}rW(e,h,f=f||rk,i,s,a,o,c,u),p=h.__e,(d=h.ref)&&f.ref!=d&&(m||(m=[]),f.ref&&m.push(f.ref,null,h),m.push(d,h.__c||p,h)),null!=p?(null==y&&(y=p),"function"==typeof h.type&&h.__k===f.__k?h.__d=c=function e(t,r,n){for(var i,s=t.__k,a=0;s&&a<s.length;a++)(i=s[a])&&(i.__=t,r="function"==typeof i.type?e(i,r,n):rj(n,i,i,s,i.__e,r));return r}(h,c,e):c=rj(e,h,f,g,p,c),"function"==typeof r.type&&(r.__d=c)):c&&f.__e==c&&c.parentNode!=e&&(c=rL(f))}for(r.__e=y,l=b;l--;)null!=g[l]&&function e(t,r,n){var i,s;if(rx.unmount&&rx.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||rV(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){rx.__e(e,r)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&e(i[s],r,n||"function"!=typeof t.type);n||null==t.__e||rP(t.__e),t.__=t.__e=t.__d=void 0}(g[l],g[l]);if(m)for(l=0;l<m.length;l++)rV(m[l],m[++l],m[++l])}function rj(e,t,r,n,i,s){var a,o,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==r||i!=s||null==i.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(i),a=null;else{for(o=s,c=0;(o=o.nextSibling)&&c<n.length;c+=1)if(o==i)break e;e.insertBefore(i,s),a=s}return void 0!==a?a:i.nextSibling}function rB(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||rR.test(t)?r:r+"px"}function r$(e,t,r,n,i){var s;e:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||rB(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||rB(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n||e.addEventListener(t,s?rH:rF,s):e.removeEventListener(t,s?rH:rF,s);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function rF(e){this.l[e.type+!1](rx.event?rx.event(e):e)}function rH(e){this.l[e.type+!0](rx.event?rx.event(e):e)}function rW(e,t,r,n,i,s,a,o,c){var u,l,d,f,h,p,y,m,g,b,_,v,w,x,S,E=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(c=r.__h,o=t.__e=r.__e,t.__h=null,s=[o]),(u=rx.__b)&&u(t);try{e:if("function"==typeof E){if(m=t.props,g=(u=E.contextType)&&n[u.__c],b=u?g?g.props.value:u.__:n,r.__c?y=(l=t.__c=r.__c).__=l.__E:("prototype"in E&&E.prototype.render?t.__c=l=new E(m,b):(t.__c=l=new rN(m,b),l.constructor=E,l.render=rG),g&&g.sub(l),l.props=m,l.state||(l.state={}),l.context=b,l.__n=n,d=l.__d=!0,l.__h=[],l._sb=[]),null==l.__s&&(l.__s=l.state),null!=E.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=rO({},l.__s)),rO(l.__s,E.getDerivedStateFromProps(m,l.__s))),f=l.props,h=l.state,d)null==E.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==E.getDerivedStateFromProps&&m!==f&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(m,b),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(m,l.__s,b)||t.__v===r.__v){for(l.props=m,l.state=l.__s,t.__v!==r.__v&&(l.__d=!1),l.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),_=0;_<l._sb.length;_++)l.__h.push(l._sb[_]);l._sb=[],l.__h.length&&a.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(m,l.__s,b),null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(f,h,p)})}if(l.context=b,l.props=m,l.__v=t,l.__P=e,v=rx.__r,w=0,"prototype"in E&&E.prototype.render){for(l.state=l.__s,l.__d=!1,v&&v(t),u=l.render(l.props,l.state,l.context),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[]}else do l.__d=!1,v&&v(t),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++w<25);l.state=l.__s,null!=l.getChildContext&&(n=rO(rO({},n),l.getChildContext())),d||null==l.getSnapshotBeforeUpdate||(p=l.getSnapshotBeforeUpdate(f,h)),S=null!=u&&u.type===rI&&null==u.key?u.props.children:u,rU(e,Array.isArray(S)?S:[S],t,r,n,i,s,a,o,c),l.base=t.__e,t.__h=null,l.__h.length&&a.push(l),y&&(l.__E=l.__=null),l.__e=!1}else null==s&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,s,a,o){var c,u,l,d=r.props,f=t.props,h=t.type,p=0;if("svg"===h&&(i=!0),null!=s){for(;p<s.length;p++)if((c=s[p])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){e=c,s[p]=null;break}}if(null==e){if(null===h)return document.createTextNode(f);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),s=null,o=!1}if(null===h)d===f||o&&e.data===f||(e.data=f);else{if(s=s&&rw.call(e.childNodes),u=(d=r.props||rk).dangerouslySetInnerHTML,l=f.dangerouslySetInnerHTML,!o){if(null!=s)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,r,n,i){var s;for(s in r)"children"===s||"key"===s||s in t||r$(e,s,null,r[s],n);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||r[s]===t[s]||r$(e,s,t[s],r[s],n)}(e,f,d,i,o),l)t.__k=[];else if(rU(e,Array.isArray(p=t.props.children)?p:[p],t,r,n,i&&"foreignObject"!==h,s,a,s?s[0]:r.__k&&rL(r,0),o),null!=s)for(p=s.length;p--;)null!=s[p]&&rP(s[p]);o||("value"in f&&void 0!==(p=f.value)&&(p!==e.value||"progress"===h&&!p||"option"===h&&p!==d.value)&&r$(e,"value",p,d.value,!1),"checked"in f&&void 0!==(p=f.checked)&&p!==e.checked&&r$(e,"checked",p,d.checked,!1))}return e}(r.__e,t,r,n,i,s,a,c);(u=rx.diffed)&&u(t)}catch(e){t.__v=null,(c||null!=s)&&(t.__e=o,t.__h=!!c,s[s.indexOf(o)]=null),rx.__e(e,t,r)}}function rq(e,t){rx.__c&&rx.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rx.__e(e,t.__v)}})}function rV(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){rx.__e(e,r)}}function rG(e,t,r){return this.constructor(e,r)}function rK(e,t){var r,n,i,s;r=e,rx.__&&rx.__(r,t),i=(n="function"==typeof rK)?null:rK&&rK.__k||t.__k,s=[],rW(t,r=(!n&&rK||t).__k=function(e,t,r){var n,i,s,a={};for(s in t)"key"==s?n=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?rw.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return rC(e,a,n,i,null)}(rI,null,[r]),i||rk,rk,void 0!==t.ownerSVGElement,!n&&rK?[rK]:i?null:t.firstChild?rw.call(t.childNodes):null,s,!n&&rK?rK:i?i.__e:t.firstChild,n),rq(s,r)}rw=rT.slice,rx={__e:function(e,t,r,n){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},rS=0,rN.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=rO({},this.state),"function"==typeof e&&(e=e(rO({},r),this.props)),e&&rO(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),rM(this))},rN.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rM(this))},rN.prototype.render=rI,rE=[],rD.__r=0;var rz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,rJ=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,rZ=/[\s\n\\/='"\0<>]/,rQ=/^xlink:?./,rY=/["&<]/;function rX(e){if(!1===rY.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var r0=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},r1=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},r2={},r5=/([A-Z])/g;function r6(e){var t="";for(var r in e){var n=e[r];null!=n&&""!==n&&(t&&(t+=" "),t+="-"==r[0]?r:r2[r]||(r2[r]=r.replace(r5,"-$1").toLowerCase()),t="number"==typeof n&&!1===rz.test(r)?t+": "+n+"px;":t+": "+n+";")}return t||void 0}function r3(e,t){return Array.isArray(t)?t.reduce(r3,e):null!=t&&!1!==t&&e.push(t),e}function r4(){this.__d=!0}function r8(e,t){return{__v:e,context:t,props:e.props,setState:r4,forceUpdate:r4,__d:!0,__h:[]}}function r9(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var r7=[],ne={shallow:!0};nr.render=nr;var nt=[];function nr(e,t,r){t=t||{};var n,i=rx.__s;return rx.__s=!0,n=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?function e(t,r,n,i,s,a){if(null==t||"boolean"==typeof t)return"";if("object"!=typeof t)return rX(t);var o=n.pretty,c=o&&"string"==typeof o?o:"	";if(Array.isArray(t)){for(var u="",l=0;l<t.length;l++)o&&l>0&&(u+="\n"),u+=e(t[l],r,n,i,s,a);return u}var d,f=t.type,h=t.props,p=!1;if("function"==typeof f){if(p=!0,!n.shallow||!i&&!1!==n.renderRootComponent){if(f===rI){var y=[];return r3(y,t.props.children),e(y,r,n,!1!==n.shallowHighOrder,s,a)}var m,g=t.__c=r8(t,r);rx.__b&&rx.__b(t);var b=rx.__r;if(f.prototype&&"function"==typeof f.prototype.render){var _=r9(f,r);(g=t.__c=new f(h,_)).__v=t,g._dirty=g.__d=!0,g.props=h,null==g.state&&(g.state={}),null==g._nextState&&null==g.__s&&(g._nextState=g.__s=g.state),g.context=_,f.getDerivedStateFromProps?g.state=Object.assign({},g.state,f.getDerivedStateFromProps(g.props,g.state)):g.componentWillMount&&(g.componentWillMount(),g.state=g._nextState!==g.state?g._nextState:g.__s!==g.state?g.__s:g.state),b&&b(t),m=g.render(g.props,g.state,g.context)}else for(var v=r9(f,r),w=0;g.__d&&w++<25;)g.__d=!1,b&&b(t),m=f.call(t.__c,h,v);return g.getChildContext&&(r=Object.assign({},r,g.getChildContext())),rx.diffed&&rx.diffed(t),e(m,r,n,!1!==n.shallowHighOrder,s,a)}f=(d=f).displayName||d!==Function&&d.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=r7.length;n--;)if(r7[n]===e){r=n;break}r<0&&(r=r7.push(e)-1),t="UnnamedComponent"+r}return t}(d)}var x,S,E="<"+f;if(h){var A=Object.keys(h);n&&!0===n.sortAttributes&&A.sort();for(var k=0;k<A.length;k++){var T=A[k],R=h[T];if("children"!==T){if(!rZ.test(T)&&(n&&n.allAttributes||"key"!==T&&"ref"!==T&&"__self"!==T&&"__source"!==T)){if("defaultValue"===T)T="value";else if("defaultChecked"===T)T="checked";else if("defaultSelected"===T)T="selected";else if("className"===T){if(void 0!==h.class)continue;T="class"}else s&&rQ.test(T)&&(T=T.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===T){if(h.for)continue;T="for"}"style"===T&&R&&"object"==typeof R&&(R=r6(R)),"a"===T[0]&&"r"===T[1]&&"boolean"==typeof R&&(R=String(R));var O=n.attributeHook&&n.attributeHook(T,R,r,n,p);if(O||""===O)E+=O;else if("dangerouslySetInnerHTML"===T)S=R&&R.__html;else if("textarea"===f&&"value"===T)x=R;else if((R||0===R||""===R)&&"function"!=typeof R){if(!(!0!==R&&""!==R||(R=T,n&&n.xml))){E=E+" "+T;continue}if("value"===T){if("select"===f){a=R;continue}"option"===f&&a==R&&void 0===h.selected&&(E+=" selected")}E=E+" "+T+'="'+rX(R)+'"'}}}else x=R}}if(o){var P=E.replace(/\n\s*/," ");P===E||~P.indexOf("\n")?o&&~E.indexOf("\n")&&(E+="\n"):E=P}if(E+=">",rZ.test(f))throw Error(f+" is not a valid HTML tag name in "+E);var C,I=rJ.test(f)||n.voidElements&&n.voidElements.test(f),N=[];if(S)o&&r1(S)&&(S="\n"+c+r0(S,c)),E+=S;else if(null!=x&&r3(C=[],x).length){for(var L=o&&~E.indexOf("\n"),M=!1,D=0;D<C.length;D++){var U=C[D];if(null!=U&&!1!==U){var j=e(U,r,n,!0,"svg"===f||"foreignObject"!==f&&s,a);if(o&&!L&&r1(j)&&(L=!0),j){if(o){var B=j.length>0&&"<"!=j[0];M&&B?N[N.length-1]+=j:N.push(j),M=B}else N.push(j)}}}if(o&&L)for(var $=N.length;$--;)N[$]="\n"+c+r0(N[$],c)}if(N.length||S)E+=N.join("");else if(n&&n.xml)return E.substring(0,E.length-1)+" />";return!I||C||S?(o&&~E.indexOf("\n")&&(E+="\n"),E=E+"</"+f+">"):E=E.replace(/>$/," />"),E}(e,t,r):function e(t,r,n,i){if(null==t||!0===t||!1===t||""===t)return"";if("object"!=typeof t)return rX(t);if(nn(t)){for(var s="",a=0;a<t.length;a++)s+=e(t[a],r,n,i);return s}rx.__b&&rx.__b(t);var o=t.type,c=t.props;if("function"==typeof o){if(o===rI)return e(t.props.children,r,n,i);p=o.prototype&&"function"==typeof o.prototype.render?(u=r,d=r9(l=t.type,u),f=new l(t.props,d),t.__c=f,f.__v=t,f.__d=!0,f.props=t.props,null==f.state&&(f.state={}),null==f.__s&&(f.__s=f.state),f.context=d,l.getDerivedStateFromProps?f.state=ni({},f.state,l.getDerivedStateFromProps(f.props,f.state)):f.componentWillMount&&(f.componentWillMount(),f.state=f.__s!==f.state?f.__s:f.state),(h=rx.__r)&&h(t),f.render(f.props,f.state,f.context)):function(e,t){var r,n=r8(e,t),i=r9(e.type,t);e.__c=n;for(var s=rx.__r,a=0;n.__d&&a++<25;)n.__d=!1,s&&s(e),r=e.type.call(n,e.props,i);return r}(t,r);var u,l,d,f,h,p,y=t.__c;y.getChildContext&&(r=ni({},r,y.getChildContext()));var m=e(p,r,n,i);return rx.diffed&&rx.diffed(t),m}var g,b,_="<";if(_+=o,c)for(var v in g=c.children,c){var w,x,S,E=c[v];if(!("key"===v||"ref"===v||"__self"===v||"__source"===v||"children"===v||"className"===v&&"class"in c||"htmlFor"===v&&"for"in c||rZ.test(v))){if(x=v="className"===(w=v)?"class":"htmlFor"===w?"for":"defaultValue"===w?"value":"defaultChecked"===w?"checked":"defaultSelected"===w?"selected":n&&rQ.test(w)?w.toLowerCase().replace(/^xlink:?/,"xlink:"):w,S=E,E="style"===x&&null!=S&&"object"==typeof S?r6(S):"a"===x[0]&&"r"===x[1]&&"boolean"==typeof S?String(S):S,"dangerouslySetInnerHTML"===v)b=E&&E.__html;else if("textarea"===o&&"value"===v)g=E;else if((E||0===E||""===E)&&"function"!=typeof E){if(!0===E||""===E){E=v,_=_+" "+v;continue}if("value"===v){if("select"===o){i=E;continue}"option"!==o||i!=E||"selected"in c||(_+=" selected")}_=_+" "+v+'="'+rX(E)+'"'}}}var A=_;if(_+=">",rZ.test(o))throw Error(o+" is not a valid HTML tag name in "+_);var k="",T=!1;if(b)k+=b,T=!0;else if("string"==typeof g)k+=rX(g),T=!0;else if(nn(g))for(var R=0;R<g.length;R++){var O=g[R];if(null!=O&&!1!==O){var P=e(O,r,"svg"===o||"foreignObject"!==o&&n,i);P&&(k+=P,T=!0)}}else if(null!=g&&!1!==g&&!0!==g){var C=e(g,r,"svg"===o||"foreignObject"!==o&&n,i);C&&(k+=C,T=!0)}if(rx.diffed&&rx.diffed(t),T)_+=k;else if(rJ.test(o))return A+" />";return _+"</"+o+">"}(e,t,!1,void 0),rx.__c&&rx.__c(e,nt),rx.__s=i,nt.length=0,n}var nn=Array.isArray,ni=Object.assign;nr.shallowRender=function(e,t){return nr(e,t,ne)};var ns=0;function na(e,t,r,n,i){var s,a,o={};for(a in t)"ref"==a?s=t[a]:o[a]=t[a];var c={type:e,props:o,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ns,__source:i,__self:n};if("function"==typeof e&&(s=e.defaultProps))for(a in s)void 0===o[a]&&(o[a]=s[a]);return rx.vnode&&rx.vnode(c),c}async function no(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),s().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);if(!i.ok){console.error("Failed to fetch options",i);return}return i.json()}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function s(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function a(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let n=await r.startAuthentication(e,t);return await a("authenticate",n)}async function c(e){s().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await a("register",t)}async function u(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e){console.error("Failed to fetch option for autofill authentication");return}try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t){console.error("Failed to fetch options for form submission");return}if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await c(t.options)}catch(e){console.error(e)}})})(),u()}let nc={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},nu=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function nl({html:e,title:t,status:r,cookies:n,theme:i,headTags:s}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${nu}</style><title>${t}</title>${s??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${nr(e)}</div></body></html>`}}function nd(e){let{url:t,theme:r,query:n,cookies:i,pages:s,providers:a}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:s})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:s},e),{})}),signin(t,o){if(t)throw new M("Unsupported action");if(s?.signIn){let t=`${s.signIn}${s.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:i}}let c=a?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),u="";if(c){let{simpleWebAuthnBrowserVersion:e}=c;u=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return nl({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:s,error:a}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let o=a&&(nc[a]??nc.default),c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return na("div",{className:"signin",children:[i?.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),na("div",{className:"card",children:[o&&na("div",{className:"error",children:na("p",{children:o})}),i?.logo&&na("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let a,o,c;("oauth"===e.type||"oidc"===e.type)&&({bg:a="#fff",brandColor:o,logo:c=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let u=o??a??"#fff";return na("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?na("form",{action:e.signinUrl,method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:t}),n&&na("input",{type:"hidden",name:"callbackUrl",value:n}),na("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${u} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${u} 30%, #000)`},tabIndex:0,children:[na("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&na("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&na("hr",{}),"email"===e.type&&na("form",{action:e.signinUrl,method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:t}),na("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),na("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:s,placeholder:"email@example.com",required:!0}),na("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&na("form",{action:e.callbackUrl,method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>na("div",{children:[na("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),na("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),na("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&na("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[na("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>na("div",{children:[na("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),na("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),na("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&na("hr",{})]},e.id)})]}),c&&na(rI,{children:na("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${no})(authURL, "${c}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...n}),title:"Sign In",headTags:u})},signout:()=>s?.signOut?{redirect:s.signOut,cookies:i}:nl({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return na("div",{className:"signout",children:[n?.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),na("div",{className:"card",children:[n?.logo&&na("img",{src:n.logo,alt:"Logo",className:"logo"}),na("h1",{children:"Signout"}),na("p",{children:"Are you sure you want to sign out?"}),na("form",{action:t?.toString(),method:"POST",children:[na("input",{type:"hidden",name:"csrfToken",value:r}),na("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>s?.verifyRequest?{redirect:s.verifyRequest,cookies:i}:nl({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return na("div",{className:"verify-request",children:[r.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),na("div",{className:"card",children:[r.logo&&na("img",{src:r.logo,alt:"Logo",className:"logo"}),na("h1",{children:"Check your email"}),na("p",{children:"A sign in link has been sent to your email address."}),na("p",{children:na("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>s?.error?{redirect:`${s.error}${s.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:nl({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,s={default:{status:200,heading:"Error",message:na("p",{children:na("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:na("div",{children:[na("p",{children:"There is a problem with the server configuration."}),na("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:na("div",{children:[na("p",{children:"You do not have permission to sign in."}),na("p",{children:na("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:na("div",{children:[na("p",{children:"The sign in link is no longer valid."}),na("p",{children:"It may have been used already or it may have expired."})]}),signin:na("a",{className:"button",href:i,children:"Sign in"})}},{status:a,heading:o,message:c,signin:u}=s[r]??s.default;return{status:a,html:na("div",{className:"error",children:[n?.brandColor&&na("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),na("div",{className:"card",children:[n?.logo&&na("img",{src:n?.logo,alt:"Logo",className:"logo"}),na("h1",{children:o}),na("div",{className:"message",children:c}),u]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function nf(e,t=Date.now()){return new Date(t+1e3*e)}async function nh(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:s,events:a,session:{strategy:o,generateSessionToken:c}}=n;if(!i)return{user:t,account:r};let u=r,{createUser:l,updateUser:d,getUser:f,getUserByAccount:h,getUserByEmail:p,linkAccount:y,createSession:m,getSessionAndUser:g,deleteSession:b}=i,_=null,v=null,w=!1,x="jwt"===o;if(e){if(x)try{let t=n.cookies.sessionToken.name;(_=await s.decode({...s,token:e,salt:t}))&&"sub"in _&&_.sub&&(v=await f(_.sub))}catch{}else{let t=await g(e);t&&(_=t.session,v=t.user)}}if("email"===u.type){let r=await p(t.email);return r?(v?.id!==r.id&&!x&&e&&await b(e),v=await d({id:r.id,emailVerified:new Date}),await a.updateUser?.({user:v})):(v=await l({...t,emailVerified:new Date}),await a.createUser?.({user:v}),w=!0),{session:_=x?{}:await m({sessionToken:c(),userId:v.id,expires:nf(n.session.maxAge)}),user:v,isNewUser:w}}if("webauthn"===u.type){let e=await h({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(v){if(e.id===v.id){let e={...u,userId:v.id};return{session:_,user:v,isNewUser:w,account:e}}throw new V("The account is already associated with another user",{provider:u.provider})}_=x?{}:await m({sessionToken:c(),userId:e.id,expires:nf(n.session.maxAge)});let t={...u,userId:e.id};return{session:_,user:e,isNewUser:w,account:t}}{if(v){await y({...u,userId:v.id}),await a.linkAccount?.({user:v,account:u,profile:t});let e={...u,userId:v.id};return{session:_,user:v,isNewUser:w,account:e}}if(t.email?await p(t.email):null)throw new V("Another account already exists with the same e-mail address",{provider:u.provider});v=await l({...t}),await a.createUser?.({user:v}),await y({...u,userId:v.id}),await a.linkAccount?.({user:v,account:u,profile:t}),_=x?{}:await m({sessionToken:c(),userId:v.id,expires:nf(n.session.maxAge)});let e={...u,userId:v.id};return{session:_,user:v,isNewUser:!0,account:e}}}let S=await h({providerAccountId:u.providerAccountId,provider:u.provider});if(S){if(v){if(S.id===v.id)return{session:_,user:v,isNewUser:w};throw new R("The account is already associated with another user",{provider:u.provider})}return{session:_=x?{}:await m({sessionToken:c(),userId:S.id,expires:nf(n.session.maxAge)}),user:S,isNewUser:w}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:s,userId:o,...d}=u;if(u=Object.assign(e.account(d)??{},{providerAccountId:s,provider:i,type:r,userId:o}),v)return await y({...u,userId:v.id}),await a.linkAccount?.({user:v,account:u,profile:t}),{session:_,user:v,isNewUser:w};let f=t.email?await p(t.email):null;if(f){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)v=f,w=!1;else throw new R("Another account already exists with the same e-mail address",{provider:u.provider})}else v=await l({...t,emailVerified:null}),w=!0;return await a.createUser?.({user:v}),await y({...u,userId:v.id}),await a.linkAccount?.({user:v,account:u,profile:t}),{session:_=x?{}:await m({sessionToken:c(),userId:v.id,expires:nf(n.session.maxAge)}),user:v,isNewUser:w}}}function np(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(s="oauth4webapi/v3.3.0");let ny="ERR_INVALID_ARG_VALUE",nm="ERR_INVALID_ARG_TYPE";function ng(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let nb=Symbol(),n_=Symbol(),nv=Symbol(),nw=Symbol(),nx=Symbol(),nS=Symbol(),nE=Symbol(),nA=new TextEncoder,nk=new TextDecoder;function nT(e){return"string"==typeof e?nA.encode(e):nk.decode(e)}function nR(e){return"string"==typeof e?function(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw ng("The input to be decoded is not correctly encoded.",ny,e)}}(e):function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e)}class nO extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iR,Error.captureStackTrace?.(this,this.constructor)}}class nP extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function nC(e,t,r){return new nP(e,{code:t,cause:r})}function nI(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function nN(e){np(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(s&&!t.has("user-agent")&&t.set("user-agent",s),t.has("authorization"))throw ng('"options.headers" must not include the "authorization" header name',ny);if(t.has("dpop"))throw ng('"options.headers" must not include the "dpop" header name',ny);return t}function nL(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw ng('"options.signal" must return or be an instance of AbortSignal',nm);return e}async function nM(e,t){if(!(e instanceof URL))throw ng('"issuerIdentifier" must be an instance of URL',nm);nY(e,t?.[nb]!==!0);let r=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":r.pathname=`${r.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":"/"===r.pathname?r.pathname=".well-known/oauth-authorization-server":r.pathname=`.well-known/oauth-authorization-server/${r.pathname}`.replace("//","/");break;default:throw ng('"options.algorithm" must be "oidc" (default), or "oauth2"',ny)}let n=nN(t?.headers);return n.set("accept","application/json"),(t?.[nw]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?nL(t.signal):void 0})}function nD(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw ng(`${r} must be a number`,nm,i);if(e>0)return;if(t&&0!==e)throw ng(`${r} must be a non-negative number`,ny,i);throw ng(`${r} must be a positive number`,ny,i)}catch(e){if(n)throw nC(e.message,n,i);throw e}}function nU(e,t,r,n){try{if("string"!=typeof e)throw ng(`${t} must be a string`,nm,n);if(0===e.length)throw ng(`${t} must not be empty`,ny,n)}catch(e){if(r)throw nC(e.message,r,n);throw e}}async function nj(e,t){let r;if(!(e instanceof URL)&&e!==i6)throw ng('"expectedIssuer" must be an instance of URL',nm);if(!np(t,Response))throw ng('"response" must be an instance of Response',nm);if(200!==t.status)throw nC('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',iL,t);iW(t);try{r=await t.json()}catch(e){throw nB(t),nC('failed to parse "response" body as JSON',iC,e)}if(!nI(r))throw nC('"response" body must be a top level object',iI,{body:r});if(nU(r.issuer,'"response" body "issuer" property',iI,{body:r}),new URL(r.issuer).href!==e.href&&e!==i6)throw nC('"response" body "issuer" property does not match the expected value',iB,{expected:e.href,body:r,attribute:"issuer"});return r}function nB(e){(function(e,t){if(ii(e)!==t)throw n$(e,t)})(e,"application/json")}function n$(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return nC(r,iN,e)}function nF(){return nR(crypto.getRandomValues(new Uint8Array(32)))}async function nH(e){return nU(e,"codeVerifier"),nR(await crypto.subtle.digest("SHA-256",nT(e)))}function nW(e){let t=e?.[n_];return"number"==typeof t&&Number.isFinite(t)?t:0}function nq(e){let t=e?.[nv];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function nV(){return Math.floor(Date.now()/1e3)}function nG(e){if("object"!=typeof e||null===e)throw ng('"as" must be an object',nm);nU(e.issuer,'"as.issuer"')}function nK(e){if("object"!=typeof e||null===e)throw ng('"client" must be an object',nm);nU(e.client_id,'"client.client_id"')}function nz(e,t){let r=nV()+nW(t);return{jti:nF(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function nJ(e,t,r){if(!r.usages.includes("sign"))throw ng('CryptoKey instances used for signing assertions must include "sign" in their "usages"',ny);let n=`${nR(nT(JSON.stringify(e)))}.${nR(nT(JSON.stringify(t)))}`,i=nR(await crypto.subtle.sign(iz(r),r,nT(n)));return`${n}.${i}`}async function nZ(e){let{kty:t,e:r,n,x:i,y:s,crv:o}=await crypto.subtle.exportKey("jwk",e),c={kty:t,e:r,n,x:i,y:s,crv:o};return a.set(e,c),c}let nQ=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function nY(e,t){if(t&&"https:"!==e.protocol)throw nC("only requests to HTTPS are allowed",iM,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw nC("only HTTP and HTTPS requests are allowed",iD,e)}function nX(e,t,r,n){let i;if("string"!=typeof e||!(i=nQ(e)))throw nC(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?iF:iH,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return nY(i,n),i}function n0(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?nX(e.mtls_endpoint_aliases[t],t,r,n):nX(e[t],t,r,n)}class n1 extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iT,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class n2 extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iO,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class n5 extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=ik,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let n6=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,n3=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function n4(e){if(!np(e,Response))throw ng('"response" must be an instance of Response',nm);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[];for(let{1:e,index:n}of t.matchAll(n3))r.push([e,n]);if(r.length)return r.map(([e,r],n,i)=>{let s=i[n+1];return function(e,t){let r=t.split(n6).slice(1);if(!r.length)return{scheme:e.toLowerCase(),parameters:{}};r[r.length-1]=r[r.length-1].replace(/,$/,"");let n={};for(let e=1;e<r.length;e+=2){var i;let t=e;if('"'===r[t][0])for(;'"'!==r[t].slice(-1)&&++e<r.length;)r[t]+=r[e];n[r[t-1].replace(/^(?:, ?)|=$/g,"").toLowerCase()]=(i=r[t]).length>=2&&'"'===i[0]&&'"'===i[i.length-1]?i.slice(1,-1):i}return{scheme:e.toLowerCase(),parameters:n}}(e,s?t.slice(r,s[1]):t.slice(r))})}function n8(e){if(!ig.has(e))throw ng('"options.DPoP" is not a valid DPoPHandle',ny)}async function n9(e,t,r,n,i,s){if(nU(e,'"accessToken"'),!(r instanceof URL))throw ng('"url" must be an instance of URL',nm);nY(r,s?.[nb]!==!0),n=nN(n),s?.DPoP?(n8(s.DPoP),await s.DPoP.addProof(r,n,t.toUpperCase(),e),n.set("authorization",`DPoP ${e}`)):n.set("authorization",`Bearer ${e}`);let a=await (s?.[nw]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:s?.signal?nL(s.signal):void 0});return s?.DPoP?.cacheNonce(a),a}async function n7(e,t,r,n){nG(e),nK(t);let i=n0(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[nb]!==!0),s=nN(n?.headers);return t.userinfo_signed_response_alg?s.set("accept","application/jwt"):(s.set("accept","application/json"),s.append("accept","application/jwt")),n9(r,"GET",i,s,null,{...n,[n_]:nW(t)})}function ie(e,t,r,n){(o||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return nV()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function it(e,t){o?.delete(e),delete t?.jwks,delete t?.uat}let ir=Symbol();function ii(e){return e.headers.get("content-type")?.split(";")[0]}async function is(e,t,r,n,i){let s,a;if(nG(e),nK(t),!np(n,Response))throw ng('"response" must be an instance of Response',nm);if(s=n4(n))throw new n5("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:s,response:n});if(200!==n.status)throw nC('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',iL,n);if(iW(n),"application/jwt"===ii(n)){let{claims:r,jwt:s}=await iJ(await n.text(),iY.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),nW(t),nq(t),i?.[nS]).then(ih.bind(void 0,t.client_id)).then(iy.bind(void 0,e));iu.set(n,s),a=r}else{if(t.userinfo_signed_response_alg)throw nC("JWT UserInfo Response expected",iP,n);try{a=await n.json()}catch(e){throw nB(n),nC('failed to parse "response" body as JSON',iC,e)}}if(!nI(a))throw nC('"response" body must be a top level object',iI,{body:a});if(nU(a.sub,'"response" body "sub" property',iI,{body:a}),r===ir);else if(nU(r,'"expectedSubject"'),a.sub!==r)throw nC('unexpected "response" body "sub" property value',iB,{expected:r,body:a,attribute:"sub"});return a}async function ia(e,t,r,n,i,s,a){return await r(e,t,i,s),s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(a?.[nw]||fetch)(n.href,{body:i,headers:Object.fromEntries(s.entries()),method:"POST",redirect:"manual",signal:a?.signal?nL(a.signal):void 0})}async function io(e,t,r,n,i,s){let a=n0(e,"token_endpoint",t.use_mtls_endpoint_aliases,s?.[nb]!==!0);i.set("grant_type",n);let o=nN(s?.headers);o.set("accept","application/json"),s?.DPoP!==void 0&&(n8(s.DPoP),await s.DPoP.addProof(a,o,"POST"));let c=await ia(e,t,r,a,i,o,s);return s?.DPoP?.cacheNonce(c),c}let ic=new WeakMap,iu=new WeakMap;function il(e){if(!e.id_token)return;let t=ic.get(e);if(!t)throw ng('"ref" was already garbage collected or did not resolve from the proper sources',ny);return t}async function id(e,t,r,n,i){let s,a;if(nG(e),nK(t),!np(r,Response))throw ng('"response" must be an instance of Response',nm);if(s=n4(r))throw new n5("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:s,response:r});if(200!==r.status){let e;if(e=await iG(r))throw await r.body?.cancel(),new n1("server responded with an error in the response body",{cause:e,response:r});throw nC('"response" is not a conform Token Endpoint response (unexpected HTTP status code)',iL,r)}iW(r);try{a=await r.json()}catch(e){throw nB(r),nC('failed to parse "response" body as JSON',iC,e)}if(!nI(a))throw nC('"response" body must be a top level object',iI,{body:a});if(nU(a.access_token,'"response" body "access_token" property',iI,{body:a}),nU(a.token_type,'"response" body "token_type" property',iI,{body:a}),a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new nO("unsupported `token_type` value",{cause:{body:a}});if(void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;nD(e,!1,'"response" body "expires_in" property',iI,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&nU(a.refresh_token,'"response" body "refresh_token" property',iI,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw nC('"response" body "scope" property must be a string',iI,{body:a});if(void 0!==a.id_token){nU(a.id_token,'"response" body "id_token" property',iI,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(nD(t.default_max_age,!1,'"client.default_max_age"'),s.push("auth_time")),n?.length&&s.push(...n);let{claims:o,jwt:c}=await iJ(a.id_token,iY.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),nW(t),nq(t),i?.[nS]).then(iv.bind(void 0,s)).then(im.bind(void 0,e)).then(ip.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw nC('ID Token "aud" (audience) claim includes additional untrusted audiences',ij,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw nC('unexpected ID Token "azp" (authorized party) claim value',ij,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&nD(o.auth_time,!1,'ID Token "auth_time" (authentication time)',iI,{claims:o}),iu.set(r,c),ic.set(a,o)}return a}function ih(e,t){return void 0!==t.claims.aud?ip(e,t):t}function ip(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw nC('unexpected JWT "aud" (audience) claim value',ij,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw nC('unexpected JWT "aud" (audience) claim value',ij,{expected:e,claims:t.claims,claim:"aud"});return t}function iy(e,t){return void 0!==t.claims.iss?im(e,t):t}function im(e,t){let r=e[i3]?.(t)??e.issuer;if(t.claims.iss!==r)throw nC('unexpected JWT "iss" (issuer) claim value',ij,{expected:r,claims:t.claims,claim:"iss"});return t}let ig=new WeakSet;async function ib(e,t,r,n,i,s,a){if(nG(e),nK(t),!ig.has(n))throw ng('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',ny);nU(i,'"redirectUri"');let o=iX(n,"code");if(!o)throw nC('no authorization code in "callbackParameters"',iI);let c=new URLSearchParams(a?.additionalParameters);return c.set("redirect_uri",i),c.set("code",o),s!==i5&&(nU(s,'"codeVerifier"'),c.set("code_verifier",s)),io(e,t,r,"authorization_code",c,a)}let i_={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function iv(e,t){for(let r of e)if(void 0===t.claims[r])throw nC(`JWT "${r}" (${i_[r]}) claim missing`,iI,{claims:t.claims});return t}let iw=Symbol(),ix=Symbol();async function iS(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?iE(e,t,r,n.expectedNonce,n.maxAge,{[nS]:n[nS]}):iA(e,t,r,n)}async function iE(e,t,r,n,i,s){let a=[];switch(n){case void 0:n=iw;break;case iw:break;default:nU(n,'"expectedNonce" argument'),a.push("nonce")}switch(i??=t.default_max_age){case void 0:i=ix;break;case ix:break;default:nD(i,!1,'"maxAge" argument'),a.push("auth_time")}let o=await id(e,t,r,a,s);nU(o.id_token,'"response" body "id_token" property',iI,{body:o});let c=il(o);if(i!==ix){let e=nV()+nW(t),r=nq(t);if(c.auth_time+i<e-r)throw nC("too much time has elapsed since the last End-User authentication",iU,{claims:c,now:e,tolerance:r,claim:"auth_time"})}if(n===iw){if(void 0!==c.nonce)throw nC('unexpected ID Token "nonce" claim value',ij,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==n)throw nC('unexpected ID Token "nonce" claim value',ij,{expected:n,claims:c,claim:"nonce"});return o}async function iA(e,t,r,n){let i=await id(e,t,r,void 0,n),s=il(i);if(s){if(void 0!==t.default_max_age){nD(t.default_max_age,!1,'"client.default_max_age"');let e=nV()+nW(t),r=nq(t);if(s.auth_time+t.default_max_age<e-r)throw nC("too much time has elapsed since the last End-User authentication",iU,{claims:s,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==s.nonce)throw nC('unexpected ID Token "nonce" claim value',ij,{expected:void 0,claims:s,claim:"nonce"})}return i}let ik="OAUTH_WWW_AUTHENTICATE_CHALLENGE",iT="OAUTH_RESPONSE_BODY_ERROR",iR="OAUTH_UNSUPPORTED_OPERATION",iO="OAUTH_AUTHORIZATION_RESPONSE_ERROR",iP="OAUTH_JWT_USERINFO_EXPECTED",iC="OAUTH_PARSE_ERROR",iI="OAUTH_INVALID_RESPONSE",iN="OAUTH_RESPONSE_IS_NOT_JSON",iL="OAUTH_RESPONSE_IS_NOT_CONFORM",iM="OAUTH_HTTP_REQUEST_FORBIDDEN",iD="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",iU="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",ij="OAUTH_JWT_CLAIM_COMPARISON_FAILED",iB="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",i$="OAUTH_KEY_SELECTION_FAILED",iF="OAUTH_MISSING_SERVER_METADATA",iH="OAUTH_INVALID_SERVER_METADATA";function iW(e){if(e.bodyUsed)throw ng('"response" body has been used already',ny)}async function iq(e,t){nG(e);let r=n0(e,"jwks_uri",!1,t?.[nb]!==!0),n=nN(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[nw]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?nL(t.signal):void 0})}async function iV(e){let t;if(!np(e,Response))throw ng('"response" must be an instance of Response',nm);if(200!==e.status)throw nC('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',iL,e);iW(e);try{t=await e.json()}catch(t){throw function(e,...t){if(!t.includes(ii(e)))throw n$(e,...t)}(e,"application/json","application/jwk-set+json"),nC('failed to parse "response" body as JSON',iC,t)}if(!nI(t))throw nC('"response" body must be a top level object',iI,{body:t});if(!Array.isArray(t.keys))throw nC('"response" body "keys" property must be an array',iI,{body:t});if(!Array.prototype.every.call(t.keys,nI))throw nC('"response" body "keys" property members must be JWK formatted objects',iI,{body:t});return t}async function iG(e){if(e.status>399&&e.status<500){iW(e),nB(e);try{let t=await e.clone().json();if(nI(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}function iK(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new nO(`unsupported ${t.name} modulusLength`,{cause:e})}function iz(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new nO("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(iK(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new nO("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return iK(e),e.algorithm.name;case"Ed25519":case"EdDSA":return e.algorithm.name}throw new nO("unsupported CryptoKey algorithm name",{cause:e})}async function iJ(e,t,r,n,i){let s,a,{0:o,1:c,length:u}=e.split(".");if(5===u){if(void 0!==i)e=await i(e),{0:o,1:c,length:u}=e.split(".");else throw new nO("JWE decryption is not configured",{cause:e})}if(3!==u)throw nC("Invalid JWT",iI,e);try{s=JSON.parse(nT(nR(o)))}catch(e){throw nC("failed to parse JWT Header body as base64url encoded JSON",iC,e)}if(!nI(s))throw nC("JWT Header must be a top level object",iI,e);if(t(s),void 0!==s.crit)throw new nO('no JWT "crit" header parameter extensions are supported',{cause:{header:s}});try{a=JSON.parse(nT(nR(c)))}catch(e){throw nC("failed to parse JWT Payload body as base64url encoded JSON",iC,e)}if(!nI(a))throw nC("JWT Payload must be a top level object",iI,e);let l=nV()+r;if(void 0!==a.exp){if("number"!=typeof a.exp)throw nC('unexpected JWT "exp" (expiration time) claim type',iI,{claims:a});if(a.exp<=l-n)throw nC('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',iU,{claims:a,now:l,tolerance:n,claim:"exp"})}if(void 0!==a.iat&&"number"!=typeof a.iat)throw nC('unexpected JWT "iat" (issued at) claim type',iI,{claims:a});if(void 0!==a.iss&&"string"!=typeof a.iss)throw nC('unexpected JWT "iss" (issuer) claim type',iI,{claims:a});if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw nC('unexpected JWT "nbf" (not before) claim type',iI,{claims:a});if(a.nbf>l+n)throw nC('unexpected JWT "nbf" (not before) claim value',iU,{claims:a,now:l,tolerance:n,claim:"nbf"})}if(void 0!==a.aud&&"string"!=typeof a.aud&&!Array.isArray(a.aud))throw nC('unexpected JWT "aud" (audience) claim type',iI,{claims:a});return{header:s,claims:a,jwt:e}}async function iZ(e,t,r){let n;switch(t.alg){case"RS256":case"PS256":case"ES256":n="SHA-256";break;case"RS384":case"PS384":case"ES384":n="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":n="SHA-512";break;default:throw new nO(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let i=await crypto.subtle.digest(n,nT(e));return nR(i.slice(0,i.byteLength/2))}async function iQ(e){if(e.bodyUsed)throw ng("form_post Request instances must contain a readable body",ny,{cause:e});return e.text()}function iY(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw nC('unexpected JWT "alg" header parameter',iI,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw nC('unexpected JWT "alg" header parameter',iI,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw nC('unexpected JWT "alg" header parameter',iI,{header:n,expected:r,reason:"default value"});return}throw nC('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function iX(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw nC(`"${t}" parameter must be provided only once`,iI);return r}let i0=Symbol(),i1=Symbol();async function i2(e,t){let{ext:r,key_ops:n,use:i,...s}=t;return crypto.subtle.importKey("jwk",s,function(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new nO("unsupported JWS algorithm",{cause:{alg:e}})}}(e),!0,["verify"])}let i5=Symbol(),i6=Symbol(),i3=Symbol();async function i4(e,t,r){let{cookies:n,logger:i}=r,s=n[e],a=new Date;a.setTime(a.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:s.name,payload:t,COOKIE_TTL:900,expires:a});let o=await tQ({...r.jwt,maxAge:900,token:{value:t},salt:s.name}),c={...s.options,expires:a};return{name:s.name,value:o,options:c}}async function i8(e,t,r){try{let{logger:n,cookies:i,jwt:s}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new x(`${e} cookie was missing`);let a=await tY({...s,token:t,salt:i[e].name});if(a?.value)return a.value;throw Error("Invalid cookie")}catch(t){throw new x(`${e} value could not be parsed`,{cause:t})}}function i9(e,t,r){let{logger:n,cookies:i}=t,s=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:s}),r.push({name:s.name,value:"",options:{...i[e].options,maxAge:0}})}function i7(e,t){return async function(r,n,i){let{provider:s,logger:a}=i;if(!s?.checks?.includes(e))return;let o=r?.[i.cookies[t].name];a.debug(`USE_${t.toUpperCase()}`,{value:o});let c=await i8(t,o,i);return i9(t,i,n),c}}let se={async create(e){let t=nF(),r=await nH(t);return{cookie:await i4("pkceCodeVerifier",t,e),value:r}},use:i7("pkce","pkceCodeVerifier")},st="encodedState",sr={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new x("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:nF()},i=await tQ({secret:e.jwt.secret,token:n,salt:st,maxAge:900});return{cookie:await i4("state",i,e),value:i}},use:i7("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await tY({secret:t.jwt.secret,token:e,salt:st});if(r)return r;throw Error("Invalid state")}catch(e){throw new x("State could not be decoded",{cause:e})}}},sn={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=nF();return{cookie:await i4("nonce",t,e),value:t}},use:i7("nonce","nonce")},si="encodedWebauthnChallenge",ss={create:async(e,t,r)=>({cookie:await i4("webauthnChallenge",await tQ({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:si,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await i8("webauthnChallenge",n,e),s=await tY({secret:e.jwt.secret,token:i,salt:si});if(i9("webauthnChallenge",e,r),!s)throw new x("WebAuthn challenge was missing");return s}};function sa(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function so(e,t,r){let n,i,s;let{logger:a,provider:o}=r,{token:c,userinfo:u}=o;if(c?.url&&"authjs.dev"!==c.url.host||u?.url&&"authjs.dev"!==u.url.host)n={issuer:o.issuer??"https://authjs.dev",token_endpoint:c?.url.toString(),userinfo_endpoint:u?.url.toString()};else{let e=new URL(o.issuer),t=await nM(e,{[nb]:!0,[nw]:o[ro]});if(!(n=await nj(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let l={client_id:o.clientId,...o.client};switch(l.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(e,t,r,n)=>{n.set("authorization",function(e,t){let r=sa(e),n=sa(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}(o.clientId,o.clientSecret))};break;case"client_secret_post":var d;nU(d=o.clientSecret,'"clientSecret"'),i=(e,t,r,n)=>{r.set("client_id",t.client_id),r.set("client_secret",d)};break;case"client_secret_jwt":i=function(e,t){let r;nU(e,'"clientSecret"');let n=void 0;return async(t,i,s,a)=>{r||=await crypto.subtle.importKey("raw",nT(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},c=nz(t,i);n?.(o,c);let u=`${nR(nT(JSON.stringify(o)))}.${nR(nT(JSON.stringify(c)))}`,l=await crypto.subtle.sign(r.algorithm,r,nT(u));s.set("client_id",i.client_id),s.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),s.set("client_assertion",`${u}.${nR(new Uint8Array(l))}`)}}(o.clientSecret);break;case"private_key_jwt":i=function(e,t){let{key:r,kid:n}=e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&nU(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{};return function(e,t){if(function(e,t){if(!(e instanceof CryptoKey))throw ng(`${t} must be a CryptoKey`,nm)}(e,t),"private"!==e.type)throw ng(`${t} must be a private CryptoKey`,ny)}(r,'"clientPrivateKey.key"'),async(e,i,s,a)=>{let o={alg:function(e){switch(e.algorithm.name){case"RSA-PSS":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new nO("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}(e);case"RSASSA-PKCS1-v1_5":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new nO("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}(e);case"ECDSA":return function(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new nO("unsupported EcKeyAlgorithm namedCurve",{cause:e})}}(e);case"Ed25519":case"EdDSA":return"Ed25519";default:throw new nO("unsupported CryptoKey algorithm name",{cause:e})}}(r),kid:n},c=nz(e,i);t?.[nx]?.(o,c),s.set("client_id",i.client_id),s.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),s.set("client_assertion",await nJ(o,c,r))}}(o.token.clientPrivateKey,{[nx](e,t){t.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=(e,t,r,n)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let f=[],h=await sr.use(t,f,r);try{s=function(e,t,r,n){var i;if(nG(e),nK(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw ng('"parameters" must be an instance of URLSearchParams, or URL',nm);if(iX(r,"response"))throw nC('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',iI,{parameters:r});let s=iX(r,"iss"),a=iX(r,"state");if(!s&&e.authorization_response_iss_parameter_supported)throw nC('response parameter "iss" (issuer) missing',iI,{parameters:r});if(s&&s!==e.issuer)throw nC('unexpected "iss" (issuer) response parameter value',iI,{expected:e.issuer,parameters:r});switch(n){case void 0:case i1:if(void 0!==a)throw nC('unexpected "state" response parameter encountered',iI,{expected:void 0,parameters:r});break;case i0:break;default:if(nU(n,'"expectedState" argument'),a!==n)throw nC(void 0===a?'response parameter "state" missing':'unexpected "state" response parameter value',iI,{expected:n,parameters:r})}if(iX(r,"error"))throw new n2("authorization response from the server is an error",{cause:r});let o=iX(r,"id_token"),c=iX(r,"token");if(void 0!==o||void 0!==c)throw new nO("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),ig.add(i),i}(n,l,new URLSearchParams(e),o.checks.includes("state")?h:i0)}catch(e){if(e instanceof n2){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw a.debug("OAuthCallbackError",t),new O("OAuth Provider returned an error",t)}throw e}let p=await se.use(t,f,r),y=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(y=o.redirectProxyUrl);let m=await ib(n,l,i,s,y,p??"decoy",{[nb]:!0,[nw]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[ro]??fetch)(...e))});o.token?.conform&&(m=await o.token.conform(m.clone())??m);let g={},b="oidc"===o.type;if(o[rc])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:e}=function(e){let t,r;if("string"!=typeof e)throw new ek("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new ek("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new ek("Invalid JWT");if(!n)throw new ek("JWTs must contain a payload");try{t=eb(n)}catch{throw new ek("Failed to base64url decode the payload")}try{r=JSON.parse(el.decode(t))}catch{throw new ek("Failed to parse the decoded payload as JSON")}if(!eO(r))throw new ek("Invalid JWT Claims Set");return r}((await m.clone().json()).id_token);if("string"==typeof e){let t=n.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(n.issuer.replace(t,e)),i=await nM(r,{[nw]:o[ro]});n=await nj(r,i)}}}let _=await iS(n,l,m,{expectedNonce:await sn.use(t,f,r),requireIdToken:b});if(b){let t=il(_);if(g=t,o[rc]&&"apple"===o.id)try{g.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await n7(n,l,_.access_token,{[nw]:o[ro],[nb]:!0});g=await is(n,l,t.sub,e)}}else if(u?.request){let e=await u.request({tokens:_,provider:o});e instanceof Object&&(g=e)}else if(u?.url){let e=await n7(n,l,_.access_token,{[nw]:o[ro]});g=await e.json()}else throw TypeError("No userinfo endpoint configured");return _.expires_in&&(_.expires_at=Math.floor(Date.now()/1e3)+Number(_.expires_in)),{...await sc(g,o,_,a),profile:g,cookies:f}}async function sc(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new P(r,{provider:t.id}))}}async function su(e,t,r,n){let i=await sp(e,t,r),{cookie:s}=await ss.create(e,i.challenge,r);return{status:200,cookies:[...n??[],s],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function sl(e,t,r,n){let i=await sh(e,t,r),{cookie:s}=await ss.create(e,i.challenge);return{status:200,cookies:[...n??[],s],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function sd(e,t,r){let n;let{adapter:i,provider:s}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new f("Invalid WebAuthn Authentication response");let o=sg(sm(a.id)),c=await i.getAuthenticator(o);if(!c)throw new f(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:u}=await ss.use(e,t.cookies,r);try{let r=s.getRelayingParty(e,t);n=await s.simpleWebAuthn.verifyAuthenticationResponse({...s.verifyAuthenticationOptions,expectedChallenge:u,response:a,authenticator:{...c,credentialDeviceType:c.credentialDeviceType,transports:sb(c.transports),credentialID:sm(c.credentialID),credentialPublicKey:sm(c.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new q(e)}let{verified:l,authenticationInfo:d}=n;if(!l)throw new q("WebAuthn authentication response could not be verified");try{let{newCounter:e}=d;await i.updateAuthenticatorCounter(c.credentialID,e)}catch(e){throw new p(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:c.counter,newCounter:d.newCounter})}`,e)}let h=await i.getAccount(c.providerAccountId,s.id);if(!h)throw new f(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId})}`);let y=await i.getUser(h.userId);if(!y)throw new f(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId,userID:h.userId})}`);return{account:h,user:y}}async function sf(e,t,r){var n;let i;let{provider:s}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new f("Invalid WebAuthn Registration response");let{challenge:o,registerData:c}=await ss.use(e,t.cookies,r);if(!c)throw new f("Missing user registration data in WebAuthn challenge cookie");try{let r=s.getRelayingParty(e,t);i=await s.simpleWebAuthn.verifyRegistrationResponse({...s.verifyRegistrationOptions,expectedChallenge:o,response:a,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new q(e)}if(!i.verified||!i.registrationInfo)throw new q("WebAuthn registration response could not be verified");let u={providerAccountId:sg(i.registrationInfo.credentialID),provider:e.provider.id,type:s.type},l={providerAccountId:u.providerAccountId,counter:i.registrationInfo.counter,credentialID:sg(i.registrationInfo.credentialID),credentialPublicKey:sg(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=a.response.transports,n?.join(","))};return{user:c,account:u,authenticator:l}}async function sh(e,t,r){let{provider:n,adapter:i}=e,s=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,a=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:a.id,allowCredentials:s?.map(e=>({id:sm(e.credentialID),type:"public-key",transports:sb(e.transports)}))})}async function sp(e,t,r){let{provider:n,adapter:i}=e,s=r.id?await i.listAuthenticatorsByUserId(r.id):null,a=re(32),o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:a,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:s?.map(e=>({id:sm(e.credentialID),type:"public-key",transports:sb(e.transports)}))})}function sy(e){let{provider:t,adapter:r}=e;if(!r)throw new E("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new U("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function sm(e){return new Uint8Array(Buffer.from(e,"base64"))}function sg(e){return Buffer.from(e).toString("base64")}function sb(e){return e?e.split(","):void 0}async function s_(e,t,r,n){if(!t.provider)throw new U("Callback route called without provider");let{query:i,body:s,method:a,headers:o}=e,{provider:c,adapter:u,url:l,callbackUrl:d,pages:h,jwt:p,events:y,callbacks:g,session:{strategy:b,maxAge:_},logger:w}=t,x="jwt"===b;try{if("oauth"===c.type||"oidc"===c.type){let a;let o=c.authorization?.url.searchParams.get("response_mode")==="form_post"?s:i;if(t.isOnRedirectProxy&&o?.state){let e=await sr.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return w.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let f=await so(o,e.cookies,t);f.cookies.length&&n.push(...f.cookies),w.debug("authorization result",f);let{user:m,account:b,profile:v}=f;if(!m||!b||!v)return{redirect:`${l}/signin`,cookies:n};if(u){let{getUserByAccount:e}=u;a=await e({providerAccountId:b.providerAccountId,provider:c.id})}let S=await sv({user:a??m,account:b,profile:v},t);if(S)return{redirect:S,cookies:n};let{user:E,session:A,isNewUser:k}=await nh(r.value,m,b,t);if(x){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await g.jwt({token:e,user:E,account:b,profile:v,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,s=await p.encode({...p,token:i,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*_);let o=r.chunk(s,{expires:a});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:A.sessionToken,options:{...t.cookies.sessionToken.options,expires:A.expires}});if(await y.signIn?.({user:E,account:b,profile:v,isNewUser:k}),k&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===c.type){let e=i?.token,s=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let a=c.secret??t.secret,o=await u.useVerificationToken({identifier:s,token:await t7(`${e}${a}`)}),l=!!o,f=l&&o.expires.valueOf()<Date.now();if(!l||f||s&&o.identifier!==s)throw new B({hasInvite:l,expired:f});let{identifier:m}=o,b=await u.getUserByEmail(m)??{id:crypto.randomUUID(),email:m,emailVerified:null},v={providerAccountId:b.email,userId:b.id,type:"email",provider:c.id},w=await sv({user:b,account:v},t);if(w)return{redirect:w,cookies:n};let{user:S,session:E,isNewUser:A}=await nh(r.value,b,v,t);if(x){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},i=await g.jwt({token:e,user:S,account:v,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,s=await p.encode({...p,token:i,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*_);let o=r.chunk(s,{expires:a});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:E.sessionToken,options:{...t.cookies.sessionToken.options,expires:E.expires}});if(await y.signIn?.({user:S,account:v,isNewUser:A}),A&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===c.type&&"POST"===a){let e=s??{};Object.entries(i??{}).forEach(([e,t])=>l.searchParams.set(e,t));let u=await c.authorize(e,new Request(l,{headers:o,method:a,body:JSON.stringify(s)}));if(u)u.id=u.id?.toString()??crypto.randomUUID();else throw new v;let f={providerAccountId:u.id,type:"credentials",provider:c.id},h=await sv({user:u,account:f,credentials:e},t);if(h)return{redirect:h,cookies:n};let m={name:u.name,email:u.email,picture:u.image,sub:u.id},b=await g.jwt({token:m,user:u,account:f,isNewUser:!1,trigger:"signIn"});if(null===b)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await p.encode({...p,token:b,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*_);let a=r.chunk(i,{expires:s});n.push(...a)}return await y.signIn?.({user:u,account:f}),{redirect:d,cookies:n}}if("webauthn"===c.type&&"POST"===a){let i,s,a;let o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new f("Invalid action parameter");let c=sy(t);switch(o){case"authenticate":{let t=await sd(c,e,n);i=t.user,s=t.account;break}case"register":{let r=await sf(t,e,n);i=r.user,s=r.account,a=r.authenticator}}await sv({user:i,account:s},t);let{user:u,isNewUser:l,session:m,account:b}=await nh(r.value,i,s,t);if(!b)throw new f("Error creating or finding account");if(a&&u.id&&await c.adapter.createAuthenticator({...a,userId:u.id}),x){let e={name:u.name,email:u.email,picture:u.image,sub:u.id?.toString()},i=await g.jwt({token:e,user:u,account:b,isNewUser:l,trigger:l?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,s=await p.encode({...p,token:i,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*_);let o=r.chunk(s,{expires:a});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await y.signIn?.({user:u,account:b,isNewUser:l}),l&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new U(`Callback for provider type (${c.type}) is not supported`)}catch(t){if(t instanceof f)throw t;let e=new m(t,{provider:c.id});throw w.debug("callback route error details",{method:a,query:i,body:s}),e}}async function sv(e,t){let r;let{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof f)throw e;throw new y(e)}if(!r)throw new y("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function sw(e,t,r,n,i){let{adapter:s,jwt:a,events:o,callbacks:c,logger:u,session:{strategy:l,maxAge:d}}=e,f={body:null,headers:{"Content-Type":"application/json"},cookies:r},h=t.value;if(!h)return f;if("jwt"===l){try{let r=e.cookies.sessionToken.name,s=await a.decode({...a,token:h,salt:r});if(!s)throw Error("Invalid JWT");let u=await c.jwt({token:s,...n&&{trigger:"update"},session:i}),l=nf(d);if(null!==u){let e={user:{name:u.name,email:u.email,image:u.picture},expires:l.toISOString()},n=await c.session({session:e,token:u});f.body=n;let i=await a.encode({...a,token:u,salt:r}),s=t.chunk(i,{expires:l});f.cookies?.push(...s),await o.session?.({session:n,token:u})}else f.cookies?.push(...t.clean())}catch(e){u.error(new S(e)),f.cookies?.push(...t.clean())}return f}try{let{getSessionAndUser:r,deleteSession:a,updateSession:u}=s,l=await r(h);if(l&&l.session.expires.valueOf()<Date.now()&&(await a(h),l=null),l){let{user:t,session:r}=l,s=e.session.updateAge,a=r.expires.valueOf()-1e3*d+1e3*s,p=nf(d);a<=Date.now()&&await u({sessionToken:h,expires:p});let y=await c.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});f.body=y,f.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:p}}),await o.session?.({session:y})}else h&&f.cookies?.push(...t.clean())}catch(e){u.error(new C(e))}return f}async function sx(e,t){let r,n;let{logger:i,provider:s}=t,a=s.authorization?.url;if(!a||"authjs.dev"===a.host){let e=new URL(s.issuer),t=await nM(e,{[nw]:s[ro],[nb]:!0}),r=await nj(e,t);if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");a=new URL(r.authorization_endpoint)}let o=a.searchParams,c=s.callbackUrl;!t.isOnRedirectProxy&&s.redirectProxyUrl&&(c=s.redirectProxyUrl,n=s.callbackUrl,i.debug("using redirect proxy",{redirect_uri:c,data:n}));let u=Object.assign({response_type:"code",client_id:s.clientId,redirect_uri:c,...s.authorization?.params},Object.fromEntries(s.authorization?.url.searchParams??[]),e);for(let e in u)o.set(e,u[e]);let l=[];s.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await sr.create(t,n);if(d&&(o.set("state",d.value),l.push(d.cookie)),s.checks?.includes("pkce")){if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===s.type&&(s.checks=["nonce"]);else{let{value:e,cookie:r}=await se.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),l.push(r)}}let f=await sn.create(t);return f&&(o.set("nonce",f.value),l.push(f.cookie)),"oidc"!==s.type||a.searchParams.has("scope")||a.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:a,cookies:l,provider:s}),{redirect:a.toString(),cookies:l}}async function sS(e,t){let r;let{body:n}=e,{provider:i,callbacks:s,adapter:a}=t,o=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(n?.email),c={id:crypto.randomUUID(),email:o,emailVerified:null},u=await a.getUserByEmail(o)??c,l={providerAccountId:o,userId:u.id,type:"email",provider:i.id};try{r=await s.signIn({user:u,account:l,email:{verificationRequest:!0}})}catch(e){throw new y(e)}if(!r)throw new y("AccessDenied");if("string"==typeof r)return{redirect:await s.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:f}=t,h=await i.generateVerificationToken?.()??re(32),p=new Date(Date.now()+(i.maxAge??86400)*1e3),m=i.secret??t.secret,g=new URL(t.basePath,t.url.origin),b=i.sendVerificationRequest({identifier:o,token:h,expires:p,url:`${g}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:h,email:o})}`,provider:i,theme:f,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),_=a.createVerificationToken?.({identifier:o,token:await t7(`${h}${m}`),expires:p});return await Promise.all([b,_]),{redirect:`${g}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function sE(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await sx(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await sS(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function sA(e,t,r){let{jwt:n,events:i,callbackUrl:s,logger:a,session:o}=r,c=t.value;if(!c)return{redirect:s,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:c,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(c);await i.signOut?.({session:e})}}catch(e){a.error(new L(e))}return e.push(...t.clean()),{redirect:s,cookies:e}}async function sk(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,s=t.value;if(!s)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:s,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(s);if(e)return e.user}return null}async function sT(e,t,r,n){let i=sy(t),{provider:s}=i,{action:a}=e.query??{};if("register"!==a&&"authenticate"!==a&&void 0!==a)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let o=await sk(t,r),c=o?{user:o,exists:!0}:await s.getUserInfo(t,e),u=c?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t){if(!n||i)return"authenticate";return"register"}}return null}(a,!!o,c)){case"authenticate":return sl(i,e,u,n);case"register":if("string"==typeof u?.email)return su(i,e,u,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function sR(e,t){let{action:r,providerId:n,error:i,method:s}=e,a=t.skipCSRFCheck===rs,{options:o,cookies:c}=await rp({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===s,csrfDisabled:a}),u=new d(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===s){let t=nd({...o,query:e.query,cookies:c});switch(r){case"callback":return await s_(e,o,u,c);case"csrf":return t.csrf(a,o,c);case"error":return t.error(i);case"providers":return t.providers(o.providers);case"session":return await sw(o,u,c);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await sT(e,o,u,c)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&rr(r,t),await s_(e,o,u,c);case"session":return rr(r,t),await sw(o,u,c,!0,e.body?.data);case"signin":return rr(r,t),await sE(e,c,o);case"signout":return rr(r,t),await sA(c,u,o)}}throw new M(`Cannot handle action: ${r}`)}function sO(e,t,r,n,i){let s;let a=i?.basePath,o=n.AUTH_URL??n.NEXTAUTH_URL;if(o)s=new URL(o),a&&"/"!==a&&"/"!==s.pathname&&(s.pathname!==a&&t6(i).warn("env-url-basepath-mismatch"),s.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";s=new URL(`${i}//${e}`)}let c=s.toString().replace(/\/$/,"");if(a){let t=a?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${t}/${e}`)}return new URL(`${c}/${e}`)}async function sP(e,t){let r=t6(t),n=await t8(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!K&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new j(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new T("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!z(i,r.origin))return new _(`Invalid callback URL. Received: ${i}`);let{callbackUrl:s}=l(t.useSecureCookies??"https:"===r.protocol),a=e.cookies?.[t.cookies?.callbackUrl?.name??s.name];if(a&&!z(a,r.origin))return new _(`Invalid callback URL. Received: ${a}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new w(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)J=!0;else if("email"===t.type)Z=!0;else if("webauthn"===t.type){var c;if(Q=!0,t.simpleWebAuthnBrowserVersion&&(c=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(c)))return new f(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new H("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new W(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(J){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new D("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new k("Must define an authorize() handler to use credentials authentication provider")}let{adapter:u,session:d}=t,h=[];if(Z||d?.strategy==="database"||!d?.strategy&&u){if(Z){if(!u)return new E("Email login requires an adapter");h.push(...Y)}else{if(!u)return new E("Database session requires an adapter");h.push(...X)}}if(Q){if(!t.experimental?.enableWebAuthn)return new G("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!u)return new E("WebAuthn requires an adapter");h.push(...ee)}if(u){let e=h.filter(e=>!(e in u));if(e.length)return new A(`Required adapter methods were missing: ${e.join(", ")}`)}return K||(K=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:s}=t,a=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||a)return a&&r.error(new g(`The error page ${e?.error} should not require authentication`)),t9(nd({theme:s}).error("Configuration"));let o=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let s=e.headers?.has("X-Auth-Return-Redirect"),a=t.raw===ra;try{let e=await sR(n,t);if(a)return e;let r=t9(e),i=r.headers.get("Location");if(!s||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof f;if(i&&a&&!s)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:d instanceof f&&F.has(d.type)?d.type:"Configuration"});d instanceof v&&o.set("code",d.code);let c=i&&d.kind||"error",u=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,l=`${n.url.origin}${u}?${o}`;if(s)return Response.json({url:l});return Response.redirect(l)}}var sC=r(6332);function sI(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new sC.NextRequest(n.replace(i,r),e)}function sN(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||t6(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],s=e[`AUTH_${n}_SECRET`],a=e[`AUTH_${n}_ISSUER`],o=e[`AUTH_${n}_KEY`],c="function"==typeof t?t({clientId:i,clientSecret:s,issuer:a,apiKey:o}):t;return"oauth"===c.type||"oidc"===c.type?(c.clientId??(c.clientId=i),c.clientSecret??(c.clientSecret=s),c.issuer??(c.issuer=a)):"email"===c.type&&(c.apiKey??(c.apiKey=o)),c})}(process.env,e,!0)}}var sL=r(42385);async function sM(e,t){return sP(new Request(sO("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function sD(e){return"function"==typeof e}function sU(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,sL.b3)(),n=await e(void 0);return t?.(n),sM(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],s=await e(n);return t?.(s),sj([n,i],s)}if(sD(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),sj(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],s=await e(n);return t?.(s),sM(new Headers(n.headers),s).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,sL.b3)()).then(t=>sM(t,e).then(e=>e.json()));if(t[0]instanceof Request)return sj([t[0],t[1]],e);if(sD(t[0])){let r=t[0];return async(...t)=>sj(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return sM(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function sj(e,t,r){let n=sI(e[0]),i=await sM(n.headers,t),s=await i.json(),a=!0;t.callbacks?.authorized&&(a=await t.callbacks.authorized({request:n,auth:s}));let o=sC.NextResponse.next?.();if(a instanceof Response){o=a;let e=a.headers.get("Location"),{pathname:r}=n.nextUrl;e&&function(e,t,r){let n=t.replace(`${e}/`,""),i=Object.values(r.pages??{});return(sB.has(n)||i.includes(t))&&t===e}(r,new URL(e).pathname,t)&&(a=!0)}else if(r)n.auth=s,o=await r(n,e[1])??sC.NextResponse.next();else if(!a){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),o=sC.NextResponse.redirect(t)}}let c=new Response(o?.body,o);for(let e of i.headers.getSetCookie())c.headers.append("set-cookie",e);return c}let sB=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var s$=r(37432);async function sF(e,t={},r,n){let i=new Headers(await (0,sL.b3)()),{redirect:s=!0,redirectTo:a,...o}=t instanceof FormData?Object.fromEntries(t):t,c=a?.toString()??i.get("Referer")??"/",u=sO("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return u.searchParams.append("callbackUrl",c),s&&(0,s$.redirect)(u.toString()),u.toString();let l=`${u}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${u}?${new URLSearchParams({callbackUrl:c})}`;return s&&(0,s$.redirect)(e),e}"credentials"===d.type&&(l=l.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let f=new Request(l,{method:"POST",headers:i,body:new URLSearchParams({...o,callbackUrl:c})}),h=await sP(f,{...n,raw:ra,skipCSRFCheck:rs}),p=await (0,sL.UL)();for(let e of h?.cookies??[])p.set(e.name,e.value,e.options);let y=(h instanceof Response?h.headers.get("Location"):h.redirect)??l;return s?(0,s$.redirect)(y):y}async function sH(e,t){let r=new Headers(await (0,sL.b3)());r.set("Content-Type","application/x-www-form-urlencoded");let n=sO("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),s=new Request(n,{method:"POST",headers:r,body:i}),a=await sP(s,{...t,raw:ra,skipCSRFCheck:rs}),o=await (0,sL.UL)();for(let e of a?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?(0,s$.redirect)(a.redirect):a}async function sW(e,t){let r=new Headers(await (0,sL.b3)());r.set("Content-Type","application/json");let n=new Request(sO("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await sP(n,{...t,raw:ra,skipCSRFCheck:rs}),s=await (0,sL.UL)();for(let e of i?.cookies??[])s.set(e.name,e.value,e.options);return i.body}function sq(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return sN(r),sP(sI(t),r)};return{handlers:{GET:t,POST:t},auth:sU(e,e=>sN(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return sN(i),sF(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return sN(r),sH(t,r)},unstable_update:async t=>{let r=await e(void 0);return sN(r),sW(t,r)}}}sN(e);let t=t=>sP(sI(t),e);return{handlers:{GET:t,POST:t},auth:sU(e),signIn:(t,r,n)=>sF(t,r,n,e),signOut:t=>sH(t,e),unstable_update:t=>sW(t,e)}}},41622:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i}),r(27484),r(52095),r(53115);var n=r(25029);r(42227);let i=n},16500:(e,t,r)=>{"use strict";let n;r.d(t,{z:()=>tu}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(tn||(tn={})),(ti||(ti={})).mergeShapes=(e,t)=>({...e,...t});let i=tn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray(e))return i.array;if(null===e)return i.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return i.promise;if("undefined"!=typeof Map&&e instanceof Map)return i.map;if("undefined"!=typeof Set&&e instanceof Set)return i.set;if("undefined"!=typeof Date&&e instanceof Date)return i.date;return i.object;default:return i.unknown}},a=tn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class o extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof o))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}o.create=e=>new o(e);let c=(e,t)=>{let r;switch(e.code){case a.invalid_type:r=e.received===i.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case a.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tn.jsonStringifyReplacer)}`;break;case a.unrecognized_keys:r=`Unrecognized key(s) in object: ${tn.joinValues(e.keys,", ")}`;break;case a.invalid_union:r="Invalid input";break;case a.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tn.joinValues(e.options)}`;break;case a.invalid_enum_value:r=`Invalid enum value. Expected ${tn.joinValues(e.options)}, received '${e.received}'`;break;case a.invalid_arguments:r="Invalid function arguments";break;case a.invalid_return_type:r="Invalid function return type";break;case a.invalid_date:r="Invalid date";break;case a.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tn.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case a.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case a.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case a.custom:r="Invalid input";break;case a.invalid_intersection_types:r="Intersection results could not be merged";break;case a.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case a.not_finite:r="Number must be finite";break;default:r=t.defaultError,tn.assertNever(e)}return{message:r}},u=c;function l(){return u}let d=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function f(e,t){let r=l(),n=d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===c?void 0:c].filter(e=>!!e)});e.common.issues.push(n)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return p;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return h.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return p;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let p=Object.freeze({status:"aborted"}),y=e=>({status:"dirty",value:e}),m=e=>({status:"valid",value:e}),g=e=>"aborted"===e.status,b=e=>"dirty"===e.status,_=e=>"valid"===e.status,v=e=>"undefined"!=typeof Promise&&e instanceof Promise;function w(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function x(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(ts||(ts={}));class S{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let E=(e,t)=>{if(_(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new o(e.common.issues);return this._error=t,this._error}}};function A(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var s,a;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(s=null!=o?o:n)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!=o?o:r)&&void 0!==a?a:i.defaultError}},description:i}}class k{get description(){return this._def.description}_getType(e){return s(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h,ctx:{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(v(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},i=this._parseSync({data:e,path:n.path,parent:n});return E(n,i)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return _(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>_(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},n=this._parse({data:e,path:r.path,parent:r});return E(r,await (v(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),s=()=>n.addIssue({code:a.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new ev({schema:this,typeName:tc.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ew.create(this,this._def)}nullable(){return ex.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return en.create(this)}promise(){return e_.create(this,this._def)}or(e){return es.create([this,e],this._def)}and(e){return ec.create(this,e,this._def)}transform(e){return new ev({...A(this._def),schema:this,typeName:tc.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eS({...A(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:tc.ZodDefault})}brand(){return new eT({typeName:tc.ZodBranded,type:this,...A(this._def)})}catch(e){return new eE({...A(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:tc.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eR.create(this,e)}readonly(){return eO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let T=/^c[^\s-]{8,}$/i,R=/^[0-9a-z]+$/,O=/^[0-9A-HJKMNP-TV-Z]{26}$/i,P=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C=/^[a-z0-9_-]{21}$/i,I=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,j=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,F="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",H=RegExp(`^${F}$`);function W(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function q(e){let t=`${F}T${W(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class V extends k{_parse(e){var t,r,s,o;let c;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==i.string){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.string,received:t.parsedType}),p}let u=new h;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(f(c=this._getOrReturnCtx(e,c),{code:a.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),u.dirty());else if("max"===i.kind)e.data.length>i.value&&(f(c=this._getOrReturnCtx(e,c),{code:a.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),u.dirty());else if("length"===i.kind){let t=e.data.length>i.value,r=e.data.length<i.value;(t||r)&&(c=this._getOrReturnCtx(e,c),t?f(c,{code:a.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):r&&f(c,{code:a.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),u.dirty())}else if("email"===i.kind)L.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"email",code:a.invalid_string,message:i.message}),u.dirty());else if("emoji"===i.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"emoji",code:a.invalid_string,message:i.message}),u.dirty());else if("uuid"===i.kind)P.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"uuid",code:a.invalid_string,message:i.message}),u.dirty());else if("nanoid"===i.kind)C.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"nanoid",code:a.invalid_string,message:i.message}),u.dirty());else if("cuid"===i.kind)T.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"cuid",code:a.invalid_string,message:i.message}),u.dirty());else if("cuid2"===i.kind)R.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"cuid2",code:a.invalid_string,message:i.message}),u.dirty());else if("ulid"===i.kind)O.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"ulid",code:a.invalid_string,message:i.message}),u.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(t){f(c=this._getOrReturnCtx(e,c),{validation:"url",code:a.invalid_string,message:i.message}),u.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"regex",code:a.invalid_string,message:i.message}),u.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(f(c=this._getOrReturnCtx(e,c),{code:a.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),u.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(f(c=this._getOrReturnCtx(e,c),{code:a.invalid_string,validation:{startsWith:i.value},message:i.message}),u.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(f(c=this._getOrReturnCtx(e,c),{code:a.invalid_string,validation:{endsWith:i.value},message:i.message}),u.dirty()):"datetime"===i.kind?q(i).test(e.data)||(f(c=this._getOrReturnCtx(e,c),{code:a.invalid_string,validation:"datetime",message:i.message}),u.dirty()):"date"===i.kind?H.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{code:a.invalid_string,validation:"date",message:i.message}),u.dirty()):"time"===i.kind?RegExp(`^${W(i)}$`).test(e.data)||(f(c=this._getOrReturnCtx(e,c),{code:a.invalid_string,validation:"time",message:i.message}),u.dirty()):"duration"===i.kind?N.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"duration",code:a.invalid_string,message:i.message}),u.dirty()):"ip"===i.kind?(t=e.data,("v4"===(r=i.version)||!r)&&M.test(t)||("v6"===r||!r)&&U.test(t)||(f(c=this._getOrReturnCtx(e,c),{validation:"ip",code:a.invalid_string,message:i.message}),u.dirty())):"jwt"===i.kind?!function(e,t){if(!I.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,i.alg)&&(f(c=this._getOrReturnCtx(e,c),{validation:"jwt",code:a.invalid_string,message:i.message}),u.dirty()):"cidr"===i.kind?(s=e.data,("v4"===(o=i.version)||!o)&&D.test(s)||("v6"===o||!o)&&j.test(s)||(f(c=this._getOrReturnCtx(e,c),{validation:"cidr",code:a.invalid_string,message:i.message}),u.dirty())):"base64"===i.kind?B.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"base64",code:a.invalid_string,message:i.message}),u.dirty()):"base64url"===i.kind?$.test(e.data)||(f(c=this._getOrReturnCtx(e,c),{validation:"base64url",code:a.invalid_string,message:i.message}),u.dirty()):tn.assertNever(i);return{status:u.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:a.invalid_string,...ts.errToObj(r)})}_addCheck(e){return new V({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ts.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ts.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ts.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ts.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ts.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ts.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ts.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ts.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ts.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ts.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ts.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ts.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ts.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...ts.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...ts.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ts.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ts.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...ts.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ts.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ts.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ts.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ts.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ts.errToObj(t)})}nonempty(e){return this.min(1,ts.errToObj(e))}trim(){return new V({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new V({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new V({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}V.create=e=>{var t;return new V({checks:[],typeName:tc.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...A(e)})};class G extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==i.number){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.number,received:t.parsedType}),p}let r=new h;for(let n of this._def.checks)"int"===n.kind?tn.isInteger(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:a.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(f(t=this._getOrReturnCtx(e,t),{code:a.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(f(t=this._getOrReturnCtx(e,t),{code:a.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,n.value)&&(f(t=this._getOrReturnCtx(e,t),{code:a.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:a.not_finite,message:n.message}),r.dirty()):tn.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ts.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ts.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ts.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ts.toString(t))}setLimit(e,t,r,n){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ts.toString(n)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ts.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ts.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ts.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ts.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ts.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ts.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ts.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ts.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ts.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&tn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}G.create=e=>new G({checks:[],typeName:tc.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...A(e)});class K extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==i.bigint)return this._getInvalidInput(e);let r=new h;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(f(t=this._getOrReturnCtx(e,t),{code:a.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(f(t=this._getOrReturnCtx(e,t),{code:a.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(f(t=this._getOrReturnCtx(e,t),{code:a.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):tn.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.bigint,received:t.parsedType}),p}gte(e,t){return this.setLimit("min",e,!0,ts.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ts.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ts.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ts.toString(t))}setLimit(e,t,r,n){return new K({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ts.toString(n)}]})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ts.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ts.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ts.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ts.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ts.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>{var t;return new K({checks:[],typeName:tc.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...A(e)})};class z extends k{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==i.boolean){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.boolean,received:t.parsedType}),p}return m(e.data)}}z.create=e=>new z({typeName:tc.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...A(e)});class J extends k{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==i.date){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.date,received:t.parsedType}),p}if(isNaN(e.data.getTime()))return f(this._getOrReturnCtx(e),{code:a.invalid_date}),p;let r=new h;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(f(t=this._getOrReturnCtx(e,t),{code:a.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(f(t=this._getOrReturnCtx(e,t),{code:a.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):tn.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ts.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ts.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}J.create=e=>new J({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:tc.ZodDate,...A(e)});class Z extends k{_parse(e){if(this._getType(e)!==i.symbol){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.symbol,received:t.parsedType}),p}return m(e.data)}}Z.create=e=>new Z({typeName:tc.ZodSymbol,...A(e)});class Q extends k{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.undefined,received:t.parsedType}),p}return m(e.data)}}Q.create=e=>new Q({typeName:tc.ZodUndefined,...A(e)});class Y extends k{_parse(e){if(this._getType(e)!==i.null){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.null,received:t.parsedType}),p}return m(e.data)}}Y.create=e=>new Y({typeName:tc.ZodNull,...A(e)});class X extends k{constructor(){super(...arguments),this._any=!0}_parse(e){return m(e.data)}}X.create=e=>new X({typeName:tc.ZodAny,...A(e)});class ee extends k{constructor(){super(...arguments),this._unknown=!0}_parse(e){return m(e.data)}}ee.create=e=>new ee({typeName:tc.ZodUnknown,...A(e)});class et extends k{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.never,received:t.parsedType}),p}}et.create=e=>new et({typeName:tc.ZodNever,...A(e)});class er extends k{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.void,received:t.parsedType}),p}return m(e.data)}}er.create=e=>new er({typeName:tc.ZodVoid,...A(e)});class en extends k{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==i.array)return f(t,{code:a.invalid_type,expected:i.array,received:t.parsedType}),p;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(f(t,{code:e?a.too_big:a.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(f(t,{code:a.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(f(t,{code:a.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new S(t,e,t.path,r)))).then(e=>h.mergeArray(r,e));let s=[...t.data].map((e,r)=>n.type._parseSync(new S(t,e,t.path,r)));return h.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new en({...this._def,minLength:{value:e,message:ts.toString(t)}})}max(e,t){return new en({...this._def,maxLength:{value:e,message:ts.toString(t)}})}length(e,t){return new en({...this._def,exactLength:{value:e,message:ts.toString(t)}})}nonempty(e){return this.min(1,e)}}en.create=(e,t)=>new en({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tc.ZodArray,...A(t)});class ei extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=tn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==i.object){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.object,received:t.parsedType}),p}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof et&&"strip"===this._def.unknownKeys))for(let e in r.data)s.includes(e)||o.push(e);let c=[];for(let e of s){let t=n[e],i=r.data[e];c.push({key:{status:"valid",value:e},value:t._parse(new S(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof et){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of o)c.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&(f(r,{code:a.unrecognized_keys,keys:o}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of o){let n=r.data[t];c.push({key:{status:"valid",value:t},value:e._parse(new S(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of c){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>h.mergeObjectSync(t,e)):h.mergeObjectSync(t,c)}get shape(){return this._def.shape()}strict(e){return ts.errToObj,new ei({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,s,a;let o=null!==(s=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=ts.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new ei({...this._def,unknownKeys:"strip"})}passthrough(){return new ei({...this._def,unknownKeys:"passthrough"})}extend(e){return new ei({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ei({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tc.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ei({...this._def,catchall:e})}pick(e){let t={};return tn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ei({...this._def,shape:()=>t})}omit(e){let t={};return tn.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ei({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ei){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=ew.create(e(i))}return new ei({...t._def,shape:()=>r})}return t instanceof en?new en({...t._def,type:e(t.element)}):t instanceof ew?ew.create(e(t.unwrap())):t instanceof ex?ex.create(e(t.unwrap())):t instanceof eu?eu.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return tn.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new ei({...this._def,shape:()=>t})}required(e){let t={};return tn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ew;)e=e._def.innerType;t[r]=e}}),new ei({...this._def,shape:()=>t})}keyof(){return em(tn.objectKeys(this.shape))}}ei.create=(e,t)=>new ei({shape:()=>e,unknownKeys:"strip",catchall:et.create(),typeName:tc.ZodObject,...A(t)}),ei.strictCreate=(e,t)=>new ei({shape:()=>e,unknownKeys:"strict",catchall:et.create(),typeName:tc.ZodObject,...A(t)}),ei.lazycreate=(e,t)=>new ei({shape:e,unknownKeys:"strip",catchall:et.create(),typeName:tc.ZodObject,...A(t)});class es extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new o(e.ctx.common.issues));return f(t,{code:a.invalid_union,unionErrors:r}),p});{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new o(e));return f(t,{code:a.invalid_union,unionErrors:i}),p}}get options(){return this._def.options}}es.create=(e,t)=>new es({options:e,typeName:tc.ZodUnion,...A(t)});let ea=e=>{if(e instanceof ep)return ea(e.schema);if(e instanceof ev)return ea(e.innerType());if(e instanceof ey)return[e.value];if(e instanceof eg)return e.options;if(e instanceof eb)return tn.objectValues(e.enum);if(e instanceof eS)return ea(e._def.innerType);if(e instanceof Q)return[void 0];else if(e instanceof Y)return[null];else if(e instanceof ew)return[void 0,...ea(e.unwrap())];else if(e instanceof ex)return[null,...ea(e.unwrap())];else if(e instanceof eT)return ea(e.unwrap());else if(e instanceof eO)return ea(e.unwrap());else if(e instanceof eE)return ea(e._def.innerType);else return[]};class eo extends k{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.object)return f(t,{code:a.invalid_type,expected:i.object,received:t.parsedType}),p;let r=this.discriminator,n=t.data[r],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:a.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),p)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ea(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new eo({typeName:tc.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...A(r)})}}class ec extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(g(e)||g(n))return p;let o=function e(t,r){let n=s(t),a=s(r);if(t===r)return{valid:!0,data:t};if(n===i.object&&a===i.object){let n=tn.objectKeys(r),i=tn.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===i.array&&a===i.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===i.date&&a===i.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return o.valid?((b(e)||b(n))&&t.dirty(),{status:t.value,value:o.data}):(f(r,{code:a.invalid_intersection_types}),p)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ec.create=(e,t,r)=>new ec({left:e,right:t,typeName:tc.ZodIntersection,...A(r)});class eu extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.array)return f(r,{code:a.invalid_type,expected:i.array,received:r.parsedType}),p;if(r.data.length<this._def.items.length)return f(r,{code:a.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),p;!this._def.rest&&r.data.length>this._def.items.length&&(f(r,{code:a.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new S(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>h.mergeArray(t,e)):h.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eu({...this._def,rest:e})}}eu.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eu({items:e,typeName:tc.ZodTuple,rest:null,...A(t)})};class el extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.object)return f(r,{code:a.invalid_type,expected:i.object,received:r.parsedType}),p;let n=[],s=this._def.keyType,o=this._def.valueType;for(let e in r.data)n.push({key:s._parse(new S(r,e,r.path,e)),value:o._parse(new S(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?h.mergeObjectAsync(t,n):h.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new el(t instanceof k?{keyType:e,valueType:t,typeName:tc.ZodRecord,...A(r)}:{keyType:V.create(),valueType:e,typeName:tc.ZodRecord,...A(t)})}}class ed extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.map)return f(r,{code:a.invalid_type,expected:i.map,received:r.parsedType}),p;let n=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new S(r,e,r.path,[i,"key"])),value:s._parse(new S(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return p;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return p;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}ed.create=(e,t,r)=>new ed({valueType:t,keyType:e,typeName:tc.ZodMap,...A(r)});class ef extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.set)return f(r,{code:a.invalid_type,expected:i.set,received:r.parsedType}),p;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(f(r,{code:a.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(f(r,{code:a.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let s=this._def.valueType;function o(e){let r=new Set;for(let n of e){if("aborted"===n.status)return p;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let c=[...r.data.values()].map((e,t)=>s._parse(new S(r,e,r.path,t)));return r.common.async?Promise.all(c).then(e=>o(e)):o(c)}min(e,t){return new ef({...this._def,minSize:{value:e,message:ts.toString(t)}})}max(e,t){return new ef({...this._def,maxSize:{value:e,message:ts.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ef.create=(e,t)=>new ef({valueType:e,minSize:null,maxSize:null,typeName:tc.ZodSet,...A(t)});class eh extends k{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.function)return f(t,{code:a.invalid_type,expected:i.function,received:t.parsedType}),p;function r(e,r){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l(),c].filter(e=>!!e),issueData:{code:a.invalid_arguments,argumentsError:r}})}function n(e,r){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l(),c].filter(e=>!!e),issueData:{code:a.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof e_){let e=this;return m(async function(...t){let i=new o([]),a=await e._def.args.parseAsync(t,s).catch(e=>{throw i.addIssue(r(t,e)),i}),c=await Reflect.apply(u,this,a);return await e._def.returns._def.type.parseAsync(c,s).catch(e=>{throw i.addIssue(n(c,e)),i})})}{let e=this;return m(function(...t){let i=e._def.args.safeParse(t,s);if(!i.success)throw new o([r(t,i.error)]);let a=Reflect.apply(u,this,i.data),c=e._def.returns.safeParse(a,s);if(!c.success)throw new o([n(a,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eh({...this._def,args:eu.create(e).rest(ee.create())})}returns(e){return new eh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eh({args:e||eu.create([]).rest(ee.create()),returns:t||ee.create(),typeName:tc.ZodFunction,...A(r)})}}class ep extends k{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ep.create=(e,t)=>new ep({getter:e,typeName:tc.ZodLazy,...A(t)});class ey extends k{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:a.invalid_literal,expected:this._def.value}),p}return{status:"valid",value:e.data}}get value(){return this._def.value}}function em(e,t){return new eg({values:e,typeName:tc.ZodEnum,...A(t)})}ey.create=(e,t)=>new ey({value:e,typeName:tc.ZodLiteral,...A(t)});class eg extends k{constructor(){super(...arguments),ta.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return f(t,{expected:tn.joinValues(r),received:t.parsedType,code:a.invalid_type}),p}if(w(this,ta,"f")||x(this,ta,new Set(this._def.values),"f"),!w(this,ta,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return f(t,{received:t.data,code:a.invalid_enum_value,options:r}),p}return m(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eg.create(e,{...this._def,...t})}exclude(e,t=this._def){return eg.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ta=new WeakMap,eg.create=em;class eb extends k{constructor(){super(...arguments),to.set(this,void 0)}_parse(e){let t=tn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==i.string&&r.parsedType!==i.number){let e=tn.objectValues(t);return f(r,{expected:tn.joinValues(e),received:r.parsedType,code:a.invalid_type}),p}if(w(this,to,"f")||x(this,to,new Set(tn.getValidEnumValues(this._def.values)),"f"),!w(this,to,"f").has(e.data)){let e=tn.objectValues(t);return f(r,{received:r.data,code:a.invalid_enum_value,options:e}),p}return m(e.data)}get enum(){return this._def.values}}to=new WeakMap,eb.create=(e,t)=>new eb({values:e,typeName:tc.ZodNativeEnum,...A(t)});class e_ extends k{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==i.promise&&!1===t.common.async?(f(t,{code:a.invalid_type,expected:i.promise,received:t.parsedType}),p):m((t.parsedType===i.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}e_.create=(e,t)=>new e_({type:e,typeName:tc.ZodPromise,...A(t)});class ev extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tc.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{f(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return p;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?p:"dirty"===n.status||"dirty"===t.value?y(n.value):n});{if("aborted"===t.value)return p;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?p:"dirty"===n.status||"dirty"===t.value?y(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?p:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?p:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>_(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_(e))return e;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}tn.assertNever(n)}}ev.create=(e,t,r)=>new ev({schema:e,typeName:tc.ZodEffects,effect:t,...A(r)}),ev.createWithPreprocess=(e,t,r)=>new ev({schema:t,effect:{type:"preprocess",transform:e},typeName:tc.ZodEffects,...A(r)});class ew extends k{_parse(e){return this._getType(e)===i.undefined?m(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ew.create=(e,t)=>new ew({innerType:e,typeName:tc.ZodOptional,...A(t)});class ex extends k{_parse(e){return this._getType(e)===i.null?m(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ex.create=(e,t)=>new ex({innerType:e,typeName:tc.ZodNullable,...A(t)});class eS extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===i.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:tc.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...A(t)});class eE extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return v(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new o(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new o(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eE.create=(e,t)=>new eE({innerType:e,typeName:tc.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...A(t)});class eA extends k{_parse(e){if(this._getType(e)!==i.nan){let t=this._getOrReturnCtx(e);return f(t,{code:a.invalid_type,expected:i.nan,received:t.parsedType}),p}return{status:"valid",value:e.data}}}eA.create=e=>new eA({typeName:tc.ZodNaN,...A(e)});let ek=Symbol("zod_brand");class eT extends k{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eR extends k{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),y(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eR({in:e,out:t,typeName:tc.ZodPipeline})}}class eO extends k{_parse(e){let t=this._def.innerType._parse(e),r=e=>(_(e)&&(e.value=Object.freeze(e.value)),e);return v(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eP(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eC(e,t={},r){return e?X.create().superRefine((n,i)=>{var s,a;let o=e(n);if(o instanceof Promise)return o.then(e=>{var s,a;if(!e){let e=eP(t,n),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=eP(t,n),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:o})}}):X.create()}eO.create=(e,t)=>new eO({innerType:e,typeName:tc.ZodReadonly,...A(t)});let eI={object:ei.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(tc||(tc={}));let eN=V.create,eL=G.create,eM=eA.create,eD=K.create,eU=z.create,ej=J.create,eB=Z.create,e$=Q.create,eF=Y.create,eH=X.create,eW=ee.create,eq=et.create,eV=er.create,eG=en.create,eK=ei.create,ez=ei.strictCreate,eJ=es.create,eZ=eo.create,eQ=ec.create,eY=eu.create,eX=el.create,e0=ed.create,e1=ef.create,e2=eh.create,e5=ep.create,e6=ey.create,e3=eg.create,e4=eb.create,e8=e_.create,e9=ev.create,e7=ew.create,te=ex.create,tt=ev.createWithPreprocess,tr=eR.create;var tn,ti,ts,ta,to,tc,tu=Object.freeze({__proto__:null,defaultErrorMap:c,setErrorMap:function(e){u=e},getErrorMap:l,makeIssue:d,EMPTY_PATH:[],addIssueToContext:f,ParseStatus:h,INVALID:p,DIRTY:y,OK:m,isAborted:g,isDirty:b,isValid:_,isAsync:v,get util(){return tn},get objectUtil(){return ti},ZodParsedType:i,getParsedType:s,ZodType:k,datetimeRegex:q,ZodString:V,ZodNumber:G,ZodBigInt:K,ZodBoolean:z,ZodDate:J,ZodSymbol:Z,ZodUndefined:Q,ZodNull:Y,ZodAny:X,ZodUnknown:ee,ZodNever:et,ZodVoid:er,ZodArray:en,ZodObject:ei,ZodUnion:es,ZodDiscriminatedUnion:eo,ZodIntersection:ec,ZodTuple:eu,ZodRecord:el,ZodMap:ed,ZodSet:ef,ZodFunction:eh,ZodLazy:ep,ZodLiteral:ey,ZodEnum:eg,ZodNativeEnum:eb,ZodPromise:e_,ZodEffects:ev,ZodTransformer:ev,ZodOptional:ew,ZodNullable:ex,ZodDefault:eS,ZodCatch:eE,ZodNaN:eA,BRAND:ek,ZodBranded:eT,ZodPipeline:eR,ZodReadonly:eO,custom:eC,Schema:k,ZodSchema:k,late:eI,get ZodFirstPartyTypeKind(){return tc},coerce:{string:e=>V.create({...e,coerce:!0}),number:e=>G.create({...e,coerce:!0}),boolean:e=>z.create({...e,coerce:!0}),bigint:e=>K.create({...e,coerce:!0}),date:e=>J.create({...e,coerce:!0})},any:eH,array:eG,bigint:eD,boolean:eU,date:ej,discriminatedUnion:eZ,effect:e9,enum:e3,function:e2,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>eC(t=>t instanceof e,t),intersection:eQ,lazy:e5,literal:e6,map:e0,nan:eM,nativeEnum:e4,never:eq,null:eF,nullable:te,number:eL,object:eK,oboolean:()=>eU().optional(),onumber:()=>eL().optional(),optional:e7,ostring:()=>eN().optional(),pipeline:tr,preprocess:tt,promise:e8,record:eX,set:e1,strictObject:ez,string:eN,symbol:eB,transformer:e9,tuple:eY,undefined:e$,union:eJ,unknown:eW,void:eV,NEVER:p,ZodIssueCode:a,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:o})}};