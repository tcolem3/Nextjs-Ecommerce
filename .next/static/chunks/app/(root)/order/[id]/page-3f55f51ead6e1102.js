(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{28487:(e,r,t)=>{Promise.resolve().then(t.bind(t,49340))},49340:(e,r,t)=>{"use strict";t.d(r,{default:()=>N});var a=t(95155),s=t(12115),n=t(31027),i=t(29602);let d=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(d({variant:t}),r),...s})}var c=t(35007),o=t(22079),u=t(48173),f=t.n(u),m=t(5565),x=t(19034),h=t(75828);let p=(0,h.createServerReference)("403cdf99df8430942dbac8263bae7b8de3b5c4ecb4",h.callServer,void 0,h.findSourceMapURL,"createPayPalOrder"),v=(0,h.createServerReference)("60c3c6fe4fa488a80553280995f2a486feabdc1e9a",h.callServer,void 0,h.findSourceMapURL,"approvePayPalOrder");var b=t(30814);let g=(0,h.createServerReference)("40994502f91c9f451017153f0debb1bc85285acee9",h.callServer,void 0,h.findSourceMapURL,"updateOrderToPaidCOD"),j=(0,h.createServerReference)("400a81cbfb87fd4411ad9cf05eaac891eb02fb2447",h.callServer,void 0,h.findSourceMapURL,"deliverOrder");var y=t(14085);let N=e=>{let{order:r,paypalClientId:t,isAdmin:n}=e,{id:d,shippingAddress:u,orderitems:h,itemsPrice:N,shippingPrice:w,taxPrice:R,totalPrice:S,paymentMethod:T,isDelivered:k,isPaid:P,paidAt:C,deliveredAt:O}=r,A=async()=>{let e=await p(r.id);return e.success||b.o.error(e.message),e.data},D=async e=>{let t=await v(r.id,e);t.success?b.o.message(t.message):b.o.error(t.message)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h1",{className:"py-4 text-2xl",children:["Order ",(0,i.hX)(d)]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 md:gap-5",children:[(0,a.jsxs)("div",{className:"col-span-2 space-4-y overlow-x-auto",children:[(0,a.jsx)(c.Zp,{children:(0,a.jsxs)(c.Wu,{className:"p-4 gap-4",children:[(0,a.jsx)("h2",{className:"text-xl pb-4",children:" Payment Method "}),(0,a.jsx)("p",{className:"mb-2",children:T}),P?(0,a.jsxs)(l,{variant:"secondary",children:["Paid at ",(0,i.r6)(C).dateTime]}):(0,a.jsx)(l,{variant:"destructive",children:"Not paid"})]})}),(0,a.jsx)(c.Zp,{className:"my-2",children:(0,a.jsxs)(c.Wu,{className:"p-4 gap-4",children:[(0,a.jsx)("h2",{className:"text-xl pb-4",children:" Shipping Address "}),(0,a.jsx)("p",{children:u.fullName}),(0,a.jsxs)("p",{className:"mb-2",children:[u.streetAddress,", ",u.city,", ",u.postalCode,", ",u.country]}),k?(0,a.jsxs)(l,{variant:"secondary",children:["Delivered at ",(0,i.r6)(O).dateTime]}):(0,a.jsx)(l,{variant:"destructive",children:"Not Delivered"})]})}),(0,a.jsx)(c.Zp,{children:(0,a.jsxs)(c.Wu,{className:"p-4 gap-4",children:[(0,a.jsx)("h2",{className:"text-xl pb-4",children:"Order Items"}),(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Item"}),(0,a.jsx)(o.nd,{children:"Quantity"}),(0,a.jsx)(o.nd,{children:"Price"})]})}),(0,a.jsx)(o.BF,{children:h.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{children:(0,a.jsxs)(f(),{href:"/product/{item.slug}",className:"flex items-center",children:[(0,a.jsx)(m.default,{src:e.image,alt:e.name,width:50,height:50}),(0,a.jsx)("span",{className:"px-2",children:e.name})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("span",{className:"px-2",children:e.qty})}),(0,a.jsxs)(o.nA,{className:"text-right",children:["$",e.price]})]},e.slug))})]})]})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(c.Zp,{children:(0,a.jsxs)(c.Wu,{className:"p-4 gap-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{children:"Item"}),(0,a.jsx)("div",{children:(0,i.vv)(N)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{children:"Tax"}),(0,a.jsx)("div",{children:(0,i.vv)(R)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{children:"Shipping"}),(0,a.jsx)("div",{children:(0,i.vv)(w)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{children:"Total"}),(0,a.jsx)("div",{children:(0,i.vv)(S)})]}),!P&&"PayPal"===T&&(0,a.jsx)("div",{children:(0,a.jsxs)(x.ag,{options:{clientId:t},children:[(0,a.jsx)(()=>{let[{isPending:e,isRejected:r}]=(0,x.Gi)(),t="";return e?t="Loading PayPal.....":r&&(t="Error Loading PayPal"),t},{}),(0,a.jsx)(x.JV,{createOrder:A,onApprove:D})]})}),n&&!P&&"CashOnDelivery"===T&&(0,a.jsx)(()=>{let[e,t]=(0,s.useTransition)();return(0,a.jsx)(y.$,{type:"button",disabled:e,onClick:()=>t(async()=>{let e=await g(r.id);b.o.success(e.message)}),children:e?"processing...":"Mark as Paid"})},{}),n&&P&&!k&&(0,a.jsx)(()=>{let[e,t]=(0,s.useTransition)();return(0,a.jsx)(y.$,{type:"button",disabled:e,onClick:()=>t(async()=>{let e=await j(r.id);b.o.success(e.message)}),children:e?"processing...":"Mark as Delivered"})},{})]})})})]})]})}},14085:(e,r,t)=>{"use strict";t.d(r,{$:()=>c,r:()=>l});var a=t(95155),s=t(12115),n=t(12317),i=t(31027),d=t(29602);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:c=!1,...o}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(l({variant:s,size:i,className:t})),ref:r,...o})});c.displayName="Button"},35007:(e,r,t)=>{"use strict";t.d(r,{Wu:()=>d,Zp:()=>i});var a=t(95155),s=t(12115),n=t(29602);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})}).displayName="CardHeader",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})}).displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},22079:(e,r,t)=>{"use strict";t.d(r,{A0:()=>d,BF:()=>l,Hj:()=>c,XI:()=>i,nA:()=>u,nd:()=>o});var a=t(95155),s=t(12115),n=t(29602);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",t),...s})})});i.displayName="Table";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",t),...s})});d.displayName="TableHeader";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...s})});l.displayName="TableBody",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})}).displayName="TableFooter";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});c.displayName="TableRow";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});o.displayName="TableHead";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});u.displayName="TableCell",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...s})}).displayName="TableCaption"},29602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i,eT:()=>d,eu:()=>f,hX:()=>o,r6:()=>u,vv:()=>c});var a=t(43463),s=t(69795),n=t(58926);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}function d(e){let[r,t]=e.toString().split(".");return t?"".concat(r,".").concat(t.padEnd(2,"0")):"".concat(r,".00")}let l=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency",minimumFractionDigits:2});function c(e){return"number"==typeof e?l.format(e):"string"==typeof e?l.format(Number(e)):"NaN"}function o(e){return"..".concat(e.substring(e.length-6))}let u=e=>({dateTime:new Date(e).toLocaleString("en-US",{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),dateOnly:new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",year:"numeric",day:"numeric"}),timeOnly:new Date(e).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})});function f(e){let{params:r,key:t,value:a}=e,s=n.A.parse(r);return s[t]=a,n.A.stringifyUrl({url:window.location.pathname,query:s},{skipNull:!0})}new Intl.NumberFormat("en-US")}},e=>{var r=r=>e(e.s=r);e.O(0,[534,173,970,814,825,441,517,358],()=>r(28487)),_N_E=e.O()}]);